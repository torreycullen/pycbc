

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>pycbc.tmpltbank package &mdash; PyCBC 0.1 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="PyCBC 0.1 documentation" href="index.html"/>
        <link rel="up" title="PyCBC template bank generation documentation (pycbc.tmpltbank)" href="tmpltbank.html"/>
        <link rel="prev" title="PyCBC template bank generation documentation (pycbc.tmpltbank)" href="tmpltbank.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        

        
          <a href="index.html" class="icon icon-home"> PyCBC
        

        
        </a>

        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installing PyCBC</a><ul>
<li class="toctree-l2"><a class="reference internal" href="install.html#setting-up-a-virtual-environment-for-installing-pycbc">Setting up a virtual environment for installing PyCBC</a><ul>
<li class="toctree-l3"><a class="reference internal" href="install_virtualenv.html">Setting up virtualenv</a><ul>
<li class="toctree-l4"><a class="reference internal" href="install_virtualenv.html#install-pip">Install pip</a></li>
<li class="toctree-l4"><a class="reference internal" href="install_virtualenv.html#install-virtualenv">Install virtualenv</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="install.html#installing-lalsuite-into-a-virtual-environment">Installing lalsuite into a virtual environment</a><ul>
<li class="toctree-l3"><a class="reference internal" href="install_lalsuite.html">Installing lalsuite for PyCBC</a><ul>
<li class="toctree-l4"><a class="reference internal" href="install_lalsuite.html#obtaining-the-source-code-and-checking-out-a-version">Obtaining the source code and checking out a version</a></li>
<li class="toctree-l4"><a class="reference internal" href="install_lalsuite.html#building-and-installing-into-your-virtual-environment">Building and installing into your virtual environment</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="install.html#installing-pycbc-in-a-virtual-environment">Installing PyCBC in a virtual environment</a><ul>
<li class="toctree-l3"><a class="reference internal" href="install.html#installing-a-released-version-of-pycbc">Installing a released version of PyCBC</a></li>
<li class="toctree-l3"><a class="reference internal" href="install.html#installing-source-from-github-for-development">Installing source from GitHub for development</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="install.html#building-and-installing-documentation">Building and Installing Documentation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="build_gh_pages.html">Building Documentation for Git Hub Pages</a><ul>
<li class="toctree-l4"><a class="reference internal" href="build_gh_pages.html#creating-a-git-hub-project-page">Creating a Git Hub project page</a></li>
<li class="toctree-l4"><a class="reference internal" href="build_gh_pages.html#building-and-pushing-the-documentation">Building and pushing the documentation</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="install.html#modifying-pycbc-glue-and-pycbc-pylal">Modifying pycbc-glue and pycbc-pylal</a></li>
<li class="toctree-l2"><a class="reference internal" href="install.html#use-of-intel-mkl-optimized-fft-libraries">Use of Intel MKL Optimized FFT libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="install.html#graphics-processing-unit-support-with-cuda">Graphics Processing Unit support with CUDA</a><ul>
<li class="toctree-l3"><a class="reference internal" href="install_cuda.html">Instructions to add CUDA support (optional)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="install_cuda.html#installing-the-cuda-dependencies">Installing the CUDA dependencies</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="workflow.html">Workflow: the inspiral analysis workflow generator (<code class="docutils literal"><span class="pre">pycbc.workflow</span></code>)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="workflow.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="workflow.html#workflow-to-do-list">Workflow to do list</a></li>
<li class="toctree-l2"><a class="reference internal" href="workflow.html#examples">Examples</a><ul>
<li class="toctree-l3"><a class="reference internal" href="workflow.html#pycbc-make-coinc-workflow"><code class="docutils literal"><span class="pre">pycbc_make_coinc_workflow</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="workflow/pycbc_make_coinc_workflow.html"><code class="docutils literal"><span class="pre">pycbc_make_coinc_workflow</span></code>: A CBC analysis workflow generator</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="workflow.html#pycbc-make-sngl-workflow"><code class="docutils literal"><span class="pre">pycbc_make_sngl_workflow</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="workflow/pycbc_make_sngl_workflow.html"><code class="docutils literal"><span class="pre">pycbc_make_sngl_workflow</span></code>: A single-ifo detchar tool</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="workflow.html#pycbc-make-daily-workflow"><code class="docutils literal"><span class="pre">pycbc_make_daily_workflow</span></code></a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="workflow.html#data-checker"><cite>data_checker</cite></a></li>
<li class="toctree-l3"><a class="reference internal" href="workflow.html#pygrb"><code class="docutils literal"><span class="pre">pygrb</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="workflow/pygrb.html">PyGRB: A GRB triggered CBC analysis workflow generator</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="workflow.html#workflow-module-documentation">Workflow module documentation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="workflow.html#initialization">Initialization</a><ul>
<li class="toctree-l4"><a class="reference internal" href="workflow/initialization.html">Pycbc&#8217;s workflow module configuration file(s) and command line interface</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="workflow.html#generating-segments">Generating segments</a><ul>
<li class="toctree-l4"><a class="reference internal" href="workflow/segments.html">The workflow segment generation module</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="workflow.html#obtaining-data">Obtaining data</a><ul>
<li class="toctree-l4"><a class="reference internal" href="workflow/datafind.html">The workflow datafind and validation module</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="workflow.html#injection-generation">Injection generation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="workflow/injections.html">The workflow injection generation module</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="workflow.html#time-slide-generation">Time-slide generation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="workflow/time_slides.html">The workflow time-slide generation module</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="workflow.html#template-bank">Template bank</a><ul>
<li class="toctree-l4"><a class="reference internal" href="workflow/template_bank.html">The workflow template bank generation module</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="workflow.html#split-table">Split table</a><ul>
<li class="toctree-l4"><a class="reference internal" href="workflow/splittable.html">The workflow table splitting module</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="workflow.html#matched-filtering">Matched-filtering</a><ul>
<li class="toctree-l4"><a class="reference internal" href="workflow/matched_filter.html">The workflow matched-filter module</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="workflow.html#coincidence">Coincidence</a><ul>
<li class="toctree-l4"><a class="reference internal" href="workflow/coincidence.html">The workflow coincidence module</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="workflow.html#post-processing-preparation">Post processing preparation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="workflow/postprocprep.html">The workflow postprocessing preparation module</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="workflow.html#post-processing">Post-processing</a><ul>
<li class="toctree-l4"><a class="reference internal" href="workflow/postproc.html">The workflow postprocessing module</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="workflow.html#method-documentation">Method documentation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="pycbc.workflow.html">pycbc.workflow package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="pycbc.workflow.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="pycbc.workflow.html#module-pycbc.workflow.analysislogging">pycbc.workflow.analysislogging module</a></li>
<li class="toctree-l4"><a class="reference internal" href="pycbc.workflow.html#module-pycbc.workflow.coincidence">pycbc.workflow.coincidence module</a></li>
<li class="toctree-l4"><a class="reference internal" href="pycbc.workflow.html#module-pycbc.workflow.configparser_test">pycbc.workflow.configparser_test module</a></li>
<li class="toctree-l4"><a class="reference internal" href="pycbc.workflow.html#module-pycbc.workflow.configuration">pycbc.workflow.configuration module</a></li>
<li class="toctree-l4"><a class="reference internal" href="pycbc.workflow.html#module-pycbc.workflow.core">pycbc.workflow.core module</a></li>
<li class="toctree-l4"><a class="reference internal" href="pycbc.workflow.html#module-pycbc.workflow.datafind">pycbc.workflow.datafind module</a></li>
<li class="toctree-l4"><a class="reference internal" href="pycbc.workflow.html#module-pycbc.workflow.injection">pycbc.workflow.injection module</a></li>
<li class="toctree-l4"><a class="reference internal" href="pycbc.workflow.html#module-pycbc.workflow.jobsetup">pycbc.workflow.jobsetup module</a></li>
<li class="toctree-l4"><a class="reference internal" href="pycbc.workflow.html#module-pycbc.workflow.legacy_ihope">pycbc.workflow.legacy_ihope module</a></li>
<li class="toctree-l4"><a class="reference internal" href="pycbc.workflow.html#module-pycbc.workflow.matched_filter">pycbc.workflow.matched_filter module</a></li>
<li class="toctree-l4"><a class="reference internal" href="pycbc.workflow.html#module-pycbc.workflow.pegasus_workflow">pycbc.workflow.pegasus_workflow module</a></li>
<li class="toctree-l4"><a class="reference internal" href="pycbc.workflow.html#module-pycbc.workflow.plotting">pycbc.workflow.plotting module</a></li>
<li class="toctree-l4"><a class="reference internal" href="pycbc.workflow.html#module-pycbc.workflow.postprocessing">pycbc.workflow.postprocessing module</a></li>
<li class="toctree-l4"><a class="reference internal" href="pycbc.workflow.html#module-pycbc.workflow.postprocessing_prep">pycbc.workflow.postprocessing_prep module</a></li>
<li class="toctree-l4"><a class="reference internal" href="pycbc.workflow.html#module-pycbc.workflow.segment">pycbc.workflow.segment module</a></li>
<li class="toctree-l4"><a class="reference internal" href="pycbc.workflow.html#module-pycbc.workflow.splittable">pycbc.workflow.splittable module</a></li>
<li class="toctree-l4"><a class="reference internal" href="pycbc.workflow.html#module-pycbc.workflow.summaryplots">pycbc.workflow.summaryplots module</a></li>
<li class="toctree-l4"><a class="reference internal" href="pycbc.workflow.html#module-pycbc.workflow.timeslides">pycbc.workflow.timeslides module</a></li>
<li class="toctree-l4"><a class="reference internal" href="pycbc.workflow.html#module-pycbc.workflow.tmpltbank">pycbc.workflow.tmpltbank module</a></li>
<li class="toctree-l4"><a class="reference internal" href="pycbc.workflow.html#module-pycbc.workflow">Module contents</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="tmpltbank.html">PyCBC template bank generation documentation (<code class="docutils literal"><span class="pre">pycbc.tmpltbank</span></code>)</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="tmpltbank.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="tmpltbank.html#non-spin-bank-placement-pycbc-geom-nonspinbank">Non spin bank placement: pycbc_geom_nonspinbank</a><ul>
<li class="toctree-l3"><a class="reference internal" href="tmpltbank.html#overview">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="tmpltbank.html#background">Background</a></li>
<li class="toctree-l3"><a class="reference internal" href="tmpltbank.html#some-examples">Some examples</a></li>
<li class="toctree-l3"><a class="reference internal" href="tmpltbank.html#command-line-options">Command line options</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tmpltbank.html#aligned-spin-geometric-placement-pycbc-geom-aligned-bank">Aligned-spin geometric placement: pycbc_geom_aligned_bank</a><ul>
<li class="toctree-l3"><a class="reference internal" href="tmpltbank.html#id1">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="tmpltbank.html#id2">Background</a></li>
<li class="toctree-l3"><a class="reference internal" href="tmpltbank.html#id3">Some examples</a></li>
<li class="toctree-l3"><a class="reference internal" href="tmpltbank.html#id4">Command line options</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tmpltbank.html#aligned-spin-stochastic-placement">Aligned-spin stochastic placement</a><ul>
<li class="toctree-l3"><a class="reference internal" href="tmpltbank.html#id5">Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="tmpltbank.html#id6">Background</a></li>
<li class="toctree-l3"><a class="reference internal" href="tmpltbank.html#ian-s-recommendation-which-stochastic-code-should-i-use">Ian&#8217;s recommendation: Which stochastic code should I use?</a><ul>
<li class="toctree-l4"><a class="reference internal" href="tmpltbank.html#i-want-to-use-the-f2-or-r2f4-metric">I want to use the F2 or R2F4 metric</a></li>
<li class="toctree-l4"><a class="reference internal" href="tmpltbank.html#i-want-to-use-another-metric-ie-an-imr-metric">I want to use another metric, ie. an IMR metric</a></li>
<li class="toctree-l4"><a class="reference internal" href="tmpltbank.html#i-want-to-use-direct-match">I want to use direct match</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="tmpltbank.html#id7">Some examples</a></li>
<li class="toctree-l3"><a class="reference internal" href="tmpltbank.html#command-line-options-pycbc-aligned-stoch-bank">Command line options: pycbc_aligned_stoch_bank</a></li>
<li class="toctree-l3"><a class="reference internal" href="tmpltbank.html#command-line-options-lalapps-cbc-sbank">Command line options: lalapps_cbc_sbank</a></li>
<li class="toctree-l3"><a class="reference internal" href="tmpltbank.html#command-line-options-lalapps-cbc-sbank-pipe">Command line options: lalapps_cbc_sbank_pipe</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tmpltbank.html#hybrid-approaches-the-best-of-both-worlds">Hybrid approaches: the best of both worlds</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="tmpltbank.html#the-module-s-source-code">The module&#8217;s source code</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="">pycbc.tmpltbank package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-pycbc.tmpltbank.bank_output_utils">pycbc.tmpltbank.bank_output_utils module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-pycbc.tmpltbank.brute_force_methods">pycbc.tmpltbank.brute_force_methods module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-pycbc.tmpltbank.calc_moments">pycbc.tmpltbank.calc_moments module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-pycbc.tmpltbank.coord_utils">pycbc.tmpltbank.coord_utils module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-pycbc.tmpltbank.em_progenitors">pycbc.tmpltbank.em_progenitors module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-pycbc.tmpltbank.lambda_mapping">pycbc.tmpltbank.lambda_mapping module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-pycbc.tmpltbank.lattice_utils">pycbc.tmpltbank.lattice_utils module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-pycbc.tmpltbank.option_utils">pycbc.tmpltbank.option_utils module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-pycbc.tmpltbank.partitioned_bank">pycbc.tmpltbank.partitioned_bank module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-pycbc.tmpltbank">Module contents</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="pycbc.psd.html">pycbc.psd package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="pycbc.psd.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="pycbc.psd.html#module-pycbc.psd.analytical">pycbc.psd.analytical module</a></li>
<li class="toctree-l4"><a class="reference internal" href="pycbc.psd.html#module-pycbc.psd.estimate">pycbc.psd.estimate module</a></li>
<li class="toctree-l4"><a class="reference internal" href="pycbc.psd.html#module-pycbc.psd.read">pycbc.psd.read module</a></li>
<li class="toctree-l4"><a class="reference internal" href="pycbc.psd.html#module-pycbc.psd">Module contents</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="pycbc.noise.html">pycbc.noise package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="pycbc.noise.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="pycbc.noise.html#module-pycbc.noise.gaussian">pycbc.noise.gaussian module</a></li>
<li class="toctree-l4"><a class="reference internal" href="pycbc.noise.html#module-pycbc.noise">Module contents</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="frame.html">Reading Gravitational-wave Frames (<code class="docutils literal"><span class="pre">pycbc.frame</span></code>)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="frame.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="frame.html#module-pycbc.frame">Method documentation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="banksim.html">Dag Generator for Doing Banksims</a><ul>
<li class="toctree-l2"><a class="reference internal" href="banksim.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="banksim.html#how-to-generate-a-workflow-to-do-a-large-banksim">How to generate a workflow to do a large banksim</a><ul>
<li class="toctree-l3"><a class="reference internal" href="banksim.html#creating-an-ini-file">Creating an INI file</a></li>
<li class="toctree-l3"><a class="reference internal" href="banksim.html#generating-the-workflow">Generating the workflow</a></li>
<li class="toctree-l3"><a class="reference internal" href="banksim.html#understanding-the-results">Understanding the results</a></li>
<li class="toctree-l3"><a class="reference internal" href="banksim.html#workflow-considerations">Workflow considerations</a></li>
<li class="toctree-l3"><a class="reference internal" href="banksim.html#example-config-files">Example config files</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="faithsim.html">Dag Generator for Doing Faithfulness Comparisons</a><ul>
<li class="toctree-l2"><a class="reference internal" href="faithsim.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="faithsim.html#how-to-generate-a-workflow">How to generate a workflow</a><ul>
<li class="toctree-l3"><a class="reference internal" href="faithsim.html#creating-a-configuration-ini-file">Creating a configuration (.ini) file</a></li>
<li class="toctree-l3"><a class="reference internal" href="faithsim.html#generating-the-workflow">Generating the workflow</a></li>
<li class="toctree-l3"><a class="reference internal" href="faithsim.html#understanding-the-results">Understanding the results</a></li>
<li class="toctree-l3"><a class="reference internal" href="faithsim.html#example-config-files">Example config files</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="workflow/pycbc_bns_hdf_config_walkthrough.html">Walkthrough of running the PyCBC BNS focused pipeline on SUGAR</a><ul>
<li class="toctree-l2"><a class="reference internal" href="workflow/pycbc_bns_hdf_config_walkthrough.html#run-sh">run.sh</a></li>
<li class="toctree-l2"><a class="reference internal" href="workflow/pycbc_bns_hdf_config_walkthrough.html#config-file">config file</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="waveform.html">Waveforms</a><ul>
<li class="toctree-l2"><a class="reference internal" href="waveform.html#what-waveforms-can-i-generate">What waveforms can I generate?</a></li>
<li class="toctree-l2"><a class="reference internal" href="waveform.html#plotting-time-domain-waveforms">Plotting Time Domain Waveforms</a></li>
<li class="toctree-l2"><a class="reference internal" href="waveform.html#calculating-the-match-between-waveforms">Calculating the match between waveforms</a></li>
<li class="toctree-l2"><a class="reference internal" href="waveform.html#plotting-a-td-and-fd-waveform-together-in-the-td">Plotting a TD and FD waveform together in the TD</a></li>
<li class="toctree-l2"><a class="reference internal" href="waveform.html#plotting-gw-phase-and-amplitude-of-td-waveform">Plotting GW phase and amplitude of TD waveform</a></li>
<li class="toctree-l2"><a class="reference internal" href="waveform.html#plotting-frequency-evolution-of-td-waveform">Plotting frequency evolution of TD waveform</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="documentation.html">Documenting PyCBC code</a><ul>
<li class="toctree-l2"><a class="reference internal" href="documentation.html#sphinx">Sphinx</a></li>
<li class="toctree-l2"><a class="reference internal" href="documentation.html#documenting-the-pycbc-package">Documenting the PyCBC package</a></li>
<li class="toctree-l2"><a class="reference internal" href="documentation.html#documenting-pycbc-modules">Documenting PyCBC modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="documentation.html#documenting-pycbc-scripts">Documenting PyCBC scripts</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="release.html">Creating Releases of PyCBC</a><ul>
<li class="toctree-l2"><a class="reference internal" href="release.html#creating-the-release-on-github">Creating the release on GitHub</a></li>
<li class="toctree-l2"><a class="reference internal" href="release.html#uploading-to-the-python-package-index">Uploading to the Python Package Index</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="formats/hdf_format.html">HDF files within the PyCBC workflow</a><ul>
<li class="toctree-l2"><a class="reference internal" href="formats/hdf_format.html#single-inspiral-triggers">single inspiral triggers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="formats/hdf_format.html#executables">Executables</a></li>
<li class="toctree-l3"><a class="reference internal" href="formats/hdf_format.html#specification">Specification</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="formats/hdf_format.html#combined-single-inspiral-triggers">combined single inspiral triggers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="formats/hdf_format.html#id1">Executables</a></li>
<li class="toctree-l3"><a class="reference internal" href="formats/hdf_format.html#id2">Specification</a></li>
<li class="toctree-l3"><a class="reference internal" href="formats/hdf_format.html#example-uses">Example uses</a></li>
</ul>
</li>
</ul>
</li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">PyCBC</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
          <li><a href="tmpltbank.html">PyCBC template bank generation documentation (<code class="docutils literal"><span class="pre">pycbc.tmpltbank</span></code>)</a> &raquo;</li>
      
    <li>pycbc.tmpltbank package</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/pycbc.tmpltbank.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="pycbc-tmpltbank-package">
<h1>pycbc.tmpltbank package<a class="headerlink" href="#pycbc-tmpltbank-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-pycbc.tmpltbank.bank_output_utils">
<span id="pycbc-tmpltbank-bank-output-utils-module"></span><h2>pycbc.tmpltbank.bank_output_utils module<a class="headerlink" href="#module-pycbc.tmpltbank.bank_output_utils" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="pycbc.tmpltbank.bank_output_utils.calculate_ethinca_metric_comps">
<code class="descclassname">pycbc.tmpltbank.bank_output_utils.</code><code class="descname">calculate_ethinca_metric_comps</code><span class="sig-paren">(</span><em>metricParams</em>, <em>ethincaParams</em>, <em>mass1</em>, <em>mass2</em>, <em>spin1z=0.0</em>, <em>spin2z=0.0</em>, <em>full_ethinca=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/bank_output_utils.html#calculate_ethinca_metric_comps"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.tmpltbank.bank_output_utils.calculate_ethinca_metric_comps" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the Gamma components needed to use the ethinca metric.
At present this outputs the standard TaylorF2 metric over the end time 
and chirp times     au_0 and        au_3.
A desirable upgrade might be to use the chi coordinates [defined WHERE?] 
for metric distance instead of      au_0 and        au_3.
The lower frequency cutoff is currently hard-coded to be the same as the 
bank layout options fLow and f0 (which must be the same as each other).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>metricParams</strong> : metricParameters instance</p>
<blockquote>
<div><p>Structure holding all the options for construction of the metric
and the eigenvalues, eigenvectors and covariance matrix
needed to manipulate the space.</p>
</div></blockquote>
<p><strong>ethincaParams</strong> : ethincaParameters instance</p>
<blockquote>
<div><p>Structure holding options relevant to the ethinca metric computation.</p>
</div></blockquote>
<p><strong>mass1</strong> : float</p>
<blockquote>
<div><p>Mass of the heavier body in the considered template.</p>
</div></blockquote>
<p><strong>mass2</strong> : float</p>
<blockquote>
<div><p>Mass of the lighter body in the considered template.</p>
</div></blockquote>
<p><strong>spin1z</strong> : float (optional, default=0)</p>
<blockquote>
<div><p>Spin of the heavier body in the considered template.</p>
</div></blockquote>
<p><strong>spin2z</strong> : float (optional, default=0)</p>
<blockquote>
<div><p>Spin of the lighter body in the considered template.</p>
</div></blockquote>
<p><strong>full_ethinca</strong> : boolean (optional, default=True)</p>
<blockquote>
<div><p>If True calculate the ethinca components in all 3 directions (mass1,
mass2 and time). If False calculate only the time component (which is
stored in Gamma0).</p>
</div></blockquote>
<p><strong>Returns</strong></p>
<p><strong>&#8212;&#8212;&#8211;</strong></p>
<p><strong>fMax_theor</strong> : float</p>
<blockquote>
<div><p>Value of the upper frequency cutoff given by the template parameters
and the cutoff formula requested.</p>
</div></blockquote>
<p><strong>gammaVals</strong> : numpy_array</p>
<blockquote class="last">
<div><p>Array holding 6 independent metric components in 
(end_time, tau_0, tau_3) coordinates to be stored in the Gamma0-5 
slots of a SnglInspiral object.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pycbc.tmpltbank.bank_output_utils.convert_to_sngl_inspiral_table">
<code class="descclassname">pycbc.tmpltbank.bank_output_utils.</code><code class="descname">convert_to_sngl_inspiral_table</code><span class="sig-paren">(</span><em>params</em>, <em>proc_id</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/bank_output_utils.html#convert_to_sngl_inspiral_table"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.tmpltbank.bank_output_utils.convert_to_sngl_inspiral_table" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a list of m1,m2,spin1z,spin2z values into a basic sngl_inspiral 
table with mass and spin parameters populated and event IDs assigned</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>params</strong> : iterable</p>
<blockquote>
<div><p>Each entry in the params iterable should be a sequence of 
[mass1, mass2, spin1z, spin2z] in that order</p>
</div></blockquote>
<p><strong>proc_id</strong> : ilwd char</p>
<blockquote>
<div><p>Process ID to add to each row of the sngl_inspiral table</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">SnglInspiralTable</p>
<blockquote class="last">
<div><p>Bank of templates in SnglInspiralTable format</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pycbc.tmpltbank.bank_output_utils.output_sngl_inspiral_table">
<code class="descclassname">pycbc.tmpltbank.bank_output_utils.</code><code class="descname">output_sngl_inspiral_table</code><span class="sig-paren">(</span><em>outputFile</em>, <em>tempBank</em>, <em>metricParams</em>, <em>ethincaParams</em>, <em>programName=''</em>, <em>optDict={}</em>, <em>outdoc=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/bank_output_utils.html#output_sngl_inspiral_table"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.tmpltbank.bank_output_utils.output_sngl_inspiral_table" title="Permalink to this definition">¶</a></dt>
<dd><p>Function that converts the information produced by the various pyCBC bank
generation codes into a valid LIGOLW xml file containing a sngl_inspiral
table and outputs to file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>outputFile</strong> : string</p>
<blockquote>
<div><p>Name of the file that the bank will be written to</p>
</div></blockquote>
<p><strong>tempBank</strong> : iterable</p>
<blockquote>
<div><p>Each entry in the tempBank iterable should be a sequence of
[mass1,mass2,spin1z,spin2z] in that order.</p>
</div></blockquote>
<p><strong>metricParams</strong> : metricParameters instance</p>
<blockquote>
<div><p>Structure holding all the options for construction of the metric
and the eigenvalues, eigenvectors and covariance matrix
needed to manipulate the space.</p>
</div></blockquote>
<p><strong>ethincaParams: {ethincaParameters instance, None}</strong></p>
<blockquote>
<div><p>Structure holding options relevant to the ethinca metric computation
including the upper frequency cutoff to be used for filtering.
NOTE: The computation is currently only valid for non-spinning systems
and uses the TaylorF2 approximant.</p>
</div></blockquote>
<p><strong>programName (key-word-argument)</strong> : string</p>
<blockquote>
<div><p>Name of the executable that has been run</p>
</div></blockquote>
<p><strong>optDict (key-word argument)</strong> : dictionary</p>
<blockquote>
<div><p>Dictionary of the command line arguments passed to the program</p>
</div></blockquote>
<p><strong>outdoc (key-word argument)</strong> : ligolw xml document</p>
<blockquote>
<div><p>If given add template bank to this representation of a xml document and
write to disk. If not given create a new document.</p>
</div></blockquote>
<p><strong>kwargs</strong> : key-word arguments</p>
<blockquote class="last">
<div><p>All other key word arguments will be passed directly to 
ligolw_process.register_to_xmldoc</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pycbc.tmpltbank.bank_output_utils.return_empty_sngl">
<code class="descclassname">pycbc.tmpltbank.bank_output_utils.</code><code class="descname">return_empty_sngl</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/bank_output_utils.html#return_empty_sngl"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.tmpltbank.bank_output_utils.return_empty_sngl" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to create a SnglInspiral object where all columns are populated
but all are set to values that test False (ie. strings to &#8216;&#8217;, floats/ints
to 0, ...). This avoids errors when you try to create a table containing
columns you don&#8217;t care about, but which still need populating. NOTE: This
will also produce a process_id and event_id with 0 values. For most
applications these should be set to their correct values.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">lsctables.SnglInspiral</p>
<blockquote class="last">
<div><p>The &#8220;empty&#8221; SnglInspiral object.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pycbc.tmpltbank.bank_output_utils.return_search_summary">
<code class="descclassname">pycbc.tmpltbank.bank_output_utils.</code><code class="descname">return_search_summary</code><span class="sig-paren">(</span><em>start_time=0</em>, <em>end_time=0</em>, <em>nevents=0</em>, <em>ifos=[]</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/bank_output_utils.html#return_search_summary"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.tmpltbank.bank_output_utils.return_search_summary" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to create a SearchSummary object where all columns are populated
but all are set to values that test False (ie. strings to &#8216;&#8217;, floats/ints
to 0, ...). This avoids errors when you try to create a table containing
columns you don&#8217;t care about, but which still need populating. NOTE: This
will also produce a process_id with 0 values. For most applications these
should be set to their correct values.</p>
<p>It then populates columns if given them as options.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">lsctables.SeachSummary</p>
<blockquote class="last">
<div><p>The &#8220;empty&#8221; SearchSummary object.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-pycbc.tmpltbank.brute_force_methods">
<span id="pycbc-tmpltbank-brute-force-methods-module"></span><h2>pycbc.tmpltbank.brute_force_methods module<a class="headerlink" href="#module-pycbc.tmpltbank.brute_force_methods" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="pycbc.tmpltbank.brute_force_methods.find_xi_extrema_brute">
<code class="descclassname">pycbc.tmpltbank.brute_force_methods.</code><code class="descname">find_xi_extrema_brute</code><span class="sig-paren">(</span><em>xis</em>, <em>bestMasses</em>, <em>bestXis</em>, <em>direction_num</em>, <em>req_match</em>, <em>massRangeParams</em>, <em>metricParams</em>, <em>fUpper</em>, <em>find_minimum=False</em>, <em>scaleFactor=0.80000000000000004</em>, <em>numIterations=3000</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/brute_force_methods.html#find_xi_extrema_brute"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.tmpltbank.brute_force_methods.find_xi_extrema_brute" title="Permalink to this definition">¶</a></dt>
<dd><p>This function is used to find the largest or smallest value of the xi
space in a specified
dimension at a specified point in the higher dimensions. It does this by
iteratively throwing points at the space to find extrema.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>xis</strong> : list or array</p>
<blockquote>
<div><p>Position in the xi space at which to assess the depth. This can be only
a subset of the higher dimensions than that being sampled.</p>
</div></blockquote>
<p><strong>bestMasses</strong> : list</p>
<blockquote>
<div><p>Contains [totalMass, eta, spin1z, spin2z]. Is a physical position
mapped to xi coordinates in bestXis that is close to the xis point.
This is aimed to give the code a starting point.</p>
</div></blockquote>
<p><strong>bestXis</strong> : list</p>
<blockquote>
<div><p>Contains the position of bestMasses in the xi coordinate system.</p>
</div></blockquote>
<p><strong>direction_num</strong> : int</p>
<blockquote>
<div><p>The dimension that you want to assess the depth of (0 = 1, 1 = 2 ...)</p>
</div></blockquote>
<p><strong>req_match</strong> : float</p>
<blockquote>
<div><p>When considering points to assess the depth with, only consider points
with a mismatch that is smaller than this with xis.</p>
</div></blockquote>
<p><strong>massRangeParams</strong> : massRangeParameters instance</p>
<blockquote>
<div><p>Instance holding all the details of mass ranges and spin ranges.</p>
</div></blockquote>
<p><strong>metricParams</strong> : metricParameters instance</p>
<blockquote>
<div><p>Structure holding all the options for construction of the metric
and the eigenvalues, eigenvectors and covariance matrix
needed to manipulate the space.</p>
</div></blockquote>
<p><strong>fUpper</strong> : float</p>
<blockquote>
<div><p>The value of fUpper that was used when obtaining the xi_i
coordinates. This lets us know how to rotate potential physical points
into the correct xi_i space. This must be a key in metricParams.evals,
metricParams.evecs and metricParams.evecsCV
(ie. we must know how to do the transformation for
the given value of fUpper)</p>
</div></blockquote>
<p><strong>find_minimum</strong> : boolean, optional (default = False)</p>
<blockquote>
<div><p>If True, find the minimum value of the xi direction. If False find the
maximum value.</p>
</div></blockquote>
<p><strong>scaleFactor</strong> : float, optional (default = 0.8)</p>
<blockquote>
<div><p>The value of the scale factor that is used when calling
pycbc.tmpltbank.get_mass_distribution.</p>
</div></blockquote>
<p><strong>numIterations</strong> : int, optional (default = 3000)</p>
<blockquote>
<div><p>The number of times to make calls to get_mass_distribution when
assessing the maximum/minimum of this parameter space. Making this
smaller makes the code faster, but at the cost of accuracy.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>xi_extent</strong> : float</p>
<blockquote class="last">
<div><p>The extremal value of the specified dimension at the specified point in
parameter space.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pycbc.tmpltbank.brute_force_methods.get_mass_distribution">
<code class="descclassname">pycbc.tmpltbank.brute_force_methods.</code><code class="descname">get_mass_distribution</code><span class="sig-paren">(</span><em>bestMasses</em>, <em>scaleFactor</em>, <em>massRangeParams</em>, <em>metricParams</em>, <em>fUpper</em>, <em>numJumpPoints=100</em>, <em>chirpMassJumpFac=0.0001</em>, <em>etaJumpFac=0.01</em>, <em>spin1zJumpFac=0.01</em>, <em>spin2zJumpFac=0.01</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/brute_force_methods.html#get_mass_distribution"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.tmpltbank.brute_force_methods.get_mass_distribution" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a set of masses, this function will create a set of points nearby
in the mass space and map these to the xi space.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>bestMasses</strong> : list</p>
<blockquote>
<div><p>Contains [ChirpMass, eta, spin1z, spin2z]. Points will be placed around
tjos</p>
</div></blockquote>
<p><strong>scaleFactor</strong> : float</p>
<blockquote>
<div><p>This parameter describes the radius away from bestMasses that points
will be placed in.</p>
</div></blockquote>
<p><strong>massRangeParams</strong> : massRangeParameters instance</p>
<blockquote>
<div><p>Instance holding all the details of mass ranges and spin ranges.</p>
</div></blockquote>
<p><strong>metricParams</strong> : metricParameters instance</p>
<blockquote>
<div><p>Structure holding all the options for construction of the metric
and the eigenvalues, eigenvectors and covariance matrix
needed to manipulate the space.</p>
</div></blockquote>
<p><strong>fUpper</strong> : float</p>
<blockquote>
<div><p>The value of fUpper that was used when obtaining the xi_i
coordinates. This lets us know how to rotate potential physical points
into the correct xi_i space. This must be a key in metricParams.evals,
metricParams.evecs and metricParams.evecsCV
(ie. we must know how to do the transformation for
the given value of fUpper)</p>
</div></blockquote>
<p><strong>numJumpPoints</strong> : int, optional (default = 100)</p>
<blockquote>
<div><p>The number of points that will be generated every iteration</p>
</div></blockquote>
<p><strong>chirpMassJumpFac</strong> : float, optional (default=0.0001)</p>
<blockquote>
<div><p>The jump points will be chosen with fractional variation in chirpMass
up to this multiplied by scaleFactor.</p>
</div></blockquote>
<p><strong>etaJumpFac</strong> : float, optional (default=0.01)</p>
<blockquote>
<div><p>The jump points will be chosen with fractional variation in eta
up to this multiplied by scaleFactor.</p>
</div></blockquote>
<p><strong>spin1zJumpFac</strong> : float, optional (default=0.01)</p>
<blockquote>
<div><p>The jump points will be chosen with absolute variation in spin1z up to
this multiplied by scaleFactor.</p>
</div></blockquote>
<p><strong>spin2zJumpFac</strong> : float, optional (default=0.01)</p>
<blockquote>
<div><p>The jump points will be chosen with absolute variation in spin2z up to
this multiplied by scaleFactor.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>Chirpmass</strong> : numpy.array</p>
<blockquote>
<div><p>chirp mass of the resulting points</p>
</div></blockquote>
<p><strong>Totmass</strong> : numpy.array</p>
<blockquote>
<div><p>Total mass of the resulting points</p>
</div></blockquote>
<p><strong>Eta</strong> : numpy.array</p>
<blockquote>
<div><p>Symmetric mass ratio of the resulting points</p>
</div></blockquote>
<p><strong>Spin1z</strong> : numpy.array</p>
<blockquote>
<div><p>Spin of the heavier body of the resulting points</p>
</div></blockquote>
<p><strong>Spin2z</strong> : numpy.array</p>
<blockquote>
<div><p>Spin of the smaller body of the resulting points</p>
</div></blockquote>
<p><strong>Diff</strong> : numpy.array</p>
<blockquote>
<div><p>Mass1 - Mass2 of the resulting points</p>
</div></blockquote>
<p><strong>Mass1</strong> : numpy.array</p>
<blockquote>
<div><p>Mass1 (mass of heavier body) of the resulting points</p>
</div></blockquote>
<p><strong>Mass2</strong> : numpy.array</p>
<blockquote>
<div><p>Mass2 (mass of smaller body) of the resulting points</p>
</div></blockquote>
<p><strong>Beta</strong> : numpy.array</p>
<blockquote>
<div><p>1.5PN spin phasing coefficient of the resulting points</p>
</div></blockquote>
<p><strong>Sigma</strong> : numpy.array</p>
<blockquote>
<div><p>2PN spin phasing coefficient of the resulting points</p>
</div></blockquote>
<p><strong>Gamma</strong> : numpy.array</p>
<blockquote>
<div><p>2.5PN spin phasing coefficient of the resulting points</p>
</div></blockquote>
<p><strong>Chis</strong> : numpy.array</p>
<blockquote>
<div><p>0.5 * (spin1z + spin2z) for the resulting points</p>
</div></blockquote>
<p><strong>new_xis</strong> : list of numpy.array</p>
<blockquote class="last">
<div><p>Position of points in the xi coordinates</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pycbc.tmpltbank.brute_force_methods.get_physical_covaried_masses">
<code class="descclassname">pycbc.tmpltbank.brute_force_methods.</code><code class="descname">get_physical_covaried_masses</code><span class="sig-paren">(</span><em>xis</em>, <em>bestMasses</em>, <em>bestXis</em>, <em>req_match</em>, <em>massRangeParams</em>, <em>metricParams</em>, <em>fUpper</em>, <em>giveUpThresh=5000</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/brute_force_methods.html#get_physical_covaried_masses"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.tmpltbank.brute_force_methods.get_physical_covaried_masses" title="Permalink to this definition">¶</a></dt>
<dd><p>This function takes the position of a point in the xi parameter space and
iteratively finds a close point in the physical coordinate space (masses
and spins).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>xis</strong> : list or array</p>
<blockquote>
<div><p>Desired position of the point in the xi space. If only N values are
provided and the xi space&#8217;s dimension is larger then it is assumed that
<em>any</em> value in the remaining xi coordinates is acceptable.</p>
</div></blockquote>
<p><strong>bestMasses</strong> : list</p>
<blockquote>
<div><p>Contains [totalMass, eta, spin1z, spin2z]. Is a physical position
mapped to xi coordinates in bestXis that is close to the desired point.
This is aimed to give the code a starting point.</p>
</div></blockquote>
<p><strong>bestXis</strong> : list</p>
<blockquote>
<div><p>Contains the position of bestMasses in the xi coordinate system.</p>
</div></blockquote>
<p><strong>req_match</strong> : float</p>
<blockquote>
<div><p>Desired maximum mismatch between xis and the obtained point. If a point
is found with mismatch &lt; req_match immediately stop and return that
point. A point with this mismatch will not always be found.</p>
</div></blockquote>
<p><strong>massRangeParams</strong> : massRangeParameters instance</p>
<blockquote>
<div><p>Instance holding all the details of mass ranges and spin ranges.</p>
</div></blockquote>
<p><strong>metricParams</strong> : metricParameters instance</p>
<blockquote>
<div><p>Structure holding all the options for construction of the metric
and the eigenvalues, eigenvectors and covariance matrix
needed to manipulate the space.</p>
</div></blockquote>
<p><strong>fUpper</strong> : float</p>
<blockquote>
<div><p>The value of fUpper that was used when obtaining the xi_i
coordinates. This lets us know how to rotate potential physical points
into the correct xi_i space. This must be a key in metricParams.evals,
metricParams.evecs and metricParams.evecsCV
(ie. we must know how to do the transformation for
the given value of fUpper)</p>
</div></blockquote>
<p><strong>giveUpThresh</strong> : int, optional (default = 5000)</p>
<blockquote>
<div><p>The program will try this many iterations. If no close matching point
has been found after this it will give up.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>mass1</strong> : float</p>
<blockquote>
<div><p>The heavier mass of the obtained point.</p>
</div></blockquote>
<p><strong>mass2</strong> : float</p>
<blockquote>
<div><p>The smaller mass of the obtained point</p>
</div></blockquote>
<p><strong>spin1z</strong> : float</p>
<blockquote>
<div><p>The heavier bodies spin of the obtained point.</p>
</div></blockquote>
<p><strong>spin2z</strong> : float</p>
<blockquote>
<div><p>The smaller bodies spin of the obtained point.</p>
</div></blockquote>
<p><strong>count</strong> : int</p>
<blockquote>
<div><p>How many iterations it took to find the point. For debugging.</p>
</div></blockquote>
<p><strong>mismatch</strong> : float</p>
<blockquote>
<div><p>The mismatch between the obtained point and the input xis.</p>
</div></blockquote>
<p><strong>new_xis</strong> : list</p>
<blockquote class="last">
<div><p>The position of the point in the xi space</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pycbc.tmpltbank.brute_force_methods.stack_xi_direction_brute">
<code class="descclassname">pycbc.tmpltbank.brute_force_methods.</code><code class="descname">stack_xi_direction_brute</code><span class="sig-paren">(</span><em>xis</em>, <em>bestMasses</em>, <em>bestXis</em>, <em>direction_num</em>, <em>req_match</em>, <em>massRangeParams</em>, <em>metricParams</em>, <em>fUpper</em>, <em>scaleFactor=0.80000000000000004</em>, <em>numIterations=3000</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/brute_force_methods.html#stack_xi_direction_brute"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.tmpltbank.brute_force_methods.stack_xi_direction_brute" title="Permalink to this definition">¶</a></dt>
<dd><p>This function is used to assess the depth of the xi_space in a specified
dimension at a specified point in the higher dimensions. It does this by
iteratively throwing points at the space to find maxima and minima.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>xis</strong> : list or array</p>
<blockquote>
<div><p>Position in the xi space at which to assess the depth. This can be only
a subset of the higher dimensions than that being sampled.</p>
</div></blockquote>
<p><strong>bestMasses</strong> : list</p>
<blockquote>
<div><p>Contains [totalMass, eta, spin1z, spin2z]. Is a physical position
mapped to xi coordinates in bestXis that is close to the xis point.
This is aimed to give the code a starting point.</p>
</div></blockquote>
<p><strong>bestXis</strong> : list</p>
<blockquote>
<div><p>Contains the position of bestMasses in the xi coordinate system.</p>
</div></blockquote>
<p><strong>direction_num</strong> : int</p>
<blockquote>
<div><p>The dimension that you want to assess the depth of (0 = 1, 1 = 2 ...)</p>
</div></blockquote>
<p><strong>req_match</strong> : float</p>
<blockquote>
<div><p>When considering points to assess the depth with, only consider points
with a mismatch that is smaller than this with xis.</p>
</div></blockquote>
<p><strong>massRangeParams</strong> : massRangeParameters instance</p>
<blockquote>
<div><p>Instance holding all the details of mass ranges and spin ranges.</p>
</div></blockquote>
<p><strong>metricParams</strong> : metricParameters instance</p>
<blockquote>
<div><p>Structure holding all the options for construction of the metric
and the eigenvalues, eigenvectors and covariance matrix
needed to manipulate the space.</p>
</div></blockquote>
<p><strong>fUpper</strong> : float</p>
<blockquote>
<div><p>The value of fUpper that was used when obtaining the xi_i
coordinates. This lets us know how to rotate potential physical points
into the correct xi_i space. This must be a key in metricParams.evals,
metricParams.evecs and metricParams.evecsCV
(ie. we must know how to do the transformation for
the given value of fUpper)</p>
</div></blockquote>
<p><strong>scaleFactor</strong> : float, optional (default = 0.8)</p>
<blockquote>
<div><p>The value of the scale factor that is used when calling
pycbc.tmpltbank.get_mass_distribution.</p>
</div></blockquote>
<p><strong>numIterations</strong> : int, optional (default = 3000)</p>
<blockquote>
<div><p>The number of times to make calls to get_mass_distribution when
assessing the maximum/minimum of this parameter space. Making this
smaller makes the code faster, but at the cost of accuracy.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>xi_min</strong> : float</p>
<blockquote>
<div><p>The minimal value of the specified dimension at the specified point in
parameter space.</p>
</div></blockquote>
<p><strong>xi_max</strong> : float</p>
<blockquote class="last">
<div><dl class="docutils">
<dt>The maximal value of the specified dimension at the specified point in</dt>
<dd><p class="first last">parameter space.</p>
</dd>
</dl>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-pycbc.tmpltbank.calc_moments">
<span id="pycbc-tmpltbank-calc-moments-module"></span><h2>pycbc.tmpltbank.calc_moments module<a class="headerlink" href="#module-pycbc.tmpltbank.calc_moments" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="pycbc.tmpltbank.calc_moments.calculate_metric">
<code class="descclassname">pycbc.tmpltbank.calc_moments.</code><code class="descname">calculate_metric</code><span class="sig-paren">(</span><em>Js</em>, <em>logJs</em>, <em>loglogJs</em>, <em>logloglogJs</em>, <em>loglogloglogJs</em>, <em>mapping</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/calc_moments.html#calculate_metric"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.tmpltbank.calc_moments.calculate_metric" title="Permalink to this definition">¶</a></dt>
<dd><p>This function will take the various integrals calculated by get_moments and
convert this into a metric for the appropriate parameter space.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>Js</strong> : Dictionary</p>
<blockquote>
<div><p>The list of (log^0 x) * x**(-i/3) integrals computed by get_moments()
The index is Js[i]</p>
</div></blockquote>
<p><strong>logJs</strong> : Dictionary</p>
<blockquote>
<div><p>The list of (log^1 x) * x**(-i/3) integrals computed by get_moments()
The index is logJs[i]</p>
</div></blockquote>
<p><strong>loglogJs</strong> : Dictionary</p>
<blockquote>
<div><p>The list of (log^2 x) * x**(-i/3) integrals computed by get_moments()
The index is loglogJs[i]</p>
</div></blockquote>
<p><strong>logloglogJs</strong> : Dictionary</p>
<blockquote>
<div><p>The list of (log^3 x) * x**(-i/3) integrals computed by get_moments()
The index is logloglogJs[i]</p>
</div></blockquote>
<p><strong>loglogloglogJs</strong> : Dictionary</p>
<blockquote>
<div><p>The list of (log^4 x) * x**(-i/3) integrals computed by get_moments()
The index is loglogloglogJs[i]</p>
</div></blockquote>
<p><strong>mapping</strong> : dictionary</p>
<blockquote>
<div><p>Used to identify which Lambda components are active in this parameter
space and map these to entries in the metric matrix.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>metric</strong> : numpy.matrix</p>
<blockquote class="last">
<div><p>The resulting metric.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pycbc.tmpltbank.calc_moments.calculate_metric_comp">
<code class="descclassname">pycbc.tmpltbank.calc_moments.</code><code class="descname">calculate_metric_comp</code><span class="sig-paren">(</span><em>gs</em>, <em>unmax_metric</em>, <em>i</em>, <em>j</em>, <em>Js</em>, <em>logJs</em>, <em>loglogJs</em>, <em>logloglogJs</em>, <em>loglogloglogJs</em>, <em>mapping</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/calc_moments.html#calculate_metric_comp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.tmpltbank.calc_moments.calculate_metric_comp" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to compute part of the metric. Only call this from within
calculate_metric(). Please see the documentation for that function.</p>
</dd></dl>

<dl class="function">
<dt id="pycbc.tmpltbank.calc_moments.calculate_moment">
<code class="descclassname">pycbc.tmpltbank.calc_moments.</code><code class="descname">calculate_moment</code><span class="sig-paren">(</span><em>psd_f</em>, <em>psd_amp</em>, <em>fmin</em>, <em>fmax</em>, <em>f0</em>, <em>funct</em>, <em>norm=None</em>, <em>vary_fmax=False</em>, <em>vary_density=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/calc_moments.html#calculate_moment"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.tmpltbank.calc_moments.calculate_moment" title="Permalink to this definition">¶</a></dt>
<dd><p>Function for calculating one of the integrals used to construct a template
bank placement metric. The integral calculated will be</p>
<p>int funct(x) * (psd_x)**(-7./3.) * delta_x / PSD(x)</p>
<p>where x = f / f0. The lower frequency cutoff is given by fmin, see
the parameters below for details on how the upper frequency cutoff is
chosen</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>psd_f</strong> : numpy.array</p>
<blockquote>
<div><p>numpy array holding the set of evenly spaced frequencies used in the PSD</p>
</div></blockquote>
<p><strong>psd_amp</strong> : numpy.array</p>
<blockquote>
<div><p>numpy array holding the PSD values corresponding to the psd_f
frequencies</p>
</div></blockquote>
<p><strong>fmin</strong> : float</p>
<blockquote>
<div><p>The lower frequency cutoff used in the calculation of the integrals
used to obtain the metric.</p>
</div></blockquote>
<p><strong>fmax</strong> : float</p>
<blockquote>
<div><p>The upper frequency cutoff used in the calculation of the integrals
used to obtain the metric. This can be varied (see the vary_fmax
option below).</p>
</div></blockquote>
<p><strong>f0</strong> : float</p>
<blockquote>
<div><p>This is an arbitrary scaling factor introduced to avoid the potential
for numerical overflow when calculating this. Generally the default
value (70) is safe here. <strong>IMPORTANT, if you want to calculate the
ethinca metric components later this MUST be set equal to f_low.</strong></p>
</div></blockquote>
<p><strong>funct</strong> : Lambda function</p>
<blockquote>
<div><p>The function to use when computing the integral as described above.</p>
</div></blockquote>
<p><strong>norm</strong> : Dictionary of floats</p>
<blockquote>
<div><p>If given then moment[f_cutoff] will be divided by norm[f_cutoff]</p>
</div></blockquote>
<p><strong>vary_fmax</strong> : boolean, optional (default False)</p>
<blockquote>
<div><p>If set to False the metric and rotations are calculated once, for the
full range of frequency [f_low,f_upper).
If set to True the metric and rotations are calculated multiple times,
for frequency ranges [f_low,f_low + i*vary_density), where i starts at 
1 and runs up until f_low + (i+1)*vary_density &gt; f_upper. 
Thus values greater than f_upper are <em>not</em> computed. 
The calculation for the full range [f_low,f_upper) is also done.</p>
</div></blockquote>
<p><strong>vary_density</strong> : float, optional</p>
<blockquote>
<div><p>If vary_fmax is True, this will be used in computing the frequency
ranges as described for vary_fmax.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>moment</strong> : Dictionary of floats</p>
<blockquote class="last">
<div><p>moment[f_cutoff] will store the value of the moment at the frequency
cutoff given by f_cutoff.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pycbc.tmpltbank.calc_moments.determine_eigen_directions">
<code class="descclassname">pycbc.tmpltbank.calc_moments.</code><code class="descname">determine_eigen_directions</code><span class="sig-paren">(</span><em>metricParams</em>, <em>preserveMoments=False</em>, <em>vary_fmax=False</em>, <em>vary_density=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/calc_moments.html#determine_eigen_directions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.tmpltbank.calc_moments.determine_eigen_directions" title="Permalink to this definition">¶</a></dt>
<dd><p>This function will calculate the coordinate transfomations that are needed
to rotate from a coordinate system described by the various Lambda
components in the frequency expansion, to a coordinate system where the
metric is Cartesian.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>metricParams</strong> : metricParameters instance</p>
<blockquote>
<div><p>Structure holding all the options for construction of the metric.</p>
</div></blockquote>
<p><strong>preserveMoments</strong> : boolean, optional (default False)</p>
<blockquote>
<div><p>Currently only used for debugging.
If this is given then if the moments structure is already set
within metricParams then they will not be recalculated.</p>
</div></blockquote>
<p><strong>vary_fmax</strong> : boolean, optional (default False)</p>
<blockquote>
<div><p>If set to False the metric and rotations are calculated once, for the
full range of frequency [f_low,f_upper).
If set to True the metric and rotations are calculated multiple times,
for frequency ranges [f_low,f_low + i*vary_density), where i starts at 
1 and runs up until f_low + (i+1)*vary_density &gt; f_upper. 
Thus values greater than f_upper are <em>not</em> computed. 
The calculation for the full range [f_low,f_upper) is also done.</p>
</div></blockquote>
<p><strong>vary_density</strong> : float, optional</p>
<blockquote>
<div><p>If vary_fmax is True, this will be used in computing the frequency
ranges as described for vary_fmax.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>metricParams</strong> : metricParameters instance</p>
<blockquote>
<div><p>Structure holding all the options for construction of the metric.
<strong>THIS FUNCTION ONLY RETURNS THE CLASS</strong>
The following will be <strong>added</strong> to this structure</p>
</div></blockquote>
<p><strong>metricParams.evals</strong> : Dictionary of numpy.array</p>
<blockquote>
<div><p>Each entry in the dictionary corresponds to the different frequency
ranges described in vary_fmax. If vary_fmax = False, the only entry
will be f_upper, this corresponds to integrals in [f_low,f_upper). This
entry is always present. Each other entry will use floats as keys to
the dictionary. These floats give the upper frequency cutoff when it is
varying.
Each numpy.array contains the eigenvalues which, with the eigenvectors
in evecs, are needed to rotate the
coordinate system to one in which the metric is the identity matrix.</p>
</div></blockquote>
<p><strong>metricParams.evecs</strong> : Dictionary of numpy.matrix</p>
<blockquote>
<div><p>Each entry in the dictionary is as described under evals.
Each numpy.matrix contains the eigenvectors which, with the eigenvalues
in evals, are needed to rotate the
coordinate system to one in which the metric is the identity matrix.</p>
</div></blockquote>
<p><strong>metricParams.metric</strong> : Dictionary of numpy.matrix</p>
<blockquote>
<div><p>Each entry in the dictionary is as described under evals.
Each numpy.matrix contains the metric of the parameter space in the
Lambda_i coordinate system.</p>
</div></blockquote>
<p><strong>metricParams.moments</strong> : Moments structure</p>
<blockquote class="last">
<div><p>See the structure documentation for a description of this. This
contains the result of all the integrals used in computing the metrics
above. It can be used for the ethinca components calculation, or other
similar calculations.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pycbc.tmpltbank.calc_moments.get_moments">
<code class="descclassname">pycbc.tmpltbank.calc_moments.</code><code class="descname">get_moments</code><span class="sig-paren">(</span><em>metricParams</em>, <em>vary_fmax=False</em>, <em>vary_density=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/calc_moments.html#get_moments"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.tmpltbank.calc_moments.get_moments" title="Permalink to this definition">¶</a></dt>
<dd><p>This function will calculate the various integrals (moments) that are
needed to compute the metric used in template bank placement and
coincidence.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>metricParams</strong> : metricParameters instance</p>
<blockquote>
<div><p>Structure holding all the options for construction of the metric.</p>
</div></blockquote>
<p><strong>vary_fmax</strong> : boolean, optional (default False)</p>
<blockquote>
<div><p>If set to False the metric and rotations are calculated once, for the
full range of frequency [f_low,f_upper).
If set to True the metric and rotations are calculated multiple times,
for frequency ranges [f_low,f_low + i*vary_density), where i starts at 
1 and runs up until f_low + (i+1)*vary_density &gt; f_upper. 
Thus values greater than f_upper are <em>not</em> computed. 
The calculation for the full range [f_low,f_upper) is also done.</p>
</div></blockquote>
<p><strong>vary_density</strong> : float, optional</p>
<blockquote>
<div><p>If vary_fmax is True, this will be used in computing the frequency
ranges as described for vary_fmax.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>None</strong> : None</p>
<blockquote>
<div><p><strong>THIS FUNCTION RETURNS NOTHING</strong>
The following will be <strong>added</strong> to the metricParams structure</p>
</div></blockquote>
<p><strong>metricParams.moments</strong> : Moments structure</p>
<blockquote class="last">
<div><p>This contains the result of all the integrals used in computing the
metrics above. It can be used for the ethinca components calculation,
or other similar calculations. This is composed of two compound
dictionaries. The first entry indicates which moment is being
calculated and the second entry indicates the upper frequency cutoff
that was used.</p>
<p>In all cases x = f/f0.</p>
<p>For the first entries the options are:</p>
<p>moments[&#8216;J%d&#8217; %(i)][f_cutoff]
This stores the integral of 
x**((-i)/3.) * delta X / PSD(x)</p>
<p>moments[&#8216;log%d&#8217; %(i)][f_cutoff]
This stores the integral of 
(numpy.log(x**(1./3.))) x**((-i)/3.) * delta X / PSD(x)</p>
<p>moments[&#8216;loglog%d&#8217; %(i)][f_cutoff]
This stores the integral of 
(numpy.log(x**(1./3.)))**2 x**((-i)/3.) * delta X / PSD(x)</p>
<p>moments[&#8216;loglog%d&#8217; %(i)][f_cutoff]
This stores the integral of 
(numpy.log(x**(1./3.)))**3 x**((-i)/3.) * delta X / PSD(x)</p>
<p>moments[&#8216;loglog%d&#8217; %(i)][f_cutoff]
This stores the integral of 
(numpy.log(x**(1./3.)))**4 x**((-i)/3.) * delta X / PSD(x)</p>
<p>The second entry stores the frequency cutoff used when computing 
the integral. See description of the vary_fmax option above.</p>
<p>All of these values are nomralized by a factor of</p>
<p>x**((-7)/3.) * delta X / PSD(x)</p>
<p>The normalization factor can be obtained in</p>
<p>moments[&#8216;I7&#8217;][f_cutoff]</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pycbc.tmpltbank.calc_moments.interpolate_psd">
<code class="descclassname">pycbc.tmpltbank.calc_moments.</code><code class="descname">interpolate_psd</code><span class="sig-paren">(</span><em>psd_f</em>, <em>psd_amp</em>, <em>deltaF</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/calc_moments.html#interpolate_psd"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.tmpltbank.calc_moments.interpolate_psd" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to interpolate a PSD to a different value of deltaF. Uses linear
interpolation.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>psd_f</strong> : numpy.array or list or similar</p>
<blockquote>
<div><p>List of the frequencies contained within the PSD.</p>
</div></blockquote>
<p><strong>psd_amp</strong> : numpy.array or list or similar</p>
<blockquote>
<div><p>List of the PSD values at the frequencies in psd_f.</p>
</div></blockquote>
<p><strong>deltaF</strong> : float</p>
<blockquote>
<div><p>Value of deltaF to interpolate the PSD to.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>new_psd_f</strong> : numpy.array</p>
<blockquote>
<div><p>Array of the frequencies contained within the interpolated PSD</p>
</div></blockquote>
<p><strong>new_psd_amp</strong> : numpy.array</p>
<blockquote class="last">
<div><p>Array of the interpolated PSD values at the frequencies in new_psd_f.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-pycbc.tmpltbank.coord_utils">
<span id="pycbc-tmpltbank-coord-utils-module"></span><h2>pycbc.tmpltbank.coord_utils module<a class="headerlink" href="#module-pycbc.tmpltbank.coord_utils" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="pycbc.tmpltbank.coord_utils.calc_point_dist">
<code class="descclassname">pycbc.tmpltbank.coord_utils.</code><code class="descname">calc_point_dist</code><span class="sig-paren">(</span><em>vsA</em>, <em>entryA</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/coord_utils.html#calc_point_dist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.tmpltbank.coord_utils.calc_point_dist" title="Permalink to this definition">¶</a></dt>
<dd><p>This function is used to determine the distance between two points.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>vsA</strong> : list or numpy.array or similar</p>
<blockquote>
<div><p>An array of point 1&#8217;s position in the chi_i coordinate system</p>
</div></blockquote>
<p><strong>entryA</strong> : list or numpy.array or similar</p>
<blockquote>
<div><p>An array of point 2&#8217;s position in the chi_i coordinate system</p>
</div></blockquote>
<p><strong>MMdistA</strong> : float</p>
<blockquote>
<div><p>The minimal mismatch allowed between the points</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>val</strong> : float</p>
<blockquote class="last">
<div><p>The metric distance between the two points.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pycbc.tmpltbank.coord_utils.calc_point_dist_vary">
<code class="descclassname">pycbc.tmpltbank.coord_utils.</code><code class="descname">calc_point_dist_vary</code><span class="sig-paren">(</span><em>mus1</em>, <em>fUpper1</em>, <em>mus2</em>, <em>fUpper2</em>, <em>fMap</em>, <em>norm_map</em>, <em>MMdistA</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/coord_utils.html#calc_point_dist_vary"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.tmpltbank.coord_utils.calc_point_dist_vary" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to determine if two points, with differing upper frequency cutoffs
have a mismatch &lt; MMdistA for <em>both</em> upper frequency cutoffs.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>mus1</strong> : List of numpy arrays</p>
<blockquote>
<div><p>mus1[i] will give the array of point 1&#8217;s position in the chi_j
coordinate system. The i element corresponds to varying values of the
upper frequency cutoff. fMap is used to map between i and actual
frequencies</p>
</div></blockquote>
<p><strong>fUpper1</strong> : float</p>
<blockquote>
<div><p>The upper frequency cutoff of point 1.</p>
</div></blockquote>
<p><strong>mus2</strong> : List of numpy arrays</p>
<blockquote>
<div><p>mus2[i] will give the array of point 2&#8217;s position in the chi_j
coordinate system. The i element corresponds to varying values of the
upper frequency cutoff. fMap is used to map between i and actual
frequencies</p>
</div></blockquote>
<p><strong>fUpper2</strong> : float</p>
<blockquote>
<div><p>The upper frequency cutoff of point 2.</p>
</div></blockquote>
<p><strong>fMap</strong> : dictionary</p>
<blockquote>
<div><p>fMap[fUpper] will give the index needed to get the chi_j coordinates
in the two sets of mus</p>
</div></blockquote>
<p><strong>norm_map</strong> : dictionary</p>
<blockquote>
<div><p>norm_map[fUpper] will give the relative frequency domain template
amplitude (sigma) at the given value of fUpper.</p>
</div></blockquote>
<p><strong>MMdistA</strong></p>
<blockquote>
<div><p>The minimal mismatch allowed between the points</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Boolean</p>
<blockquote class="last">
<div><p>True if the points have a mismatch &lt; MMdistA
False if the points have a mismatch &gt; MMdistA</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pycbc.tmpltbank.coord_utils.estimate_mass_range">
<code class="descclassname">pycbc.tmpltbank.coord_utils.</code><code class="descname">estimate_mass_range</code><span class="sig-paren">(</span><em>numPoints</em>, <em>massRangeParams</em>, <em>metricParams</em>, <em>fUpper</em>, <em>covary=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/coord_utils.html#estimate_mass_range"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.tmpltbank.coord_utils.estimate_mass_range" title="Permalink to this definition">¶</a></dt>
<dd><p>This function will generate a large set of points with random masses and
spins (using pycbc.tmpltbank.get_random_mass) and translate these points
into the xi_i coordinate system for the given upper frequency cutoff.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>numPoints</strong> : int</p>
<blockquote>
<div><p>Number of systems to simulate</p>
</div></blockquote>
<p><strong>massRangeParams</strong> : massRangeParameters instance</p>
<blockquote>
<div><p>Instance holding all the details of mass ranges and spin ranges.</p>
</div></blockquote>
<p><strong>metricParams</strong> : metricParameters instance</p>
<blockquote>
<div><p>Structure holding all the options for construction of the metric
and the eigenvalues, eigenvectors and covariance matrix
needed to manipulate the space.</p>
</div></blockquote>
<p><strong>fUpper</strong> : float</p>
<blockquote>
<div><p>The value of fUpper to use when getting the mu coordinates from the
lambda coordinates. This must be a key in metricParams.evals and
metricParams.evecs (ie. we must know how to do the transformation for
the given value of fUpper). It also must be a key in
metricParams.evecsCV if covary=True.</p>
</div></blockquote>
<p><strong>covary</strong> : boolean, optional (default = True)</p>
<blockquote>
<div><p>If this is given then evecsCV will be used to rotate from the Cartesian
coordinate system into the principal coordinate direction (xi_i). If
not given then points in the original Cartesian coordinates are
returned.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>xis</strong> : numpy.array</p>
<blockquote class="last">
<div><p>A list of the positions of each point in the xi_i coordinate system.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pycbc.tmpltbank.coord_utils.find_closest_calculated_frequencies">
<code class="descclassname">pycbc.tmpltbank.coord_utils.</code><code class="descname">find_closest_calculated_frequencies</code><span class="sig-paren">(</span><em>input_freqs</em>, <em>metric_freqs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/coord_utils.html#find_closest_calculated_frequencies"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.tmpltbank.coord_utils.find_closest_calculated_frequencies" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a value (or array) of input frequencies find the closest values in
the list of frequencies calculated in the metric.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>input_freqs</strong> : numpy.array or float</p>
<blockquote>
<div><p>The frequency(ies) that you want to find the closest value in
metric_freqs</p>
</div></blockquote>
<p><strong>metric_freqs</strong> : numpy.array</p>
<blockquote>
<div><p>The list of frequencies calculated by the metric</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>output_freqs</strong> : numpy.array or float</p>
<blockquote class="last">
<div><p>The list of closest values to input_freqs for which the metric was
computed</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pycbc.tmpltbank.coord_utils.find_max_and_min_frequencies">
<code class="descclassname">pycbc.tmpltbank.coord_utils.</code><code class="descname">find_max_and_min_frequencies</code><span class="sig-paren">(</span><em>name</em>, <em>mass_range_params</em>, <em>freqs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/coord_utils.html#find_max_and_min_frequencies"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.tmpltbank.coord_utils.find_max_and_min_frequencies" title="Permalink to this definition">¶</a></dt>
<dd><p>ADD DOCS</p>
</dd></dl>

<dl class="function">
<dt id="pycbc.tmpltbank.coord_utils.get_conv_params">
<code class="descclassname">pycbc.tmpltbank.coord_utils.</code><code class="descname">get_conv_params</code><span class="sig-paren">(</span><em>totmass</em>, <em>eta</em>, <em>beta</em>, <em>sigma</em>, <em>gamma</em>, <em>chis</em>, <em>metricParams</em>, <em>fUpper</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/coord_utils.html#get_conv_params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.tmpltbank.coord_utils.get_conv_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to convert between masses and spins and locations in the mu
parameter space. Mu = Cartesian metric, but not principal components.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>totmass</strong> : float or numpy.array</p>
<blockquote>
<div><p>Total mass(es) of the system(s)</p>
</div></blockquote>
<p><strong>eta</strong> : float or numpy.array</p>
<blockquote>
<div><p>Symmetric mass ratio(s) of the system(s)</p>
</div></blockquote>
<p><strong>beta</strong> : float or numpy.array</p>
<blockquote>
<div><p>1.5PN spin coefficient(s) of the system(s)</p>
</div></blockquote>
<p><strong>sigma: float or numpy.array</strong></p>
<blockquote>
<div><p>2PN spin coefficient(s) of the system(s)</p>
</div></blockquote>
<p><strong>gamma</strong> : float or numpy.array</p>
<blockquote>
<div><p>2.5PN spin coefficient(s) of the system(s)</p>
</div></blockquote>
<p><strong>chis</strong> : float or numpy.array</p>
<blockquote>
<div><p>0.5 * (spin1z + spin2z) for the system(s)</p>
</div></blockquote>
<p><strong>metricParams</strong> : metricParameters instance</p>
<blockquote>
<div><p>Structure holding all the options for construction of the metric
and the eigenvalues, eigenvectors and covariance matrix
needed to manipulate the space.</p>
</div></blockquote>
<p><strong>fUpper</strong> : float</p>
<blockquote>
<div><p>The value of fUpper to use when getting the mu coordinates from the
lambda coordinates. This must be a key in metricParams.evals and
metricParams.evecs (ie. we must know how to do the transformation for
the given value of fUpper)</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>mus</strong> : list of floats or numpy.arrays</p>
<blockquote class="last">
<div><p>Position of the system(s) in the mu coordinate system</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pycbc.tmpltbank.coord_utils.get_cov_params">
<code class="descclassname">pycbc.tmpltbank.coord_utils.</code><code class="descname">get_cov_params</code><span class="sig-paren">(</span><em>totmass</em>, <em>eta</em>, <em>beta</em>, <em>sigma</em>, <em>gamma</em>, <em>chis</em>, <em>metricParams</em>, <em>fUpper</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/coord_utils.html#get_cov_params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.tmpltbank.coord_utils.get_cov_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to convert between masses and spins and locations in the xi
parameter space. Xi = Cartesian metric and rotated to principal components.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>totmass</strong> : float or numpy.array</p>
<blockquote>
<div><p>Total mass(es) of the system(s)</p>
</div></blockquote>
<p><strong>eta</strong> : float or numpy.array</p>
<blockquote>
<div><p>Symmetric mass ratio(s) of the system(s)</p>
</div></blockquote>
<p><strong>beta</strong> : float or numpy.array</p>
<blockquote>
<div><p>1.5PN spin coefficient(s) of the system(s)</p>
</div></blockquote>
<p><strong>sigma: float or numpy.array</strong></p>
<blockquote>
<div><p>2PN spin coefficient(s) of the system(s)</p>
</div></blockquote>
<p><strong>gamma</strong> : float or numpy.array</p>
<blockquote>
<div><p>2.5PN spin coefficient(s) of the system(s)</p>
</div></blockquote>
<p><strong>chis</strong> : float or numpy.array</p>
<blockquote>
<div><p>0.5 * (spin1z + spin2z) for the system(s)</p>
</div></blockquote>
<p><strong>metricParams</strong> : metricParameters instance</p>
<blockquote>
<div><p>Structure holding all the options for construction of the metric
and the eigenvalues, eigenvectors and covariance matrix
needed to manipulate the space.</p>
</div></blockquote>
<p><strong>fUpper</strong> : float</p>
<blockquote>
<div><p>The value of fUpper to use when getting the mu coordinates from the
lambda coordinates. This must be a key in metricParams.evals,
metricParams.evecs and metricParams.evecsCV
(ie. we must know how to do the transformation for
the given value of fUpper)</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>xis</strong> : list of floats or numpy.arrays</p>
<blockquote class="last">
<div><p>Position of the system(s) in the xi coordinate system</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pycbc.tmpltbank.coord_utils.get_covaried_params">
<code class="descclassname">pycbc.tmpltbank.coord_utils.</code><code class="descname">get_covaried_params</code><span class="sig-paren">(</span><em>mus</em>, <em>evecsCV</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/coord_utils.html#get_covaried_params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.tmpltbank.coord_utils.get_covaried_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to rotate from position(s) in the mu_i coordinate system into the
position(s) in the xi_i coordinate system</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>mus</strong> : list of floats or numpy.arrays</p>
<blockquote>
<div><p>Position of the system(s) in the mu coordinate system</p>
</div></blockquote>
<p><strong>evecsCV</strong> : numpy.matrix</p>
<blockquote>
<div><p>This matrix is used to perform the rotation to the xi_i
coordinate system.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>xis</strong> : list of floats or numpy.arrays</p>
<blockquote class="last">
<div><p>Position of the system(s) in the xi coordinate system</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pycbc.tmpltbank.coord_utils.get_mu_params">
<code class="descclassname">pycbc.tmpltbank.coord_utils.</code><code class="descname">get_mu_params</code><span class="sig-paren">(</span><em>lambdas</em>, <em>metricParams</em>, <em>fUpper</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/coord_utils.html#get_mu_params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.tmpltbank.coord_utils.get_mu_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to rotate from the lambda coefficients into position in the mu
coordinate system. Mu = Cartesian metric, but not principal components.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>lambdas</strong> : list of floats or numpy.arrays</p>
<blockquote>
<div><p>Position of the system(s) in the lambda coefficients</p>
</div></blockquote>
<p><strong>metricParams</strong> : metricParameters instance</p>
<blockquote>
<div><p>Structure holding all the options for construction of the metric
and the eigenvalues, eigenvectors and covariance matrix
needed to manipulate the space.</p>
</div></blockquote>
<p><strong>fUpper</strong> : float</p>
<blockquote>
<div><p>The value of fUpper to use when getting the mu coordinates from the
lambda coordinates. This must be a key in metricParams.evals and
metricParams.evecs (ie. we must know how to do the transformation for
the given value of fUpper)</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>mus</strong> : list of floats or numpy.arrays</p>
<blockquote class="last">
<div><p>Position of the system(s) in the mu coordinate system</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pycbc.tmpltbank.coord_utils.get_point_distance">
<code class="descclassname">pycbc.tmpltbank.coord_utils.</code><code class="descname">get_point_distance</code><span class="sig-paren">(</span><em>point1</em>, <em>point2</em>, <em>metricParams</em>, <em>fUpper</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/coord_utils.html#get_point_distance"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.tmpltbank.coord_utils.get_point_distance" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to calculate the mismatch between two points, supplied in terms
of the masses and spins, using the xi_i parameter space metric to
approximate the mismatch of the two points. Can also take one of the points
as an array of points and return an array of mismatches (but only one can
be an array!)</p>
<dl class="docutils">
<dt>point1 <span class="classifier-delimiter">:</span> <span class="classifier">List of floats or numpy.arrays</span></dt>
<dd>point1[0] contains the mass(es) of the heaviest body(ies).
point1[1] contains the mass(es) of the smallest body(ies).
point1[2] contains the spin(es) of the heaviest body(ies).
point1[3] contains the spin(es) of the smallest body(ies).</dd>
<dt>point2 <span class="classifier-delimiter">:</span> <span class="classifier">List of floats</span></dt>
<dd>point2[0] contains the mass of the heaviest body.
point2[1] contains the mass of the smallest body.
point2[2] contains the spin of the heaviest body.
point2[3] contains the spin of the smallest body.</dd>
<dt>metricParams <span class="classifier-delimiter">:</span> <span class="classifier">metricParameters instance</span></dt>
<dd>Structure holding all the options for construction of the metric
and the eigenvalues, eigenvectors and covariance matrix
needed to manipulate the space.</dd>
<dt>fUpper <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd>The value of fUpper to use when getting the mu coordinates from the
lambda coordinates. This must be a key in metricParams.evals,
metricParams.evecs and metricParams.evecsCV
(ie. we must know how to do the transformation for
the given value of fUpper)</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>dist</strong> : float or numpy.array</p>
<blockquote>
<div><p>Distance between the point2 and all points in point1</p>
</div></blockquote>
<p><strong>xis1</strong> : List of floats or numpy.arrays</p>
<blockquote>
<div><p>Position of the input point1(s) in the xi_i parameter space</p>
</div></blockquote>
<p><strong>xis2</strong> : List of floats</p>
<blockquote class="last">
<div><p>Position of the input point2 in the xi_i parameter space</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pycbc.tmpltbank.coord_utils.get_random_mass">
<code class="descclassname">pycbc.tmpltbank.coord_utils.</code><code class="descname">get_random_mass</code><span class="sig-paren">(</span><em>numPoints</em>, <em>massRangeParams</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/coord_utils.html#get_random_mass"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.tmpltbank.coord_utils.get_random_mass" title="Permalink to this definition">¶</a></dt>
<dd><p>This function will generate a large set of points within the chosen mass
and spin space, and with the desired minimum remnant disk mass (this applies
to NS-BH systems only). It will also return the corresponding PN spin
coefficients for ease of use later (though these may be removed at some
future point).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>numPoints</strong> : int</p>
<blockquote>
<div><p>Number of systems to simulate</p>
</div></blockquote>
<p><strong>massRangeParams</strong> : massRangeParameters instance</p>
<blockquote>
<div><p>Instance holding all the details of mass ranges and spin ranges.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>mass</strong> : numpy.array</p>
<blockquote>
<div><p>List of the total masses.</p>
</div></blockquote>
<p><strong>eta</strong> : numpy.array</p>
<blockquote>
<div><p>List of the symmetric mass ratios</p>
</div></blockquote>
<p><strong>beta</strong> : numpy.array</p>
<blockquote>
<div><p>List of the 1.5PN beta spin coefficients</p>
</div></blockquote>
<p><strong>sigma</strong> : numpy.array</p>
<blockquote>
<div><p>List of the 2PN sigma spin coefficients</p>
</div></blockquote>
<p><strong>gamma</strong> : numpy.array</p>
<blockquote>
<div><p>List of the 2.5PN gamma spin coefficients</p>
</div></blockquote>
<p><strong>spin1z</strong> : numpy.array</p>
<blockquote>
<div><p>List of the spin on the heavier body. NOTE: Body 1 is <strong>always</strong> the
heavier body to remove mass,eta -&gt; m1,m2 degeneracy</p>
</div></blockquote>
<p><strong>spin2z</strong> : numpy.array</p>
<blockquote class="last">
<div><p>List of the spin on the smaller body. NOTE: Body 2 is <strong>always</strong> the
smaller body to remove mass,eta -&gt; m1,m2 degeneracy</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pycbc.tmpltbank.coord_utils.get_random_mass_point_particles">
<code class="descclassname">pycbc.tmpltbank.coord_utils.</code><code class="descname">get_random_mass_point_particles</code><span class="sig-paren">(</span><em>numPoints</em>, <em>massRangeParams</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/coord_utils.html#get_random_mass_point_particles"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.tmpltbank.coord_utils.get_random_mass_point_particles" title="Permalink to this definition">¶</a></dt>
<dd><p>This function will generate a large set of points within the chosen mass
and spin space. It will also return the corresponding PN spin coefficients
for ease of use later (though these may be removed at some future point).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>numPoints</strong> : int</p>
<blockquote>
<div><p>Number of systems to simulate</p>
</div></blockquote>
<p><strong>massRangeParams</strong> : massRangeParameters instance</p>
<blockquote>
<div><p>Instance holding all the details of mass ranges and spin ranges.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>mass</strong> : numpy.array</p>
<blockquote>
<div><p>List of the total masses.</p>
</div></blockquote>
<p><strong>eta</strong> : numpy.array</p>
<blockquote>
<div><p>List of the symmetric mass ratios</p>
</div></blockquote>
<p><strong>beta</strong> : numpy.array</p>
<blockquote>
<div><p>List of the 1.5PN beta spin coefficients</p>
</div></blockquote>
<p><strong>sigma</strong> : numpy.array</p>
<blockquote>
<div><p>List of the 2PN sigma spin coefficients</p>
</div></blockquote>
<p><strong>gamma</strong> : numpy.array</p>
<blockquote>
<div><p>List of the 2.5PN gamma spin coefficients</p>
</div></blockquote>
<p><strong>spin1z</strong> : numpy.array</p>
<blockquote>
<div><p>List of the spin on the heavier body. NOTE: Body 1 is <strong>always</strong> the
heavier body to remove mass,eta -&gt; m1,m2 degeneracy</p>
</div></blockquote>
<p><strong>spin2z</strong> : numpy.array</p>
<blockquote>
<div><p>List of the spin on the smaller body. NOTE: Body 2 is <strong>always</strong> the
smaller body to remove mass,eta -&gt; m1,m2 degeneracy</p>
</div></blockquote>
<p><strong>mass1</strong> : numpy.array</p>
<blockquote>
<div><p>List of the mass of the heavier body. NOTE: Body 1 is <strong>always</strong> the
heavier body to remove mass,eta -&gt; m1,m2 degeneracy</p>
</div></blockquote>
<p><strong>mass2</strong> : numpy.array</p>
<blockquote class="last">
<div><p>List of the mass of the smaller body. NOTE: Body 2 is <strong>always</strong> the
smaller body to remove mass,eta -&gt; m1,m2 degeneracy</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pycbc.tmpltbank.coord_utils.outspiral_loop">
<code class="descclassname">pycbc.tmpltbank.coord_utils.</code><code class="descname">outspiral_loop</code><span class="sig-paren">(</span><em>N</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/coord_utils.html#outspiral_loop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.tmpltbank.coord_utils.outspiral_loop" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of points that will loop outwards in a 2D lattice in terms
of distance from a central point. So if N=2 this will be [0,0], [0,1],
[0,-1],[1,0],[-1,0],[1,1] .... This is useful when you want to loop over
a number of bins, but want to start in the center and work outwards.</p>
</dd></dl>

<dl class="function">
<dt id="pycbc.tmpltbank.coord_utils.return_nearest_cutoff">
<code class="descclassname">pycbc.tmpltbank.coord_utils.</code><code class="descname">return_nearest_cutoff</code><span class="sig-paren">(</span><em>name</em>, <em>mass_dict</em>, <em>freqs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/coord_utils.html#return_nearest_cutoff"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.tmpltbank.coord_utils.return_nearest_cutoff" title="Permalink to this definition">¶</a></dt>
<dd><p>Given an array of total mass values and an (ascending) list of
frequencies, this will calculate the specified cutoff formula for each
mtotal and return the nearest frequency to each cutoff from the input
list.
Currently only supports cutoffs that are functions of the total mass
and no other parameters (SchwarzISCO, LightRing, ERD)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>name</strong> : string</p>
<blockquote>
<div><p>Name of the cutoff formula to be approximated</p>
</div></blockquote>
<p><strong>mass_dict</strong> : Dictionary where the keys are used to call the functions</p>
<blockquote>
<div><p>returned by tmpltbank.named_frequency_cutoffs. The values can be
numpy arrays or single values.</p>
</div></blockquote>
<p><strong>freqs</strong> : list of floats</p>
<blockquote>
<div><p>A list of frequencies (must be sorted ascending)</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">numpy.array</p>
<blockquote class="last">
<div><p>The frequencies closest to the cutoff for each value of totmass.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pycbc.tmpltbank.coord_utils.rotate_vector">
<code class="descclassname">pycbc.tmpltbank.coord_utils.</code><code class="descname">rotate_vector</code><span class="sig-paren">(</span><em>evecs</em>, <em>old_vector</em>, <em>rescale_factor</em>, <em>index</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/coord_utils.html#rotate_vector"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.tmpltbank.coord_utils.rotate_vector" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to find the position of the system(s) in one of the xi_i or mu_i
directions.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>evecs</strong> : numpy.matrix</p>
<blockquote>
<div><p>Matrix of the eigenvectors of the metric in lambda_i coordinates. Used
to rotate to a Cartesian coordinate system.</p>
</div></blockquote>
<p><strong>old_vector</strong> : list of floats or numpy.arrays</p>
<blockquote>
<div><p>The position of the system(s) in the original coordinates</p>
</div></blockquote>
<p><strong>rescale_factor</strong> : float</p>
<blockquote>
<div><p>Scaling factor to apply to resulting position(s)</p>
</div></blockquote>
<p><strong>index</strong> : int</p>
<blockquote>
<div><p>The index of the final coordinate system that is being computed. Ie.
if we are going from mu_i -&gt; xi_j, this will give j.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>positions</strong> : float or numpy.array</p>
<blockquote class="last">
<div><p>Position of the point(s) in the resulting coordinate.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pycbc.tmpltbank.coord_utils.test_point_dist">
<code class="descclassname">pycbc.tmpltbank.coord_utils.</code><code class="descname">test_point_dist</code><span class="sig-paren">(</span><em>point_1_chis</em>, <em>point_2_chis</em>, <em>distance_threshold</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/coord_utils.html#test_point_dist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.tmpltbank.coord_utils.test_point_dist" title="Permalink to this definition">¶</a></dt>
<dd><p>This function tests if the difference between two points in the chi
parameter space is less than a distance threshold. Returns True if it is
and False if it is not.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>point_1_chis</strong> : numpy.array</p>
<blockquote>
<div><p>An array of point 1&#8217;s position in the chi_i coordinate system</p>
</div></blockquote>
<p><strong>point_2_chis</strong> : numpy.array</p>
<blockquote>
<div><p>An array of point 2&#8217;s position in the chi_i coordinate system</p>
</div></blockquote>
<p><strong>distance_threshold</strong> : float</p>
<blockquote class="last">
<div><p>The distance threshold to use.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-pycbc.tmpltbank.em_progenitors">
<span id="pycbc-tmpltbank-em-progenitors-module"></span><h2>pycbc.tmpltbank.em_progenitors module<a class="headerlink" href="#module-pycbc.tmpltbank.em_progenitors" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="pycbc.tmpltbank.em_progenitors.ISCO_eq">
<code class="descclassname">pycbc.tmpltbank.em_progenitors.</code><code class="descname">ISCO_eq</code><span class="sig-paren">(</span><em>r</em>, <em>chi</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/em_progenitors.html#ISCO_eq"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.tmpltbank.em_progenitors.ISCO_eq" title="Permalink to this definition">¶</a></dt>
<dd><p>Polynomial that enables the calculation of the Kerr
inntermost stable circular orbit (ISCO) radius via its
roots.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>r: float</strong></p>
<blockquote>
<div><p>the radial coordinate in BH mass units</p>
</div></blockquote>
<p><strong>chi: float</strong></p>
<blockquote>
<div><p>the BH dimensionless spin parameter</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">float</p>
<blockquote class="last">
<div><p>(r*(r-6))**2-chi**2*(2*r*(3*r+14)-9*chi**2)</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pycbc.tmpltbank.em_progenitors.ISCO_eq_chi_first">
<code class="descclassname">pycbc.tmpltbank.em_progenitors.</code><code class="descname">ISCO_eq_chi_first</code><span class="sig-paren">(</span><em>chi</em>, <em>r</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/em_progenitors.html#ISCO_eq_chi_first"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.tmpltbank.em_progenitors.ISCO_eq_chi_first" title="Permalink to this definition">¶</a></dt>
<dd><p>Polynomial that enables the calculation of the Kerr
inntermost stable circular orbit (ISCO) radius via its
roots.  The arguments of the function and the sign of
the polynomial are inverted with respect to ISCO_eq:
this facilitates the job of the root-finder that calls
this function.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>chi: float</strong></p>
<blockquote>
<div><p>the BH dimensionless spin parameter</p>
</div></blockquote>
<p><strong>r: float</strong></p>
<blockquote>
<div><p>the radial coordinate in BH mass units</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">float</p>
<blockquote class="last">
<div><p>-((r*(r-6))**2-chi**2*(2*r*(3*r+14)-9*chi**2))</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pycbc.tmpltbank.em_progenitors.ISSO_eq_at_pole">
<code class="descclassname">pycbc.tmpltbank.em_progenitors.</code><code class="descname">ISSO_eq_at_pole</code><span class="sig-paren">(</span><em>r</em>, <em>chi</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/em_progenitors.html#ISSO_eq_at_pole"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.tmpltbank.em_progenitors.ISSO_eq_at_pole" title="Permalink to this definition">¶</a></dt>
<dd><p>Polynomial that enables the calculation of the Kerr polar
(inclination = +/- pi/2) innermost stable spherical orbit
(ISSO) radius via its roots.  Physical solutions are
between 6 and 1+sqrt[3]+sqrt[3+2sqrt[3]].</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>r: float</strong></p>
<blockquote>
<div><p>the radial coordinate in BH mass units</p>
</div></blockquote>
<p><strong>chi: float</strong></p>
<blockquote>
<div><p>the BH dimensionless spin parameter</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">float</p>
<blockquote class="last">
<div><p>r**3*(r**2*(r-6)+chi**2*(3*r+4))+chi**4*(3*r*(r-2)+chi**2)</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pycbc.tmpltbank.em_progenitors.PG_ISSO_eq">
<code class="descclassname">pycbc.tmpltbank.em_progenitors.</code><code class="descname">PG_ISSO_eq</code><span class="sig-paren">(</span><em>r</em>, <em>chi</em>, <em>ci</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/em_progenitors.html#PG_ISSO_eq"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.tmpltbank.em_progenitors.PG_ISSO_eq" title="Permalink to this definition">¶</a></dt>
<dd><p>Polynomial that enables the calculation of a generic innermost
stable spherical orbit (ISSO) radius via its roots.  Physical
solutions are between the equatorial ISSO (aka the ISCO) radius
and the polar ISSO radius.
[See Stone, Loeb, Berger, PRD 87, 084053 (2013)]</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>r: float</strong></p>
<blockquote>
<div><p>the radial coordinate in BH mass units</p>
</div></blockquote>
<p><strong>chi: float</strong></p>
<blockquote>
<div><p>the BH dimensionless spin parameter</p>
</div></blockquote>
<p><strong>ci: float</strong></p>
<blockquote>
<div><p>cosine of the inclination angle between the BH spin
and the orbital angular momentum</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">float</p>
<blockquote class="last">
<div><p>r**8*Z+chi**2*(1-ci**2)*(chi**2*(1-ci**2)*Y-2*r**4*X)
where
X=chi**2*(chi**2*(3*chi**2+4*r*(2*r-3))+r**2*(15*r*(r-4)+28))-6*r**4*(r**2-4)
Y=chi**4*(chi**4+r**2*(7*r*(3*r-4)+36))+6*r*(r-2)*(chi**6+2*r**3*(chi**2*(3*r+2)+3*r**2*(r-2)))
Z=ISCO_eq(r,chi)</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pycbc.tmpltbank.em_progenitors.PG_ISSO_solver">
<code class="descclassname">pycbc.tmpltbank.em_progenitors.</code><code class="descname">PG_ISSO_solver</code><span class="sig-paren">(</span><em>chi</em>, <em>incl</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/em_progenitors.html#PG_ISSO_solver"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.tmpltbank.em_progenitors.PG_ISSO_solver" title="Permalink to this definition">¶</a></dt>
<dd><p>Function that determines the radius of the innermost stable
spherical orbit (ISSO) for a Kerr BH and a generic inclination
angle between the BH spin and the orbital angular momentum.
This function finds the appropriat root of PG_ISSO_eq.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>chi: float</strong></p>
<blockquote>
<div><p>the BH dimensionless spin parameter</p>
</div></blockquote>
<p><strong>incl: float</strong></p>
<blockquote>
<div><p>the inclination angle between the BH spin and the orbital
angular momentum in radians</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">solution: float</p>
<blockquote class="last">
<div><p>the radius of the orbit in BH mass units</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pycbc.tmpltbank.em_progenitors.bh_effective_spin">
<code class="descclassname">pycbc.tmpltbank.em_progenitors.</code><code class="descname">bh_effective_spin</code><span class="sig-paren">(</span><em>chi</em>, <em>incl</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/em_progenitors.html#bh_effective_spin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.tmpltbank.em_progenitors.bh_effective_spin" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines the effective [as defined in Stone, Loeb,
Berger, PRD 87, 084053 (2013)] aligned dimensionless
spin parameter of a NS-BH binary with tilted BH spin.
This means finding the root chi_eff of
ISCO_eq_chi_first(chi_eff, PG_ISSO_solver(chi,incl))
with the correct sign.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>chi: float</strong></p>
<blockquote>
<div><p>the BH dimensionless spin parameter</p>
</div></blockquote>
<p><strong>incl: float</strong></p>
<blockquote>
<div><p>the inclination angle between the BH spin and the orbital
angular momentum in radians</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">chi_eff: float</p>
<blockquote class="last">
<div><p>the effective dimensionless spin parameter solution</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pycbc.tmpltbank.em_progenitors.find_em_constraint_data_point">
<code class="descclassname">pycbc.tmpltbank.em_progenitors.</code><code class="descname">find_em_constraint_data_point</code><span class="sig-paren">(</span><em>mNS</em>, <em>sBH</em>, <em>eos_name</em>, <em>threshold</em>, <em>eta_default</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/em_progenitors.html#find_em_constraint_data_point"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.tmpltbank.em_progenitors.find_em_constraint_data_point" title="Permalink to this definition">¶</a></dt>
<dd><p>Function that determines the minimum symmetric mass ratio
for an NS-BH system with given NS mass, BH spin parameter
component along the orbital angular momentum, and NS equation
of state (EOS), required for the remnant disk mass to exceed
a certain threshold value specified by the user.  A default
value specified by the user is returned if the NS gravitational
mass exceeds the maximum NS mass allowed by the EOS.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>mNS: float</strong></p>
<blockquote>
<div><p>the NS mass</p>
</div></blockquote>
<p><strong>sBH: float</strong></p>
<blockquote>
<div><p>BH dimensionless spin parameter for the BH spin
component along the orbital angular momentum</p>
</div></blockquote>
<p><strong>eos_name: string</strong></p>
<blockquote>
<div><p>NS equation of state label (&#8216;2H&#8217; is the only supported
choice at the moment)</p>
</div></blockquote>
<p><strong>eta_default: float</strong></p>
<blockquote>
<div><p>the value to be returned if the input NS mass is too high</p>
</div></blockquote>
<p><strong>threshold: float</strong></p>
<blockquote>
<div><p>an amount to be subtracted to the remnant mass upper limit
predicted by the model (in solar masses)</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">eta_sol: float</p>
<blockquote class="last">
<div><p>The miniumum symmetric mass ratio for which the remnant
disk mass exceeds the threshold</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pycbc.tmpltbank.em_progenitors.generate_em_constraint_data">
<code class="descclassname">pycbc.tmpltbank.em_progenitors.</code><code class="descname">generate_em_constraint_data</code><span class="sig-paren">(</span><em>mNS_min</em>, <em>mNS_max</em>, <em>delta_mNS</em>, <em>sBH_min</em>, <em>sBH_max</em>, <em>delta_sBH</em>, <em>eos_name</em>, <em>threshold</em>, <em>eta_default</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/em_progenitors.html#generate_em_constraint_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.tmpltbank.em_progenitors.generate_em_constraint_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper that calls find_em_constraint_data_point over a grid
of points to generate the bh_spin_z x ns_g_mass x eta surface
above which NS-BH binaries yield a remnant disk mass that
exceeds the threshold required by the user.  The user must also
specify the default symmetric mass ratio value to be assigned
to points for which the NS mass exceeds the maximum NS mass
allowed by the chosend NS equation of state.
The 2D surface that is generated is saved to file in two formats:
constraint_em_bright.npz and constraint_em_bright.npz.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>mNS_min: float</strong></p>
<blockquote>
<div><p>lower boundary of the grid in the NS mass direction</p>
</div></blockquote>
<p><strong>mNS_max: float</strong></p>
<blockquote>
<div><p>upper boundary of the grid in the NS mass direction</p>
</div></blockquote>
<p><strong>delta_mNS: float</strong></p>
<blockquote>
<div><p>grid spacing in the NS mass direction</p>
</div></blockquote>
<p><strong>sBH_min: float</strong></p>
<blockquote>
<div><p>lower boundary of the grid in the direction of the
BH dimensionless spin component along the orbital
angular momentum</p>
</div></blockquote>
<p><strong>sBH_max: float</strong></p>
<blockquote>
<div><p>upper boundary of the grid in the direction of the
BH dimensionless spin component along the orbital
angular momentum</p>
</div></blockquote>
<p><strong>delta_sBH: float</strong></p>
<blockquote>
<div><p>grid spacing in the direction of the BH dimensionless
spin component along the orbital angular momentum</p>
</div></blockquote>
<p><strong>eos_name: string</strong></p>
<blockquote>
<div><p>NS equation of state label (&#8216;2H&#8217; is the only supported
choice at the moment)</p>
</div></blockquote>
<p><strong>threshold: float</strong></p>
<blockquote>
<div><p>an amount to be subtracted to the remnant mass upper limit
predicted by the model (in solar masses)</p>
</div></blockquote>
<p><strong>eta_default: float</strong></p>
<blockquote class="last">
<div><p>the value to be returned for points in the grids in which
the NS mass is too high</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pycbc.tmpltbank.em_progenitors.load_ns_sequence">
<code class="descclassname">pycbc.tmpltbank.em_progenitors.</code><code class="descname">load_ns_sequence</code><span class="sig-paren">(</span><em>eos_name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/em_progenitors.html#load_ns_sequence"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.tmpltbank.em_progenitors.load_ns_sequence" title="Permalink to this definition">¶</a></dt>
<dd><p>Load the data of an NS non-rotating equilibrium sequence
generated using the equation of state (EOS) chosen by the
user.  [Only the 2H 2-piecewise polytropic EOS is currently
supported.  This yields NSs with large radiss (15-16km).]</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>eos_name: string</strong></p>
<blockquote>
<div><p>NS equation of state label (&#8216;2H&#8217; is the only supported
choice at the moment)</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">ns_sequence: 3D-array</p>
<blockquote>
<div><dl class="docutils">
<dt>contains the sequence data in the form NS gravitational</dt>
<dd><p class="first last">mass (in solar masses), NS baryonic mass (in solar
masses), NS compactness (dimensionless)</p>
</dd>
</dl>
</div></blockquote>
<p>max_ns_g_mass: float</p>
<blockquote class="last">
<div><p>the maximum NS gravitational mass (in solar masses) in
the sequence (this is the mass of the most massive stable
NS)</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pycbc.tmpltbank.em_progenitors.min_eta_for_em_bright">
<code class="descclassname">pycbc.tmpltbank.em_progenitors.</code><code class="descname">min_eta_for_em_bright</code><span class="sig-paren">(</span><em>bh_spin_z</em>, <em>ns_g_mass</em>, <em>mNS_pts</em>, <em>sBH_pts</em>, <em>eta_mins</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/em_progenitors.html#min_eta_for_em_bright"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.tmpltbank.em_progenitors.min_eta_for_em_bright" title="Permalink to this definition">¶</a></dt>
<dd><p>Function that uses the end product of generate_em_constraint_data
to swipe over a set of NS-BH binaries and determine the minimum
symmetric mass ratio required by each binary to yield a remnant
disk mass that exceeds a certain threshold.  Each binary passed
to this function consists of a NS mass and a BH spin parameter
component along the orbital angular momentum.  Unlike
find_em_constraint_data_point, which solves the problem at
a given point in the paremter space and is more generic, this
function interpolates the results produced by
generate_em_constraint_data at the desired locations:
generate_em_constraint_data must be run once prior to calling
min_eta_for_em_bright.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>bh_spin_z: array</strong></p>
<blockquote>
<div><p>desired values of the BH dimensionless spin parameter for the
spin projection along the orbital angular momentum</p>
</div></blockquote>
<p><strong>ns_g_mass: array</strong></p>
<blockquote>
<div><p>desired values of the NS gravitational mass (in solar masses)</p>
</div></blockquote>
<p><strong>mNS_pts: array</strong></p>
<blockquote>
<div><p>NS mass values (in solar masses) from the output of
generate_em_constraint_data</p>
</div></blockquote>
<p><strong>sBH_pts: array</strong></p>
<blockquote>
<div><p>BH dimensionless spin parameter values along the orbital
angular momentum from the output of generate_em_constraint_data</p>
</div></blockquote>
<p><strong>eta_mins: array</strong></p>
<blockquote>
<div><p>minimum symmetric mass ratio values to exceed a given remnant
disk mass threshold from the output of generate_em_constraint_data</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">eta_min: array</p>
<blockquote class="last">
<div><p>the minimum symmetric mass ratio required by each binary in the
input to yield a remnant disk mass that exceeds a certain
threshold</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pycbc.tmpltbank.em_progenitors.ns_g_mass_to_ns_b_mass">
<code class="descclassname">pycbc.tmpltbank.em_progenitors.</code><code class="descname">ns_g_mass_to_ns_b_mass</code><span class="sig-paren">(</span><em>ns_g_mass</em>, <em>ns_sequence</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/em_progenitors.html#ns_g_mass_to_ns_b_mass"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.tmpltbank.em_progenitors.ns_g_mass_to_ns_b_mass" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines the baryonic mass of an NS given its gravitational
mass and an NS equilibrium sequence.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>ns_g_mass: float</strong></p>
<blockquote>
<div><p>NS gravitational mass (in solar masses)</p>
</div></blockquote>
<p><strong>ns_sequence: 3D-array</strong></p>
<blockquote>
<div><dl class="docutils">
<dt>contains the sequence data in the form NS gravitational</dt>
<dd><p class="first last">mass (in solar masses), NS baryonic mass (in solar
masses), NS compactness (dimensionless)</p>
</dd>
</dl>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">float</p>
<blockquote class="last">
<div><p>The NS baryonic mass (in solar massesr**3*(r**2*(r-6)+chi**2*(3*r+4))+chi**4*(3*r*(r-2)+chi**2))</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pycbc.tmpltbank.em_progenitors.ns_g_mass_to_ns_compactness">
<code class="descclassname">pycbc.tmpltbank.em_progenitors.</code><code class="descname">ns_g_mass_to_ns_compactness</code><span class="sig-paren">(</span><em>ns_g_mass</em>, <em>ns_sequence</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/em_progenitors.html#ns_g_mass_to_ns_compactness"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.tmpltbank.em_progenitors.ns_g_mass_to_ns_compactness" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines the compactness of an NS given its
gravitational mass and an NS equilibrium sequence.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>ns_g_mass: float</strong></p>
<blockquote>
<div><p>NS gravitational mass (in solar masses)</p>
</div></blockquote>
<p><strong>ns_sequence: 3D-array</strong></p>
<blockquote>
<div><dl class="docutils">
<dt>contains the sequence data in the form NS gravitational</dt>
<dd><p class="first last">mass (in solar masses), NS baryonic mass (in solar
masses), NS compactness (dimensionless)</p>
</dd>
</dl>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">float</p>
<blockquote class="last">
<div><p>The NS compactness (dimensionless)</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pycbc.tmpltbank.em_progenitors.pos_branch">
<code class="descclassname">pycbc.tmpltbank.em_progenitors.</code><code class="descname">pos_branch</code><span class="sig-paren">(</span><em>incl</em>, <em>chi</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/em_progenitors.html#pos_branch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.tmpltbank.em_progenitors.pos_branch" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines the effective [as defined in Stone, Loeb,
Berger, PRD 87, 084053 (2013)] aligned dimensionless
spin parameter of a NS-BH binary with tilted BH spin.
This means finding the root chi_eff of
ISCO_eq_chi_first(chi_eff, PG_ISSO_solver(chi,incl)).
The result returned by this function belongs to the
branch of the greater solutions, i.e. the greater of
the two possible solutions is returned.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>incl: float</strong></p>
<blockquote>
<div><p>the inclination angle between the BH spin and the orbital
angular momentum in radians</p>
</div></blockquote>
<p><strong>chi: float</strong></p>
<blockquote>
<div><p>the BH dimensionless spin parameter</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">chi_eff: float</p>
<blockquote class="last">
<div><p>the (greater) effective dimensionless spin parameter solution</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pycbc.tmpltbank.em_progenitors.remnant_mass">
<code class="descclassname">pycbc.tmpltbank.em_progenitors.</code><code class="descname">remnant_mass</code><span class="sig-paren">(</span><em>eta</em>, <em>ns_g_mass</em>, <em>ns_sequence</em>, <em>chi</em>, <em>incl</em>, <em>shift</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/em_progenitors.html#remnant_mass"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.tmpltbank.em_progenitors.remnant_mass" title="Permalink to this definition">¶</a></dt>
<dd><p>Function that determines the remnant disk mass of
an NS-BH system using the fit to numerical-relativity
results discussed in Foucart PRD 86, 124007 (2012).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>eta: float</strong></p>
<blockquote>
<div><p>the symmetric mass ratio of the binary</p>
</div></blockquote>
<p><strong>ns_g_mass: float</strong></p>
<blockquote>
<div><p>NS gravitational mass (in solar masses)</p>
</div></blockquote>
<p><strong>ns_sequence: 3D-array</strong></p>
<blockquote>
<div><dl class="docutils">
<dt>contains the sequence data in the form NS gravitational</dt>
<dd><p class="first last">mass (in solar masses), NS baryonic mass (in solar
masses), NS compactness (dimensionless)</p>
</dd>
</dl>
</div></blockquote>
<p><strong>chi: float</strong></p>
<blockquote>
<div><p>the BH dimensionless spin parameter</p>
</div></blockquote>
<p><strong>incl: float</strong></p>
<blockquote>
<div><p>the inclination angle between the BH spin and the orbital
angular momentum in radians</p>
</div></blockquote>
<p><strong>shift: float</strong></p>
<blockquote>
<div><p>an amount to be subtracted to the remnant mass predicted
by the model (in solar masses)</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">remnant_mass: float</p>
<blockquote class="last">
<div><p>The remnant mass in solar masses</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pycbc.tmpltbank.em_progenitors.remnant_mass_ulim">
<code class="descclassname">pycbc.tmpltbank.em_progenitors.</code><code class="descname">remnant_mass_ulim</code><span class="sig-paren">(</span><em>eta</em>, <em>ns_g_mass</em>, <em>bh_spin_z</em>, <em>ns_sequence</em>, <em>max_ns_g_mass</em>, <em>shift</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/em_progenitors.html#remnant_mass_ulim"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.tmpltbank.em_progenitors.remnant_mass_ulim" title="Permalink to this definition">¶</a></dt>
<dd><p>Function that determines the maximum remnant disk mass
for an NS-BH system with given symmetric mass ratio,
NS mass, and BH spin parameter component along the
orbital angular momentum.  This is a wrapper to
the function remnant_mass.  Maximization is achieved
by setting the BH dimensionless spin magntitude to unity.
An unreasonably large remnant disk mass (100 solar masses)
is returned if the maximum possible NS mass is exceeded
in applying the model of Foucart PRD 86, 124007 (2012).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>eta: float</strong></p>
<blockquote>
<div><p>the symmetric mass ratio of the binary</p>
</div></blockquote>
<p><strong>ns_g_mass: float</strong></p>
<blockquote>
<div><p>NS gravitational mass (in solar masses)</p>
</div></blockquote>
<p><strong>bh_spin_z: float</strong></p>
<blockquote>
<div><p>the BH dimensionless spin parameter for the spin projection
along the orbital angular momentum</p>
</div></blockquote>
<p><strong>ns_sequence: 3D-array</strong></p>
<blockquote>
<div><dl class="docutils">
<dt>contains the sequence data in the form NS gravitational</dt>
<dd><p class="first last">mass (in solar masses), NS baryonic mass (in solar
masses), NS compactness (dimensionless)</p>
</dd>
</dl>
</div></blockquote>
<p><strong>shift: float</strong></p>
<blockquote>
<div><p>an amount to be subtracted to the remnant mass upper limit
predicted by the model (in solar masses)</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">remnant_mass_upper_limit: float</p>
<blockquote class="last">
<div><p>The remnant mass upper limit in solar masses</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pycbc.tmpltbank.em_progenitors.xi_eq">
<code class="descclassname">pycbc.tmpltbank.em_progenitors.</code><code class="descname">xi_eq</code><span class="sig-paren">(</span><em>x</em>, <em>kappa</em>, <em>chi_eff</em>, <em>q</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/em_progenitors.html#xi_eq"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.tmpltbank.em_progenitors.xi_eq" title="Permalink to this definition">¶</a></dt>
<dd><p>The roots of this equation determine the orbital radius
at the onset of NS tidal disruption in a nonprecessing
NS-BH binary [(7) in Foucart PRD 86, 124007 (2012)]</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>x: float</strong></p>
<blockquote>
<div><p>orbital separation in units of the NS radius</p>
</div></blockquote>
<p><strong>kappa: float</strong></p>
<blockquote>
<div><p>the BH mass divided by the NS radius</p>
</div></blockquote>
<p><strong>chi_eff: float</strong></p>
<blockquote>
<div><p>the BH dimensionless spin parameter</p>
</div></blockquote>
<p><strong>q: float</strong></p>
<blockquote>
<div><p>the binary mass ratio (BH mass / NS mass)</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">float</p>
<blockquote class="last">
<div><p>x**3*(x**2-3*kappa*x+2*chi_eff*kappa*sqrt[kappa*x)
-3*q*(x**2-2*kappa*x+(chi_eff*kappa)**2)</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-pycbc.tmpltbank.lambda_mapping">
<span id="pycbc-tmpltbank-lambda-mapping-module"></span><h2>pycbc.tmpltbank.lambda_mapping module<a class="headerlink" href="#module-pycbc.tmpltbank.lambda_mapping" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="pycbc.tmpltbank.lambda_mapping.ethinca_order_from_string">
<code class="descclassname">pycbc.tmpltbank.lambda_mapping.</code><code class="descname">ethinca_order_from_string</code><span class="sig-paren">(</span><em>order</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/lambda_mapping.html#ethinca_order_from_string"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.tmpltbank.lambda_mapping.ethinca_order_from_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the integer giving twice the post-Newtonian order 
used by the ethinca calculation. Currently valid only for TaylorF2 metric</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>order</strong> : string</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pycbc.tmpltbank.lambda_mapping.generate_inverse_mapping">
<code class="descclassname">pycbc.tmpltbank.lambda_mapping.</code><code class="descname">generate_inverse_mapping</code><span class="sig-paren">(</span><em>order</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/lambda_mapping.html#generate_inverse_mapping"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.tmpltbank.lambda_mapping.generate_inverse_mapping" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pycbc.tmpltbank.lambda_mapping.generate_mapping">
<code class="descclassname">pycbc.tmpltbank.lambda_mapping.</code><code class="descname">generate_mapping</code><span class="sig-paren">(</span><em>order</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/lambda_mapping.html#generate_mapping"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.tmpltbank.lambda_mapping.generate_mapping" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pycbc.tmpltbank.lambda_mapping.get_chirp_params">
<code class="descclassname">pycbc.tmpltbank.lambda_mapping.</code><code class="descname">get_chirp_params</code><span class="sig-paren">(</span><em>totmass</em>, <em>eta</em>, <em>beta</em>, <em>sigma</em>, <em>gamma</em>, <em>chis</em>, <em>f0</em>, <em>order</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/lambda_mapping.html#get_chirp_params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.tmpltbank.lambda_mapping.get_chirp_params" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pycbc.tmpltbank.lambda_mapping.get_ethinca_orders">
<code class="descclassname">pycbc.tmpltbank.lambda_mapping.</code><code class="descname">get_ethinca_orders</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/lambda_mapping.html#get_ethinca_orders"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.tmpltbank.lambda_mapping.get_ethinca_orders" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the dictionary mapping TaylorF2 PN order names to twice-PN 
orders (powers of v/c)</p>
</dd></dl>

</div>
<div class="section" id="module-pycbc.tmpltbank.lattice_utils">
<span id="pycbc-tmpltbank-lattice-utils-module"></span><h2>pycbc.tmpltbank.lattice_utils module<a class="headerlink" href="#module-pycbc.tmpltbank.lattice_utils" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="pycbc.tmpltbank.lattice_utils.generate_anstar_3d_lattice">
<code class="descclassname">pycbc.tmpltbank.lattice_utils.</code><code class="descname">generate_anstar_3d_lattice</code><span class="sig-paren">(</span><em>maxv1</em>, <em>minv1</em>, <em>maxv2</em>, <em>minv2</em>, <em>maxv3</em>, <em>minv3</em>, <em>mindist</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/lattice_utils.html#generate_anstar_3d_lattice"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.tmpltbank.lattice_utils.generate_anstar_3d_lattice" title="Permalink to this definition">¶</a></dt>
<dd><p>This function calls into LAL routines to generate a 3-dimensional array
of points using the An^* lattice.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>maxv1</strong> : float</p>
<blockquote>
<div><p>Largest value in the 1st dimension to cover</p>
</div></blockquote>
<p><strong>minv1</strong> : float</p>
<blockquote>
<div><p>Smallest value in the 1st dimension to cover</p>
</div></blockquote>
<p><strong>maxv2</strong> : float</p>
<blockquote>
<div><p>Largest value in the 2nd dimension to cover</p>
</div></blockquote>
<p><strong>minv2</strong> : float</p>
<blockquote>
<div><p>Smallest value in the 2nd dimension to cover</p>
</div></blockquote>
<p><strong>maxv3</strong> : float</p>
<blockquote>
<div><p>Largest value in the 3rd dimension to cover</p>
</div></blockquote>
<p><strong>minv3</strong> : float</p>
<blockquote>
<div><p>Smallest value in the 3rd dimension to cover</p>
</div></blockquote>
<p><strong>mindist</strong> : float</p>
<blockquote>
<div><p>Maximum allowed mismatch between a point in the parameter space and the
generated bank of points.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>v1s</strong> : numpy.array</p>
<blockquote>
<div><p>Array of positions in the first dimension</p>
</div></blockquote>
<p><strong>v2s</strong> : numpy.array</p>
<blockquote>
<div><p>Array of positions in the second dimension</p>
</div></blockquote>
<p><strong>v3s</strong> : numpy.array</p>
<blockquote class="last">
<div><p>Array of positions in the second dimension</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pycbc.tmpltbank.lattice_utils.generate_hexagonal_lattice">
<code class="descclassname">pycbc.tmpltbank.lattice_utils.</code><code class="descname">generate_hexagonal_lattice</code><span class="sig-paren">(</span><em>maxv1</em>, <em>minv1</em>, <em>maxv2</em>, <em>minv2</em>, <em>mindist</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/lattice_utils.html#generate_hexagonal_lattice"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.tmpltbank.lattice_utils.generate_hexagonal_lattice" title="Permalink to this definition">¶</a></dt>
<dd><p>This function generates a 2-dimensional lattice of points using a hexagonal
lattice.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>maxv1</strong> : float</p>
<blockquote>
<div><p>Largest value in the 1st dimension to cover</p>
</div></blockquote>
<p><strong>minv1</strong> : float</p>
<blockquote>
<div><p>Smallest value in the 1st dimension to cover</p>
</div></blockquote>
<p><strong>maxv2</strong> : float</p>
<blockquote>
<div><p>Largest value in the 2nd dimension to cover</p>
</div></blockquote>
<p><strong>minv2</strong> : float</p>
<blockquote>
<div><p>Smallest value in the 2nd dimension to cover</p>
</div></blockquote>
<p><strong>mindist</strong> : float</p>
<blockquote>
<div><p>Maximum allowed mismatch between a point in the parameter space and the
generated bank of points.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>v1s</strong> : numpy.array</p>
<blockquote>
<div><p>Array of positions in the first dimension</p>
</div></blockquote>
<p><strong>v2s</strong> : numpy.array</p>
<blockquote class="last">
<div><p>Array of positions in the second dimension</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-pycbc.tmpltbank.option_utils">
<span id="pycbc-tmpltbank-option-utils-module"></span><h2>pycbc.tmpltbank.option_utils module<a class="headerlink" href="#module-pycbc.tmpltbank.option_utils" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pycbc.tmpltbank.option_utils.IndentedHelpFormatterWithNL">
<em class="property">class </em><code class="descclassname">pycbc.tmpltbank.option_utils.</code><code class="descname">IndentedHelpFormatterWithNL</code><span class="sig-paren">(</span><em>prog</em>, <em>indent_increment=2</em>, <em>max_help_position=24</em>, <em>width=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/option_utils.html#IndentedHelpFormatterWithNL"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.tmpltbank.option_utils.IndentedHelpFormatterWithNL" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="http://docs.python.org/library/argparse.html#argparse.ArgumentDefaultsHelpFormatter" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">argparse.ArgumentDefaultsHelpFormatter</span></code></a></p>
<p>This class taken from 
<a class="reference external" href="https://groups.google.com/forum/#!topic/comp.lang.python/bfbmtUGhW8I">https://groups.google.com/forum/#!topic/comp.lang.python/bfbmtUGhW8I</a>
and is used to format the argparse help messages to deal with line breaking
nicer. Specfically the pn-order help is large and looks crappy without this.
This function is (C) Tim Chase</p>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#pycbc.tmpltbank.option_utils.IndentedHelpFormatterWithNL.format_description" title="pycbc.tmpltbank.option_utils.IndentedHelpFormatterWithNL.format_description"><code class="xref py py-obj docutils literal"><span class="pre">format_description</span></code></a>(description)</td>
<td>No documentation</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pycbc.tmpltbank.option_utils.IndentedHelpFormatterWithNL.format_option" title="pycbc.tmpltbank.option_utils.IndentedHelpFormatterWithNL.format_option"><code class="xref py py-obj docutils literal"><span class="pre">format_option</span></code></a>(option)</td>
<td>No documentation</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="pycbc.tmpltbank.option_utils.IndentedHelpFormatterWithNL.format_description">
<code class="descname">format_description</code><span class="sig-paren">(</span><em>description</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/option_utils.html#IndentedHelpFormatterWithNL.format_description"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.tmpltbank.option_utils.IndentedHelpFormatterWithNL.format_description" title="Permalink to this definition">¶</a></dt>
<dd><p>No documentation</p>
</dd></dl>

<dl class="method">
<dt id="pycbc.tmpltbank.option_utils.IndentedHelpFormatterWithNL.format_option">
<code class="descname">format_option</code><span class="sig-paren">(</span><em>option</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/option_utils.html#IndentedHelpFormatterWithNL.format_option"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.tmpltbank.option_utils.IndentedHelpFormatterWithNL.format_option" title="Permalink to this definition">¶</a></dt>
<dd><p>No documentation</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="pycbc.tmpltbank.option_utils.check_ethinca_against_bank_opts">
<code class="descclassname">pycbc.tmpltbank.option_utils.</code><code class="descname">check_ethinca_against_bank_opts</code><span class="sig-paren">(</span><em>opts</em>, <em>parser</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/option_utils.html#check_ethinca_against_bank_opts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.tmpltbank.option_utils.check_ethinca_against_bank_opts" title="Permalink to this definition">¶</a></dt>
<dd><p>Cross-check the ethinca and bank layout metric options.
The Params-level function &#8216;check_ethinca_against_bank_params&#8217; is 
preferred to this function since it operates directly on the Params
objects which are passed to the ethinca metric calculation, and can 
change their attributes if desired.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>opts</strong> : argparse.Values instance</p>
<blockquote>
<div><p>Result of parsing the input options with OptionParser</p>
</div></blockquote>
<p><strong>parser</strong> : object</p>
<blockquote class="last">
<div><p>The OptionParser instance.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pycbc.tmpltbank.option_utils.check_ethinca_against_bank_params">
<code class="descclassname">pycbc.tmpltbank.option_utils.</code><code class="descname">check_ethinca_against_bank_params</code><span class="sig-paren">(</span><em>ethincaParams</em>, <em>metricParams</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/option_utils.html#check_ethinca_against_bank_params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.tmpltbank.option_utils.check_ethinca_against_bank_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Cross-check the ethinca and bank layout metric calculation parameters
and set the ethinca metric PN order equal to the bank PN order if not
previously set.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>ethincaParams: instance of ethincaParameters</strong></p>
<p class="last"><strong>metricParams: instance of metricParameters</strong></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="pycbc.tmpltbank.option_utils.ethincaParameters">
<em class="property">class </em><code class="descclassname">pycbc.tmpltbank.option_utils.</code><code class="descname">ethincaParameters</code><span class="sig-paren">(</span><em>pnOrder</em>, <em>cutoff</em>, <em>freqStep</em>, <em>fLow=None</em>, <em>full_ethinca=False</em>, <em>time_ethinca=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/option_utils.html#ethincaParameters"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.tmpltbank.option_utils.ethincaParameters" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="http://docs.python.org/library/functions.html#object" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p>This class holds all of the options that are parsed in the function
insert_ethinca_metric_options
and all products produced using these options. It can also be initialized
from the __init__ function, providing directly the options normally
provided on the command line</p>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#pycbc.tmpltbank.option_utils.ethincaParameters.from_argparse" title="pycbc.tmpltbank.option_utils.ethincaParameters.from_argparse"><code class="xref py py-obj docutils literal"><span class="pre">from_argparse</span></code></a>(opts)</td>
<td>Initialize an instance of the ethincaParameters class from an argparse.OptionParser instance.</td>
</tr>
</tbody>
</table>
<dl class="classmethod">
<dt id="pycbc.tmpltbank.option_utils.ethincaParameters.from_argparse">
<em class="property">classmethod </em><code class="descname">from_argparse</code><span class="sig-paren">(</span><em>opts</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/option_utils.html#ethincaParameters.from_argparse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.tmpltbank.option_utils.ethincaParameters.from_argparse" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize an instance of the ethincaParameters class from an
argparse.OptionParser instance. This assumes that
insert_ethinca_metric_options
and
verify_ethinca_metric_options
have already been called before initializing the class.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="pycbc.tmpltbank.option_utils.get_options_from_group">
<code class="descclassname">pycbc.tmpltbank.option_utils.</code><code class="descname">get_options_from_group</code><span class="sig-paren">(</span><em>option_group</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/option_utils.html#get_options_from_group"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.tmpltbank.option_utils.get_options_from_group" title="Permalink to this definition">¶</a></dt>
<dd><p>Take an option group and return all the options that are defined in that
group.</p>
</dd></dl>

<dl class="function">
<dt id="pycbc.tmpltbank.option_utils.insert_base_bank_options">
<code class="descclassname">pycbc.tmpltbank.option_utils.</code><code class="descname">insert_base_bank_options</code><span class="sig-paren">(</span><em>parser</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/option_utils.html#insert_base_bank_options"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.tmpltbank.option_utils.insert_base_bank_options" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds essential common options for template bank generation to an
ArgumentParser instance.</p>
</dd></dl>

<dl class="function">
<dt id="pycbc.tmpltbank.option_utils.insert_ethinca_metric_options">
<code class="descclassname">pycbc.tmpltbank.option_utils.</code><code class="descname">insert_ethinca_metric_options</code><span class="sig-paren">(</span><em>parser</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/option_utils.html#insert_ethinca_metric_options"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.tmpltbank.option_utils.insert_ethinca_metric_options" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds the options used to calculate the ethinca metric, if required.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>parser</strong> : object</p>
<blockquote class="last">
<div><p>OptionParser instance.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pycbc.tmpltbank.option_utils.insert_mass_range_option_group">
<code class="descclassname">pycbc.tmpltbank.option_utils.</code><code class="descname">insert_mass_range_option_group</code><span class="sig-paren">(</span><em>parser</em>, <em>nonSpin=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/option_utils.html#insert_mass_range_option_group"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.tmpltbank.option_utils.insert_mass_range_option_group" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds the options used to specify mass ranges in the bank generation codes
to an argparser as an OptionGroup. This should be used if you
want to use these options in your code.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>parser</strong> : object</p>
<blockquote>
<div><p>OptionParser instance.</p>
</div></blockquote>
<p><strong>nonSpin</strong> : boolean, optional (default=False)</p>
<blockquote class="last">
<div><p>If this is provided the spin-related options will not be added.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pycbc.tmpltbank.option_utils.insert_metric_calculation_options">
<code class="descclassname">pycbc.tmpltbank.option_utils.</code><code class="descname">insert_metric_calculation_options</code><span class="sig-paren">(</span><em>parser</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/option_utils.html#insert_metric_calculation_options"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.tmpltbank.option_utils.insert_metric_calculation_options" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds the options used to obtain a metric in the bank generation codes to an
argparser as an OptionGroup. This should be used if you want to use these
options in your code.</p>
</dd></dl>

<dl class="class">
<dt id="pycbc.tmpltbank.option_utils.massRangeParameters">
<em class="property">class </em><code class="descclassname">pycbc.tmpltbank.option_utils.</code><code class="descname">massRangeParameters</code><span class="sig-paren">(</span><em>minMass1</em>, <em>maxMass1</em>, <em>minMass2</em>, <em>maxMass2</em>, <em>maxNSSpinMag=0</em>, <em>maxBHSpinMag=0</em>, <em>maxTotMass=None</em>, <em>minTotMass=None</em>, <em>maxEta=None</em>, <em>minEta=0</em>, <em>max_chirp_mass=None</em>, <em>min_chirp_mass=None</em>, <em>ns_bh_boundary_mass=None</em>, <em>nsbhFlag=False</em>, <em>remnant_mass_threshold=None</em>, <em>ns_eos=None</em>, <em>use_eos_max_ns_mass=False</em>, <em>delta_bh_spin=None</em>, <em>delta_ns_mass=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/option_utils.html#massRangeParameters"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.tmpltbank.option_utils.massRangeParameters" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="http://docs.python.org/library/functions.html#object" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p>This class holds all of the options that are parsed in the function
insert_mass_range_option_group
and all products produced using these options. It can also be initialized
from the __init__ function providing directly the options normally
provided on the command line</p>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#pycbc.tmpltbank.option_utils.massRangeParameters.from_argparse" title="pycbc.tmpltbank.option_utils.massRangeParameters.from_argparse"><code class="xref py py-obj docutils literal"><span class="pre">from_argparse</span></code></a>(opts[,&nbsp;nonSpin])</td>
<td>Initialize an instance of the massRangeParameters class from an argparse.OptionParser instance.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pycbc.tmpltbank.option_utils.massRangeParameters.is_outside_range" title="pycbc.tmpltbank.option_utils.massRangeParameters.is_outside_range"><code class="xref py py-obj docutils literal"><span class="pre">is_outside_range</span></code></a>(mass1,&nbsp;mass2,&nbsp;spin1z,&nbsp;spin2z)</td>
<td>Test if a given location in mass1, mass2, spin1z, spin2z is within the range of parameters allowed by the massParams object.</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="pycbc.tmpltbank.option_utils.massRangeParameters.default_delta_bh_spin">
<code class="descname">default_delta_bh_spin</code><em class="property"> = 0.10000000000000001</em><a class="headerlink" href="#pycbc.tmpltbank.option_utils.massRangeParameters.default_delta_bh_spin" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pycbc.tmpltbank.option_utils.massRangeParameters.default_delta_ns_mass">
<code class="descname">default_delta_ns_mass</code><em class="property"> = 0.10000000000000001</em><a class="headerlink" href="#pycbc.tmpltbank.option_utils.massRangeParameters.default_delta_ns_mass" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pycbc.tmpltbank.option_utils.massRangeParameters.default_ns_eos">
<code class="descname">default_ns_eos</code><em class="property"> = '2H'</em><a class="headerlink" href="#pycbc.tmpltbank.option_utils.massRangeParameters.default_ns_eos" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pycbc.tmpltbank.option_utils.massRangeParameters.default_nsbh_boundary_mass">
<code class="descname">default_nsbh_boundary_mass</code><em class="property"> = 3.0</em><a class="headerlink" href="#pycbc.tmpltbank.option_utils.massRangeParameters.default_nsbh_boundary_mass" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="pycbc.tmpltbank.option_utils.massRangeParameters.from_argparse">
<em class="property">classmethod </em><code class="descname">from_argparse</code><span class="sig-paren">(</span><em>opts</em>, <em>nonSpin=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/option_utils.html#massRangeParameters.from_argparse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.tmpltbank.option_utils.massRangeParameters.from_argparse" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize an instance of the massRangeParameters class from an
argparse.OptionParser instance. This assumes that
insert_mass_range_option_group
and
verify_mass_range_options
have already been called before initializing the class.</p>
</dd></dl>

<dl class="method">
<dt id="pycbc.tmpltbank.option_utils.massRangeParameters.is_outside_range">
<code class="descname">is_outside_range</code><span class="sig-paren">(</span><em>mass1</em>, <em>mass2</em>, <em>spin1z</em>, <em>spin2z</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/option_utils.html#massRangeParameters.is_outside_range"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.tmpltbank.option_utils.massRangeParameters.is_outside_range" title="Permalink to this definition">¶</a></dt>
<dd><p>Test if a given location in mass1, mass2, spin1z, spin2z is within the
range of parameters allowed by the massParams object.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pycbc.tmpltbank.option_utils.metricParameters">
<em class="property">class </em><code class="descclassname">pycbc.tmpltbank.option_utils.</code><code class="descname">metricParameters</code><span class="sig-paren">(</span><em>pnOrder</em>, <em>fLow</em>, <em>fUpper</em>, <em>deltaF</em>, <em>f0=70</em>, <em>write_metric=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/option_utils.html#metricParameters"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.tmpltbank.option_utils.metricParameters" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="http://docs.python.org/library/functions.html#object" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p>This class holds all of the options that are parsed in the function
insert_metric_calculation_options
and all products produced using these options. It can also be initialized
from the __init__ function, providing directly the options normally
provided on the command line.</p>
<p class="rubric">Attributes</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#pycbc.tmpltbank.option_utils.metricParameters.evals" title="pycbc.tmpltbank.option_utils.metricParameters.evals"><code class="xref py py-obj docutils literal"><span class="pre">evals</span></code></a></td>
<td>The eigenvalues of the parameter space.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pycbc.tmpltbank.option_utils.metricParameters.evecs" title="pycbc.tmpltbank.option_utils.metricParameters.evecs"><code class="xref py py-obj docutils literal"><span class="pre">evecs</span></code></a></td>
<td>The eigenvectors of the parameter space.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pycbc.tmpltbank.option_utils.metricParameters.evecsCV" title="pycbc.tmpltbank.option_utils.metricParameters.evecsCV"><code class="xref py py-obj docutils literal"><span class="pre">evecsCV</span></code></a></td>
<td>The eigenvectors of the principal directions of the mu space.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pycbc.tmpltbank.option_utils.metricParameters.metric" title="pycbc.tmpltbank.option_utils.metricParameters.metric"><code class="xref py py-obj docutils literal"><span class="pre">metric</span></code></a></td>
<td>The metric of the parameter space.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pycbc.tmpltbank.option_utils.metricParameters.moments" title="pycbc.tmpltbank.option_utils.metricParameters.moments"><code class="xref py py-obj docutils literal"><span class="pre">moments</span></code></a></td>
<td>Moments structure This contains the result of all the integrals used in computing the metrics above.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pycbc.tmpltbank.option_utils.metricParameters.psd" title="pycbc.tmpltbank.option_utils.metricParameters.psd"><code class="xref py py-obj docutils literal"><span class="pre">psd</span></code></a></td>
<td>A pyCBC FrequencySeries holding the appropriate PSD.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pycbc.tmpltbank.option_utils.metricParameters.time_unprojected_metric" title="pycbc.tmpltbank.option_utils.metricParameters.time_unprojected_metric"><code class="xref py py-obj docutils literal"><span class="pre">time_unprojected_metric</span></code></a></td>
<td>The metric of the parameter space with the time dimension unprojected.</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#pycbc.tmpltbank.option_utils.metricParameters.from_argparse" title="pycbc.tmpltbank.option_utils.metricParameters.from_argparse"><code class="xref py py-obj docutils literal"><span class="pre">from_argparse</span></code></a>(opts)</td>
<td>Initialize an instance of the metricParameters class from an argparse.OptionParser instance.</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="pycbc.tmpltbank.option_utils.metricParameters.evals">
<code class="descname">evals</code><a class="headerlink" href="#pycbc.tmpltbank.option_utils.metricParameters.evals" title="Permalink to this definition">¶</a></dt>
<dd><p>The eigenvalues of the parameter space.
This is a Dictionary of numpy.array
Each entry in the dictionary corresponds to the different frequency
ranges described in vary_fmax. If vary_fmax = False, the only entry
will be f_upper, this corresponds to integrals in [f_low,f_upper). This
entry is always present. Each other entry will use floats as keys to
the dictionary. These floats give the upper frequency cutoff when it is
varying.
Each numpy.array contains the eigenvalues which, with the eigenvectors
in evecs, are needed to rotate the
coordinate system to one in which the metric is the identity matrix.</p>
</dd></dl>

<dl class="attribute">
<dt id="pycbc.tmpltbank.option_utils.metricParameters.evecs">
<code class="descname">evecs</code><a class="headerlink" href="#pycbc.tmpltbank.option_utils.metricParameters.evecs" title="Permalink to this definition">¶</a></dt>
<dd><p>The eigenvectors of the parameter space.
This is a Dictionary of numpy.matrix
Each entry in the dictionary is as described under evals.
Each numpy.matrix contains the eigenvectors which, with the eigenvalues
in evals, are needed to rotate the
coordinate system to one in which the metric is the identity matrix.</p>
</dd></dl>

<dl class="attribute">
<dt id="pycbc.tmpltbank.option_utils.metricParameters.evecsCV">
<code class="descname">evecsCV</code><a class="headerlink" href="#pycbc.tmpltbank.option_utils.metricParameters.evecsCV" title="Permalink to this definition">¶</a></dt>
<dd><p>The eigenvectors of the principal directions of the mu space.
This is a Dictionary of numpy.matrix
Each entry in the dictionary is as described under evals.
Each numpy.matrix contains the eigenvectors which, with the eigenvalues
in evals, are needed to rotate the
coordinate system to one in which the metric is the identity matrix.</p>
</dd></dl>

<dl class="classmethod">
<dt id="pycbc.tmpltbank.option_utils.metricParameters.from_argparse">
<em class="property">classmethod </em><code class="descname">from_argparse</code><span class="sig-paren">(</span><em>opts</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/option_utils.html#metricParameters.from_argparse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.tmpltbank.option_utils.metricParameters.from_argparse" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize an instance of the metricParameters class from an
argparse.OptionParser instance. This assumes that
insert_metric_calculation_options
and
verify_metric_calculation_options
have already been called before initializing the class.</p>
</dd></dl>

<dl class="attribute">
<dt id="pycbc.tmpltbank.option_utils.metricParameters.metric">
<code class="descname">metric</code><a class="headerlink" href="#pycbc.tmpltbank.option_utils.metricParameters.metric" title="Permalink to this definition">¶</a></dt>
<dd><p>The metric of the parameter space.
This is a Dictionary of numpy.matrix
Each entry in the dictionary is as described under evals.
Each numpy.matrix contains the metric of the parameter space in the
Lambda_i coordinate system.</p>
</dd></dl>

<dl class="attribute">
<dt id="pycbc.tmpltbank.option_utils.metricParameters.moments">
<code class="descname">moments</code><a class="headerlink" href="#pycbc.tmpltbank.option_utils.metricParameters.moments" title="Permalink to this definition">¶</a></dt>
<dd><p>Moments structure
This contains the result of all the integrals used in computing the
metrics above. It can be used for the ethinca components calculation,
or other similar calculations. This is composed of two compound
dictionaries. The first entry indicates which moment is being
calculated and the second entry indicates the upper frequency cutoff
that was used.</p>
<p>In all cases x = f/f0.</p>
<p>For the first entries the options are:</p>
<p>moments[&#8216;J%d&#8217; %(i)][f_cutoff]
This stores the integral of 
x**((-i)/3.) * delta X / PSD(x)</p>
<p>moments[&#8216;log%d&#8217; %(i)][f_cutoff]
This stores the integral of 
(numpy.log(x**(1./3.))) x**((-i)/3.) * delta X / PSD(x)</p>
<p>moments[&#8216;loglog%d&#8217; %(i)][f_cutoff]
This stores the integral of 
(numpy.log(x**(1./3.)))**2 x**((-i)/3.) * delta X / PSD(x)</p>
<p>moments[&#8216;loglog%d&#8217; %(i)][f_cutoff]
This stores the integral of 
(numpy.log(x**(1./3.)))**3 x**((-i)/3.) * delta X / PSD(x)</p>
<p>moments[&#8216;loglog%d&#8217; %(i)][f_cutoff]
This stores the integral of 
(numpy.log(x**(1./3.)))**4 x**((-i)/3.) * delta X / PSD(x)</p>
<p>The second entry stores the frequency cutoff that was used when
computing the integral.</p>
</dd></dl>

<dl class="attribute">
<dt id="pycbc.tmpltbank.option_utils.metricParameters.psd">
<code class="descname">psd</code><a class="headerlink" href="#pycbc.tmpltbank.option_utils.metricParameters.psd" title="Permalink to this definition">¶</a></dt>
<dd><p>A pyCBC FrequencySeries holding the appropriate PSD.
Return the PSD used in the metric calculation.</p>
</dd></dl>

<dl class="attribute">
<dt id="pycbc.tmpltbank.option_utils.metricParameters.time_unprojected_metric">
<code class="descname">time_unprojected_metric</code><a class="headerlink" href="#pycbc.tmpltbank.option_utils.metricParameters.time_unprojected_metric" title="Permalink to this definition">¶</a></dt>
<dd><p>The metric of the parameter space with the time dimension unprojected.
This is a Dictionary of numpy.matrix
Each entry in the dictionary is as described under evals.
Each numpy.matrix contains the metric of the parameter space in the
Lambda_i, t coordinate system. The time components are always in the
last [-1] position in the matrix.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="pycbc.tmpltbank.option_utils.verify_ethinca_metric_options">
<code class="descclassname">pycbc.tmpltbank.option_utils.</code><code class="descname">verify_ethinca_metric_options</code><span class="sig-paren">(</span><em>opts</em>, <em>parser</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/option_utils.html#verify_ethinca_metric_options"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.tmpltbank.option_utils.verify_ethinca_metric_options" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks that the necessary options are given for the ethinca metric
calculation.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>opts</strong> : argparse.Values instance</p>
<blockquote>
<div><p>Result of parsing the input options with OptionParser</p>
</div></blockquote>
<p><strong>parser</strong> : object</p>
<blockquote class="last">
<div><p>The OptionParser instance.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pycbc.tmpltbank.option_utils.verify_mass_range_options">
<code class="descclassname">pycbc.tmpltbank.option_utils.</code><code class="descname">verify_mass_range_options</code><span class="sig-paren">(</span><em>opts</em>, <em>parser</em>, <em>nonSpin=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/option_utils.html#verify_mass_range_options"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.tmpltbank.option_utils.verify_mass_range_options" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses the metric calculation options given and verifies that they are
correct.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>opts</strong> : argparse.Values instance</p>
<blockquote>
<div><p>Result of parsing the input options with OptionParser</p>
</div></blockquote>
<p><strong>parser</strong> : object</p>
<blockquote>
<div><p>The OptionParser instance.</p>
</div></blockquote>
<p><strong>nonSpin</strong> : boolean, optional (default=False)</p>
<blockquote class="last">
<div><p>If this is provided the spin-related options will not be checked.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pycbc.tmpltbank.option_utils.verify_metric_calculation_options">
<code class="descclassname">pycbc.tmpltbank.option_utils.</code><code class="descname">verify_metric_calculation_options</code><span class="sig-paren">(</span><em>opts</em>, <em>parser</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/option_utils.html#verify_metric_calculation_options"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.tmpltbank.option_utils.verify_metric_calculation_options" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses the metric calculation options given and verifies that they are
correct.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>opts</strong> : argparse.Values instance</p>
<blockquote>
<div><p>Result of parsing the input options with OptionParser</p>
</div></blockquote>
<p><strong>parser</strong> : object</p>
<blockquote class="last">
<div><p>The OptionParser instance.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-pycbc.tmpltbank.partitioned_bank">
<span id="pycbc-tmpltbank-partitioned-bank-module"></span><h2>pycbc.tmpltbank.partitioned_bank module<a class="headerlink" href="#module-pycbc.tmpltbank.partitioned_bank" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pycbc.tmpltbank.partitioned_bank.PartitionedTmpltbank">
<em class="property">class </em><code class="descclassname">pycbc.tmpltbank.partitioned_bank.</code><code class="descname">PartitionedTmpltbank</code><span class="sig-paren">(</span><em>mass_range_params</em>, <em>metric_params</em>, <em>ref_freq</em>, <em>bin_spacing</em>, <em>bin_range_check=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/partitioned_bank.html#PartitionedTmpltbank"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.tmpltbank.partitioned_bank.PartitionedTmpltbank" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="http://docs.python.org/library/functions.html#object" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p>This class is used to hold a template bank partitioned into numerous bins
based on position in the Cartesian parameter space where the axes are the
principal components. It can also be used to hold intermediary
products used while constructing (e.g.) a stochastic template bank.</p>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#pycbc.tmpltbank.partitioned_bank.PartitionedTmpltbank.add_point_by_chi_coords" title="pycbc.tmpltbank.partitioned_bank.PartitionedTmpltbank.add_point_by_chi_coords"><code class="xref py py-obj docutils literal"><span class="pre">add_point_by_chi_coords</span></code></a>(chi_coords,&nbsp;mass1,&nbsp;...)</td>
<td>Add a point to the partitioned template bank.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pycbc.tmpltbank.partitioned_bank.PartitionedTmpltbank.add_point_by_masses" title="pycbc.tmpltbank.partitioned_bank.PartitionedTmpltbank.add_point_by_masses"><code class="xref py py-obj docutils literal"><span class="pre">add_point_by_masses</span></code></a>(mass1,&nbsp;mass2,&nbsp;spin1z,&nbsp;spin2z)</td>
<td>Add a point to the template bank.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pycbc.tmpltbank.partitioned_bank.PartitionedTmpltbank.add_tmpltbank_from_xml_table" title="pycbc.tmpltbank.partitioned_bank.PartitionedTmpltbank.add_tmpltbank_from_xml_table"><code class="xref py py-obj docutils literal"><span class="pre">add_tmpltbank_from_xml_table</span></code></a>(sngl_table[,&nbsp;...])</td>
<td>This function will take a sngl_inspiral_table of templates and add them into the partitioned template bank object.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pycbc.tmpltbank.partitioned_bank.PartitionedTmpltbank.calc_point_distance" title="pycbc.tmpltbank.partitioned_bank.PartitionedTmpltbank.calc_point_distance"><code class="xref py py-obj docutils literal"><span class="pre">calc_point_distance</span></code></a>(chi_coords)</td>
<td>Calculate distance between point and the bank.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pycbc.tmpltbank.partitioned_bank.PartitionedTmpltbank.calc_point_distance_vary" title="pycbc.tmpltbank.partitioned_bank.PartitionedTmpltbank.calc_point_distance_vary"><code class="xref py py-obj docutils literal"><span class="pre">calc_point_distance_vary</span></code></a>(chi_coords,&nbsp;...)</td>
<td>Calculate distance between point and the bank allowing the metric to vary based on varying upper frequency cutoff.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pycbc.tmpltbank.partitioned_bank.PartitionedTmpltbank.check_bin_existence" title="pycbc.tmpltbank.partitioned_bank.PartitionedTmpltbank.check_bin_existence"><code class="xref py py-obj docutils literal"><span class="pre">check_bin_existence</span></code></a>(chi1_bin,&nbsp;chi2_bin)</td>
<td>Given indices for bins in chi1 and chi2 space check that the bin exists in the object.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pycbc.tmpltbank.partitioned_bank.PartitionedTmpltbank.find_point_bin" title="pycbc.tmpltbank.partitioned_bank.PartitionedTmpltbank.find_point_bin"><code class="xref py py-obj docutils literal"><span class="pre">find_point_bin</span></code></a>(chi_coords)</td>
<td>Given a set of coordinates in the chi parameter space, identify the indices of the chi1 and chi2 bins that the point occurs in.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pycbc.tmpltbank.partitioned_bank.PartitionedTmpltbank.get_freq_map_and_normalizations" title="pycbc.tmpltbank.partitioned_bank.PartitionedTmpltbank.get_freq_map_and_normalizations"><code class="xref py py-obj docutils literal"><span class="pre">get_freq_map_and_normalizations</span></code></a>(...)</td>
<td>If using the &#8211;vary-fupper capability we need to store the mapping between index and frequencies in the list.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pycbc.tmpltbank.partitioned_bank.PartitionedTmpltbank.get_point_from_bins_and_idx" title="pycbc.tmpltbank.partitioned_bank.PartitionedTmpltbank.get_point_from_bins_and_idx"><code class="xref py py-obj docutils literal"><span class="pre">get_point_from_bins_and_idx</span></code></a>(chi1_bin,&nbsp;...)</td>
<td>Given the chi1 bin, chi2 bin and an index, return the masses and spins of the point at that index.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pycbc.tmpltbank.partitioned_bank.PartitionedTmpltbank.output_all_points" title="pycbc.tmpltbank.partitioned_bank.PartitionedTmpltbank.output_all_points"><code class="xref py py-obj docutils literal"><span class="pre">output_all_points</span></code></a>()</td>
<td>Return all point in the bank as lists of m1, m2, spin1z, spin2z.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pycbc.tmpltbank.partitioned_bank.PartitionedTmpltbank.test_point_distance" title="pycbc.tmpltbank.partitioned_bank.PartitionedTmpltbank.test_point_distance"><code class="xref py py-obj docutils literal"><span class="pre">test_point_distance</span></code></a>(chi_coords,&nbsp;...)</td>
<td>Test if the distance between the supplied point and the bank is less than the supplied distance theshold.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pycbc.tmpltbank.partitioned_bank.PartitionedTmpltbank.test_point_distance_vary" title="pycbc.tmpltbank.partitioned_bank.PartitionedTmpltbank.test_point_distance_vary"><code class="xref py py-obj docutils literal"><span class="pre">test_point_distance_vary</span></code></a>(chi_coords,&nbsp;...)</td>
<td>Test if distance between point and the bank is greater than distance threshold while allowing the metric to vary based on varying upper frequency cutoff.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="pycbc.tmpltbank.partitioned_bank.PartitionedTmpltbank.add_point_by_chi_coords">
<code class="descname">add_point_by_chi_coords</code><span class="sig-paren">(</span><em>chi_coords</em>, <em>mass1</em>, <em>mass2</em>, <em>spin1z</em>, <em>spin2z</em>, <em>point_fupper=None</em>, <em>mus=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/partitioned_bank.html#PartitionedTmpltbank.add_point_by_chi_coords"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.tmpltbank.partitioned_bank.PartitionedTmpltbank.add_point_by_chi_coords" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a point to the partitioned template bank. The point_fupper and mus
kwargs must be provided for all templates if the vary fupper capability
is desired. This requires that the chi_coords, as well as mus and
point_fupper if needed, to be precalculated. If you just have the 
masses and don&#8217;t want to worry about translations see
add_point_by_masses, which will do translations and then call this.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>chi_coords</strong> : numpy.array</p>
<blockquote>
<div><p>The position of the point in the chi coordinates.</p>
</div></blockquote>
<p><strong>mass1</strong> : float</p>
<blockquote>
<div><p>The heavier mass of the point to add.</p>
</div></blockquote>
<p><strong>mass2</strong> : float</p>
<blockquote>
<div><p>The lighter mass of the point to add.</p>
</div></blockquote>
<p><strong>spin1z: float</strong></p>
<blockquote>
<div><p>The [aligned] spin on the heavier body.</p>
</div></blockquote>
<p><strong>spin2z: float</strong></p>
<blockquote>
<div><p>The [aligned] spin on the lighter body.
The upper frequency cutoff to use for this point. This value must
be one of the ones already calculated in the metric.</p>
</div></blockquote>
<p><strong>mus</strong> : numpy.array</p>
<blockquote class="last">
<div><p>A 2D array where idx 0 holds the upper frequency cutoff and idx 1
holds the coordinates in the [not covaried] mu parameter space for
each value of the upper frequency cutoff.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycbc.tmpltbank.partitioned_bank.PartitionedTmpltbank.add_point_by_masses">
<code class="descname">add_point_by_masses</code><span class="sig-paren">(</span><em>mass1</em>, <em>mass2</em>, <em>spin1z</em>, <em>spin2z</em>, <em>vary_fupper=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/partitioned_bank.html#PartitionedTmpltbank.add_point_by_masses"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.tmpltbank.partitioned_bank.PartitionedTmpltbank.add_point_by_masses" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a point to the template bank. This differs from add point to bank
as it assumes that the chi coordinates and the products needed to use
vary_fupper have not already been calculated. This function calculates
these products and then calls add_point_by_chi_coords.
This function also
carries out a number of sanity checks (eg. is the point within the
ranges given by mass_range_params) that add_point_by_chi_coords does
not do for speed concerns.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>mass1</strong> : float</p>
<blockquote>
<div><p>Mass of the heavier body</p>
</div></blockquote>
<p><strong>mass2</strong> : float</p>
<blockquote>
<div><p>Mass of the lighter body</p>
</div></blockquote>
<p><strong>spin1z</strong> : float</p>
<blockquote>
<div><p>Spin of the heavier body</p>
</div></blockquote>
<p><strong>spin2z</strong> : float</p>
<blockquote class="last">
<div><p>Spin of the lighter body</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycbc.tmpltbank.partitioned_bank.PartitionedTmpltbank.add_tmpltbank_from_xml_table">
<code class="descname">add_tmpltbank_from_xml_table</code><span class="sig-paren">(</span><em>sngl_table</em>, <em>vary_fupper=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/partitioned_bank.html#PartitionedTmpltbank.add_tmpltbank_from_xml_table"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.tmpltbank.partitioned_bank.PartitionedTmpltbank.add_tmpltbank_from_xml_table" title="Permalink to this definition">¶</a></dt>
<dd><p>This function will take a sngl_inspiral_table of templates and add them
into the partitioned template bank object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>sngl_table</strong> : sngl_inspiral_table</p>
<blockquote>
<div><p>List of sngl_inspiral templates.</p>
</div></blockquote>
<p><strong>vary_fupper</strong> : False</p>
<blockquote class="last">
<div><p>If given also include the additional information needed to compute
distances with a varying upper frequency cutoff.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycbc.tmpltbank.partitioned_bank.PartitionedTmpltbank.calc_point_distance">
<code class="descname">calc_point_distance</code><span class="sig-paren">(</span><em>chi_coords</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/partitioned_bank.html#PartitionedTmpltbank.calc_point_distance"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.tmpltbank.partitioned_bank.PartitionedTmpltbank.calc_point_distance" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate distance between point and the bank. Return the closest
distance.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>chi_coords</strong> : numpy.array</p>
<blockquote>
<div><p>The position of the point in the chi coordinates.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>min_dist</strong> : float</p>
<blockquote>
<div><p>The smallest <strong>SQUARED</strong> metric distance between the test point and
the bank.</p>
</div></blockquote>
<p><strong>indexes</strong> : The chi1_bin, chi2_bin and position within that bin at which</p>
<blockquote class="last">
<div><p>the closest matching point lies.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycbc.tmpltbank.partitioned_bank.PartitionedTmpltbank.calc_point_distance_vary">
<code class="descname">calc_point_distance_vary</code><span class="sig-paren">(</span><em>chi_coords</em>, <em>point_fupper</em>, <em>mus</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/partitioned_bank.html#PartitionedTmpltbank.calc_point_distance_vary"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.tmpltbank.partitioned_bank.PartitionedTmpltbank.calc_point_distance_vary" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate distance between point and the bank allowing the metric to
vary based on varying upper frequency cutoff. Slower than
calc_point_distance, but more reliable when upper frequency cutoff can
change a lot.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>chi_coords</strong> : numpy.array</p>
<blockquote>
<div><p>The position of the point in the chi coordinates.</p>
</div></blockquote>
<p><strong>point_fupper</strong> : float</p>
<blockquote>
<div><p>The upper frequency cutoff to use for this point. This value must
be one of the ones already calculated in the metric.</p>
</div></blockquote>
<p><strong>mus</strong> : numpy.array</p>
<blockquote>
<div><p>A 2D array where idx 0 holds the upper frequency cutoff and idx 1
holds the coordinates in the [not covaried] mu parameter space for
each value of the upper frequency cutoff.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>min_dist</strong> : float</p>
<blockquote>
<div><p>The smallest <strong>SQUARED</strong> metric distance between the test point and
the bank.</p>
</div></blockquote>
<p><strong>indexes</strong> : The chi1_bin, chi2_bin and position within that bin at which</p>
<blockquote class="last">
<div><p>the closest matching point lies.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycbc.tmpltbank.partitioned_bank.PartitionedTmpltbank.check_bin_existence">
<code class="descname">check_bin_existence</code><span class="sig-paren">(</span><em>chi1_bin</em>, <em>chi2_bin</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/partitioned_bank.html#PartitionedTmpltbank.check_bin_existence"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.tmpltbank.partitioned_bank.PartitionedTmpltbank.check_bin_existence" title="Permalink to this definition">¶</a></dt>
<dd><p>Given indices for bins in chi1 and chi2 space check that the bin
exists in the object. If not add it. Also check for the existence of
all bins within +/- self.bin_range_check and add if not present.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>chi1_bin</strong> : int</p>
<blockquote>
<div><p>The index of the chi1_bin to check</p>
</div></blockquote>
<p><strong>chi2_bin</strong> : int</p>
<blockquote class="last">
<div><p>The index of the chi2_bin to check</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycbc.tmpltbank.partitioned_bank.PartitionedTmpltbank.find_point_bin">
<code class="descname">find_point_bin</code><span class="sig-paren">(</span><em>chi_coords</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/partitioned_bank.html#PartitionedTmpltbank.find_point_bin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.tmpltbank.partitioned_bank.PartitionedTmpltbank.find_point_bin" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a set of coordinates in the chi parameter space, identify the
indices of the chi1 and chi2 bins that the point occurs in. Returns
these indices.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>chi_coords</strong> : numpy.array</p>
<blockquote>
<div><p>The position of the point in the chi coordinates.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>chi1_bin</strong> : int</p>
<blockquote>
<div><p>Index of the chi_1 bin.</p>
</div></blockquote>
<p><strong>chi2_bin</strong> : int</p>
<blockquote class="last">
<div><p>Index of the chi_2 bin.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycbc.tmpltbank.partitioned_bank.PartitionedTmpltbank.get_freq_map_and_normalizations">
<code class="descname">get_freq_map_and_normalizations</code><span class="sig-paren">(</span><em>frequency_list</em>, <em>upper_freq_formula</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/partitioned_bank.html#PartitionedTmpltbank.get_freq_map_and_normalizations"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.tmpltbank.partitioned_bank.PartitionedTmpltbank.get_freq_map_and_normalizations" title="Permalink to this definition">¶</a></dt>
<dd><p>If using the &#8211;vary-fupper capability we need to store the mapping
between index and frequencies in the list. We also precalculate the
normalization factor at every frequency, which is used when estimating
overlaps to account for abrupt changes in termination frequency.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>frequency_list</strong> : array of floats</p>
<blockquote>
<div><p>The frequencies for which the metric has been computed and lie
within the parameter space being considered.</p>
</div></blockquote>
<p class="last"><strong>upper_freq_formula</strong> : string</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycbc.tmpltbank.partitioned_bank.PartitionedTmpltbank.get_point_from_bins_and_idx">
<code class="descname">get_point_from_bins_and_idx</code><span class="sig-paren">(</span><em>chi1_bin</em>, <em>chi2_bin</em>, <em>idx</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/partitioned_bank.html#PartitionedTmpltbank.get_point_from_bins_and_idx"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.tmpltbank.partitioned_bank.PartitionedTmpltbank.get_point_from_bins_and_idx" title="Permalink to this definition">¶</a></dt>
<dd><p>Given the chi1 bin, chi2 bin and an index, return the masses and spins
of the point at that index. Will fail if no point exists there.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>chi1_bin</strong> : int</p>
<p><strong>chi2_bin</strong> : int</p>
<p><strong>idx</strong> : int</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>mass1</strong> : float</p>
<p><strong>mass2</strong> : float</p>
<p><strong>spin1z</strong> : float</p>
<p class="last"><strong>spin2z</strong> : float</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycbc.tmpltbank.partitioned_bank.PartitionedTmpltbank.output_all_points">
<code class="descname">output_all_points</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/partitioned_bank.html#PartitionedTmpltbank.output_all_points"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.tmpltbank.partitioned_bank.PartitionedTmpltbank.output_all_points" title="Permalink to this definition">¶</a></dt>
<dd><p>Return all point in the bank as lists of m1, m2, spin1z, spin2z.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>mass1</strong> : list</p>
<blockquote>
<div><p>List of mass1 values.</p>
</div></blockquote>
<p><strong>mass2</strong> : list</p>
<blockquote>
<div><p>List of mass2 values.</p>
</div></blockquote>
<p><strong>spin1z</strong> : list</p>
<blockquote>
<div><p>List of spin1z values.</p>
</div></blockquote>
<p><strong>spin2z</strong> : list</p>
<blockquote class="last">
<div><p>List of spin2z values.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycbc.tmpltbank.partitioned_bank.PartitionedTmpltbank.test_point_distance">
<code class="descname">test_point_distance</code><span class="sig-paren">(</span><em>chi_coords</em>, <em>distance_threshold</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/partitioned_bank.html#PartitionedTmpltbank.test_point_distance"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.tmpltbank.partitioned_bank.PartitionedTmpltbank.test_point_distance" title="Permalink to this definition">¶</a></dt>
<dd><p>Test if the distance between the supplied point and the bank is less
than the supplied distance theshold.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>chi_coords</strong> : numpy.array</p>
<blockquote>
<div><p>The position of the point in the chi coordinates.</p>
</div></blockquote>
<p><strong>distance_threshold</strong> : float</p>
<blockquote>
<div><p>The <a href="#id1"><span class="problematic" id="id2">**</span></a>SQUARE ROOT* of the metric distance to test as threshold.
E.g. if you want to test to a minimal match of 0.97 you would
use 1 - 0.97 = 0.03 for this value.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Boolean</p>
<blockquote class="last">
<div><p>True if point is within the distance threshold. False if not.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycbc.tmpltbank.partitioned_bank.PartitionedTmpltbank.test_point_distance_vary">
<code class="descname">test_point_distance_vary</code><span class="sig-paren">(</span><em>chi_coords</em>, <em>point_fupper</em>, <em>mus</em>, <em>distance_threshold</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/tmpltbank/partitioned_bank.html#PartitionedTmpltbank.test_point_distance_vary"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.tmpltbank.partitioned_bank.PartitionedTmpltbank.test_point_distance_vary" title="Permalink to this definition">¶</a></dt>
<dd><p>Test if distance between point and the bank is greater than distance
threshold while allowing the metric to
vary based on varying upper frequency cutoff. Slower than
test_point_distance, but more reliable when upper frequency cutoff can
change a lot.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>chi_coords</strong> : numpy.array</p>
<blockquote>
<div><p>The position of the point in the chi coordinates.</p>
</div></blockquote>
<p><strong>point_fupper</strong> : float</p>
<blockquote>
<div><p>The upper frequency cutoff to use for this point. This value must
be one of the ones already calculated in the metric.</p>
</div></blockquote>
<p><strong>mus</strong> : numpy.array</p>
<blockquote>
<div><p>A 2D array where idx 0 holds the upper frequency cutoff and idx 1
holds the coordinates in the [not covaried] mu parameter space for
each value of the upper frequency cutoff.</p>
</div></blockquote>
<p><strong>distance_threshold</strong> : float</p>
<blockquote>
<div><p>The <a href="#id3"><span class="problematic" id="id4">**</span></a>SQUARE ROOT* of the metric distance to test as threshold.
E.g. if you want to test to a minimal match of 0.97 you would
use 1 - 0.97 = 0.03 for this value.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Boolean</p>
<blockquote class="last">
<div><p>True if point is within the distance threshold. False if not.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-pycbc.tmpltbank">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-pycbc.tmpltbank" title="Permalink to this headline">¶</a></h2>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="tmpltbank.html" class="btn btn-neutral" title="PyCBC template bank generation documentation (pycbc.tmpltbank)" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014, Alexander Nitz.
      Last updated on Sep 08, 2015.
    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>