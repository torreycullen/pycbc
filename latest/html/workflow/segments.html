

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>The workflow segment generation module &mdash; PyCBC 0.1 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="PyCBC 0.1 documentation" href="../index.html"/>
        <link rel="up" title="Workflow: the inspiral analysis workflow generator (pycbc.workflow)" href="../workflow.html"/>
        <link rel="next" title="The workflow datafind and validation module" href="datafind.html"/>
        <link rel="prev" title="Pycbc’s workflow module configuration file(s) and command line interface" href="initialization.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        

        
          <a href="../index.html" class="icon icon-home"> PyCBC
        

        
        </a>

        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../install.html">Installing PyCBC</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../install.html#setting-up-a-virtual-environment-for-installing-pycbc">Setting up a virtual environment for installing PyCBC</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../install_virtualenv.html">Setting up virtualenv</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../install_virtualenv.html#install-pip">Install pip</a></li>
<li class="toctree-l4"><a class="reference internal" href="../install_virtualenv.html#install-virtualenv">Install virtualenv</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../install.html#installing-lalsuite-into-a-virtual-environment">Installing lalsuite into a virtual environment</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../install_lalsuite.html">Installing lalsuite for PyCBC</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../install_lalsuite.html#obtaining-the-source-code-and-checking-out-a-version">Obtaining the source code and checking out a version</a></li>
<li class="toctree-l4"><a class="reference internal" href="../install_lalsuite.html#building-and-installing-into-your-virtual-environment">Building and installing into your virtual environment</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../install.html#installing-pycbc-in-a-virtual-environment">Installing PyCBC in a virtual environment</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../install.html#installing-a-released-version-of-pycbc">Installing a released version of PyCBC</a></li>
<li class="toctree-l3"><a class="reference internal" href="../install.html#installing-source-from-github-for-development">Installing source from GitHub for development</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../install.html#building-and-installing-documentation">Building and Installing Documentation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../build_gh_pages.html">Building Documentation for Git Hub Pages</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../build_gh_pages.html#creating-a-git-hub-project-page">Creating a Git Hub project page</a></li>
<li class="toctree-l4"><a class="reference internal" href="../build_gh_pages.html#building-and-pushing-the-documentation">Building and pushing the documentation</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../install.html#modifying-pycbc-glue-and-pycbc-pylal">Modifying pycbc-glue and pycbc-pylal</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install.html#use-of-intel-mkl-optimized-fft-libraries">Use of Intel MKL Optimized FFT libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install.html#graphics-processing-unit-support-with-cuda">Graphics Processing Unit support with CUDA</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../install_cuda.html">Instructions to add CUDA support (optional)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../install_cuda.html#installing-the-cuda-dependencies">Installing the CUDA dependencies</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../executables.html">pyCBC executables</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../executables.html#pycbc-inspiral">pycbc_inspiral</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../bin/pycbc_inspiral.html">pycbc_inspiral</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../bin/pycbc_inspiral.html#overview">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="../bin/pycbc_inspiral.html#help-message">Help message</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../executables.html#pycbc-geom-nonspinbank">pycbc_geom_nonspinbank</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../bin/pycbc_geom_nonspinbank.html">pycbc_geom_nonspinbank</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../executables.html#pycbc-aligned-stoch-bank">pycbc_aligned_stoch_bank</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../bin/pycbc_aligned_stoch_bank.html">pycbc_aligned_stoch_bank</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../executables.html#pycbc-geom-aligned-bank">pycbc_geom_aligned_bank</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../bin/pycbc_geom_aligned_bank.html">pycbc_geom_aligned_bank</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../executables.html#pycbc-geom-aligned-2dstack">pycbc_geom_aligned_2dstack</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../bin/pycbc_geom_aligned_2dstack.html">pycbc_geom_aligned_2dstack</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../executables.html#pycbc-aligned-bank-cat">pycbc_aligned_bank_cat</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../bin/pycbc_aligned_bank_cat.html">pycbc_aligned_bank_cat</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../workflow.html">Workflow: the inspiral analysis workflow generator (<code class="docutils literal"><span class="pre">pycbc.workflow</span></code>)</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../workflow.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../workflow.html#workflow-to-do-list">Workflow to do list</a></li>
<li class="toctree-l2"><a class="reference internal" href="../workflow.html#examples">Examples</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../workflow.html#pycbc-make-coinc-workflow"><code class="docutils literal"><span class="pre">pycbc_make_coinc_workflow</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="pycbc_make_coinc_workflow.html"><code class="docutils literal"><span class="pre">pycbc_make_coinc_workflow</span></code>: A CBC analysis workflow generator</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../workflow.html#pycbc-make-sngl-workflow"><code class="docutils literal"><span class="pre">pycbc_make_sngl_workflow</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="pycbc_make_sngl_workflow.html"><code class="docutils literal"><span class="pre">pycbc_make_sngl_workflow</span></code>: A single-ifo detchar tool</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../workflow.html#id1"><code class="docutils literal"><span class="pre">pycbc_make_sngl_workflow</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="pycbc_make_sngl_workflow.html"><code class="docutils literal"><span class="pre">pycbc_make_sngl_workflow</span></code>: A single-ifo detchar tool</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../workflow.html#data-checker"><cite>data_checker</cite></a></li>
<li class="toctree-l3"><a class="reference internal" href="../workflow.html#pygrb"><code class="docutils literal"><span class="pre">pygrb</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="pygrb.html">PyGRB: A GRB triggered CBC analysis workflow generator</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 current"><a class="reference internal" href="../workflow.html#workflow-module-documentation">Workflow module documentation</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../workflow.html#initialization">Initialization</a><ul>
<li class="toctree-l4"><a class="reference internal" href="initialization.html">Pycbc&#8217;s workflow module configuration file(s) and command line interface</a></li>
</ul>
</li>
<li class="toctree-l3 current"><a class="reference internal" href="../workflow.html#generating-segments">Generating segments</a><ul class="current">
<li class="toctree-l4 current"><a class="current reference internal" href="">The workflow segment generation module</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../workflow.html#obtaining-data">Obtaining data</a><ul>
<li class="toctree-l4"><a class="reference internal" href="datafind.html">The workflow datafind and validation module</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../workflow.html#injection-generation">Injection generation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="injections.html">The workflow injection generation module</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../workflow.html#time-slide-generation">Time-slide generation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="time_slides.html">The workflow time-slide generation module</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../workflow.html#template-bank">Template bank</a><ul>
<li class="toctree-l4"><a class="reference internal" href="template_bank.html">The workflow template bank generation module</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../workflow.html#split-table">Split table</a><ul>
<li class="toctree-l4"><a class="reference internal" href="splittable.html">The workflow table splitting module</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../workflow.html#matched-filtering">Matched-filtering</a><ul>
<li class="toctree-l4"><a class="reference internal" href="matched_filter.html">The workflow matched-filter module</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../workflow.html#coincidence">Coincidence</a><ul>
<li class="toctree-l4"><a class="reference internal" href="coincidence.html">The workflow coincidence module</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../workflow.html#post-processing-preparation">Post processing preparation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="postprocprep.html">The workflow postprocessing preparation module</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../workflow.html#post-processing">Post-processing</a><ul>
<li class="toctree-l4"><a class="reference internal" href="postproc.html">The workflow postprocessing module</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../workflow.html#method-documentation">Method documentation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../pycbc.workflow.html">pycbc.workflow package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.workflow.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.workflow.html#module-pycbc.workflow.analysislogging">pycbc.workflow.analysislogging module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.workflow.html#module-pycbc.workflow.coincidence">pycbc.workflow.coincidence module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.workflow.html#module-pycbc.workflow.configparser_test">pycbc.workflow.configparser_test module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.workflow.html#module-pycbc.workflow.configuration">pycbc.workflow.configuration module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.workflow.html#module-pycbc.workflow.core">pycbc.workflow.core module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.workflow.html#module-pycbc.workflow.datafind">pycbc.workflow.datafind module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.workflow.html#module-pycbc.workflow.grb_utils">pycbc.workflow.grb_utils module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.workflow.html#module-pycbc.workflow.injection">pycbc.workflow.injection module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.workflow.html#module-pycbc.workflow.jobsetup">pycbc.workflow.jobsetup module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.workflow.html#module-pycbc.workflow.legacy_ihope">pycbc.workflow.legacy_ihope module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.workflow.html#module-pycbc.workflow.matched_filter">pycbc.workflow.matched_filter module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.workflow.html#module-pycbc.workflow.minifollowups">pycbc.workflow.minifollowups module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.workflow.html#module-pycbc.workflow.pegasus_workflow">pycbc.workflow.pegasus_workflow module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.workflow.html#module-pycbc.workflow.plotting">pycbc.workflow.plotting module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.workflow.html#module-pycbc.workflow.postprocessing">pycbc.workflow.postprocessing module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.workflow.html#module-pycbc.workflow.postprocessing_cohptf">pycbc.workflow.postprocessing_cohptf module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.workflow.html#module-pycbc.workflow.postprocessing_prep">pycbc.workflow.postprocessing_prep module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.workflow.html#module-pycbc.workflow.psd">pycbc.workflow.psd module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.workflow.html#module-pycbc.workflow.segment">pycbc.workflow.segment module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.workflow.html#module-pycbc.workflow.splittable">pycbc.workflow.splittable module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.workflow.html#module-pycbc.workflow.summaryplots">pycbc.workflow.summaryplots module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.workflow.html#module-pycbc.workflow.timeslides">pycbc.workflow.timeslides module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.workflow.html#module-pycbc.workflow.tmpltbank">pycbc.workflow.tmpltbank module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.workflow.html#module-pycbc.workflow">Module contents</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../tmpltbank.html">PyCBC template bank generation documentation (<code class="docutils literal"><span class="pre">pycbc.tmpltbank</span></code>)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../tmpltbank.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tmpltbank.html#non-spin-bank-placement-pycbc-geom-nonspinbank">Non spin bank placement: pycbc_geom_nonspinbank</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../tmpltbank.html#overview">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tmpltbank.html#background">Background</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tmpltbank.html#some-examples">Some examples</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tmpltbank.html#command-line-options">Command line options</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../tmpltbank.html#aligned-spin-geometric-placement-pycbc-geom-aligned-bank">Aligned-spin geometric placement: pycbc_geom_aligned_bank</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../tmpltbank.html#id1">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tmpltbank.html#id2">Background</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tmpltbank.html#id3">Some examples</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tmpltbank.html#id4">Command line options</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../tmpltbank.html#aligned-spin-stochastic-placement">Aligned-spin stochastic placement</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../tmpltbank.html#id5">Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tmpltbank.html#id6">Background</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tmpltbank.html#ian-s-recommendation-which-stochastic-code-should-i-use">Ian&#8217;s recommendation: Which stochastic code should I use?</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../tmpltbank.html#i-want-to-use-the-f2-or-r2f4-metric">I want to use the F2 or R2F4 metric</a></li>
<li class="toctree-l4"><a class="reference internal" href="../tmpltbank.html#i-want-to-use-another-metric-ie-an-imr-metric">I want to use another metric, ie. an IMR metric</a></li>
<li class="toctree-l4"><a class="reference internal" href="../tmpltbank.html#i-want-to-use-direct-match">I want to use direct match</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../tmpltbank.html#id7">Some examples</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tmpltbank.html#command-line-options-pycbc-aligned-stoch-bank">Command line options: pycbc_aligned_stoch_bank</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tmpltbank.html#command-line-options-lalapps-cbc-sbank">Command line options: lalapps_cbc_sbank</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tmpltbank.html#command-line-options-lalapps-cbc-sbank-pipe">Command line options: lalapps_cbc_sbank_pipe</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../tmpltbank.html#hybrid-approaches-the-best-of-both-worlds">Hybrid approaches: the best of both worlds</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tmpltbank.html#the-module-s-source-code">The module&#8217;s source code</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../pycbc.tmpltbank.html">pycbc.tmpltbank package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.tmpltbank.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.tmpltbank.html#module-pycbc.tmpltbank.bank_output_utils">pycbc.tmpltbank.bank_output_utils module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.tmpltbank.html#module-pycbc.tmpltbank.brute_force_methods">pycbc.tmpltbank.brute_force_methods module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.tmpltbank.html#module-pycbc.tmpltbank.calc_moments">pycbc.tmpltbank.calc_moments module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.tmpltbank.html#module-pycbc.tmpltbank.coord_utils">pycbc.tmpltbank.coord_utils module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.tmpltbank.html#module-pycbc.tmpltbank.em_progenitors">pycbc.tmpltbank.em_progenitors module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.tmpltbank.html#module-pycbc.tmpltbank.lambda_mapping">pycbc.tmpltbank.lambda_mapping module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.tmpltbank.html#module-pycbc.tmpltbank.lattice_utils">pycbc.tmpltbank.lattice_utils module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.tmpltbank.html#module-pycbc.tmpltbank.option_utils">pycbc.tmpltbank.option_utils module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.tmpltbank.html#module-pycbc.tmpltbank.partitioned_bank">pycbc.tmpltbank.partitioned_bank module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.tmpltbank.html#module-pycbc.tmpltbank">Module contents</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../pycbc.psd.html">pycbc.psd package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.psd.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.psd.html#module-pycbc.psd.analytical">pycbc.psd.analytical module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.psd.html#module-pycbc.psd.estimate">pycbc.psd.estimate module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.psd.html#module-pycbc.psd.read">pycbc.psd.read module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.psd.html#module-pycbc.psd">Module contents</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../pycbc.noise.html">pycbc.noise package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.noise.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.noise.html#module-pycbc.noise.gaussian">pycbc.noise.gaussian module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.noise.html#module-pycbc.noise">Module contents</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../frame.html">Reading Gravitational-wave Frames (<code class="docutils literal"><span class="pre">pycbc.frame</span></code>)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../frame.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../frame.html#module-pycbc.frame">Method documentation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../banksim.html">Dag Generator for Doing Banksims</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../banksim.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../banksim.html#how-to-generate-a-workflow-to-do-a-large-banksim">How to generate a workflow to do a large banksim</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../banksim.html#creating-an-ini-file">Creating an INI file</a></li>
<li class="toctree-l3"><a class="reference internal" href="../banksim.html#generating-the-workflow">Generating the workflow</a></li>
<li class="toctree-l3"><a class="reference internal" href="../banksim.html#understanding-the-results">Understanding the results</a></li>
<li class="toctree-l3"><a class="reference internal" href="../banksim.html#workflow-considerations">Workflow considerations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../banksim.html#example-config-files">Example config files</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../faithsim.html">Dag Generator for Doing Faithfulness Comparisons</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../faithsim.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../faithsim.html#how-to-generate-a-workflow">How to generate a workflow</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../faithsim.html#creating-a-configuration-ini-file">Creating a configuration (.ini) file</a></li>
<li class="toctree-l3"><a class="reference internal" href="../faithsim.html#generating-the-workflow">Generating the workflow</a></li>
<li class="toctree-l3"><a class="reference internal" href="../faithsim.html#understanding-the-results">Understanding the results</a></li>
<li class="toctree-l3"><a class="reference internal" href="../faithsim.html#example-config-files">Example config files</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="pycbc_bns_hdf_config_walkthrough.html">Walkthrough of running the PyCBC BNS focused pipeline on SUGAR</a><ul>
<li class="toctree-l2"><a class="reference internal" href="pycbc_bns_hdf_config_walkthrough.html#run-sh">run.sh</a></li>
<li class="toctree-l2"><a class="reference internal" href="pycbc_bns_hdf_config_walkthrough.html#config-file">config file</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="pycbc_make_psd_estimation_workflow.html">Estimating average noise PSDs over long stretches of data</a><ul>
<li class="toctree-l2"><a class="reference internal" href="pycbc_make_psd_estimation_workflow.html#configuration-file">Configuration file</a></li>
<li class="toctree-l2"><a class="reference internal" href="pycbc_make_psd_estimation_workflow.html#generating-and-running-the-workflow">Generating and running the workflow</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="configuration_files.html">Configuration File Sets</a><ul>
<li class="toctree-l2"><a class="reference internal" href="configuration_files.html#the-example-set">The example set</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuration_files.html#latest-review-configuration-file">latest review configuration file</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuration_files.html#daily-configuration-files">daily configuration files</a><ul>
<li class="toctree-l3"><a class="reference internal" href="configuration_files.html#daily-example-daily-lalapps-ini"><code class="docutils literal"><span class="pre">daily/example_daily_lalapps.ini</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="configuration_files.html#daily-example-daily-pycbc-zpk-ini"><code class="docutils literal"><span class="pre">daily/example_daily_pycbc_zpk.ini</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="configuration_files.html#sngl-configuration-files">sngl configuration files</a><ul>
<li class="toctree-l3"><a class="reference internal" href="configuration_files.html#sngl-example-sngl-ini"><code class="docutils literal"><span class="pre">sngl/example_sngl.ini</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="hdf_coincidence.html">HDF5 Based Coincidence Code</a><ul>
<li class="toctree-l2"><a class="reference internal" href="hdf_coincidence.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="hdf_coincidence.html#limitations">Limitations</a></li>
<li class="toctree-l2"><a class="reference internal" href="hdf_coincidence.html#configuration-file">Configuration File</a><ul>
<li class="toctree-l3"><a class="reference internal" href="hdf_coincidence.html#workflow-configuration">Workflow Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="hdf_coincidence.html#executable-configuration">Executable Configuration</a><ul>
<li class="toctree-l4"><a class="reference internal" href="hdf_coincidence.html#options-to-the-coincidence-background-executable">Options to the coincidence/background executable</a></li>
<li class="toctree-l4"><a class="reference internal" href="hdf_coincidence.html#options-to-the-coincidence-clustering-statistic-asignment-executable">Options to the coincidence clustering + statistic asignment executable</a></li>
<li class="toctree-l4"><a class="reference internal" href="hdf_coincidence.html#options-to-the-injection-finding-executable">Options to the injection finding executable</a></li>
<li class="toctree-l4"><a class="reference internal" href="hdf_coincidence.html#options-for-sensitivity-plotting">Options for sensitivity plotting</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="hdf_coincidence.html#workflow-generation-an-planning">Workflow Generation an Planning</a></li>
<li class="toctree-l2"><a class="reference internal" href="hdf_coincidence.html#reusing-data-from-workflow-that-uses-some-other-post-processing">Reusing data from workflow that uses some other post-processing</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../uberbank_verify.html">Verifying the construction of banks with pycbc_banksim</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../uberbank_verify.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../uberbank_verify.html#procedure">Procedure</a></li>
<li class="toctree-l2"><a class="reference internal" href="../uberbank_verify.html#evaluation">Evaluation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../uberbank_verify.html#known-issues">Known issues</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../hwinj.html">Hardware injection waveform generation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../hwinj.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hwinj.html#generate-waveform-from-command-line-pycbc-generate-hwinj">Generate waveform from command line (<code class="docutils literal"><span class="pre">pycbc_generate_hwinj</span></code>)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../hwinj.html#select-a-time-for-the-injection">Select a time for the injection</a></li>
<li class="toctree-l3"><a class="reference internal" href="../hwinj.html#select-data-for-psd-estimation">Select data for PSD estimation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../hwinj.html#run-pycbc-generate-hwinj">Run <code class="docutils literal"><span class="pre">pycbc_generate_hwinj</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../hwinj.html#generate-waveform-from-lalapps-inspinj-output-pycbc-generate-hwinj-from-xml">Generate waveform from <code class="docutils literal"><span class="pre">lalapps_inspinj</span></code> output (<code class="docutils literal"><span class="pre">pycbc_generate_hwinj_from_xml</span></code>)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../hwinj.html#run-lalapps-inspinj">Run <code class="docutils literal"><span class="pre">lalapps_inspinj</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../hwinj.html#run-pycbc-generate-hwinj-from-xml">Run <code class="docutils literal"><span class="pre">pycbc_generate_hwinj_from_xml</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../hwinj.html#checks-for-the-hardware-injection-output">Checks for the hardware injection output</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../hwinj.html#plot-ascii-waveform-files-with-pycbc-plot-hwinj">Plot ASCII waveform files with <code class="docutils literal"><span class="pre">pycbc_plot_hwinj</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../hwinj.html#recover-software-injection-with-pycbc-inspiral">Recover software injection with <code class="docutils literal"><span class="pre">pycbc_inspiral</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../hwinj.html#recover-ascii-file-injection-with-pycbc-inspiral">Recover ASCII file injection with <code class="docutils literal"><span class="pre">pycbc_inspiral</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../hwinj.html#how-to-query-the-segment-database">How to query the segment database</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hwinj.html#how-to-query-the-ldr-server">How to query the LDR server</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../waveform.html">Waveforms</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../waveform.html#what-waveforms-can-i-generate">What waveforms can I generate?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../waveform.html#plotting-time-domain-waveforms">Plotting Time Domain Waveforms</a></li>
<li class="toctree-l2"><a class="reference internal" href="../waveform.html#calculating-the-match-between-waveforms">Calculating the match between waveforms</a></li>
<li class="toctree-l2"><a class="reference internal" href="../waveform.html#plotting-a-td-and-fd-waveform-together-in-the-td">Plotting a TD and FD waveform together in the TD</a></li>
<li class="toctree-l2"><a class="reference internal" href="../waveform.html#plotting-gw-phase-and-amplitude-of-td-waveform">Plotting GW phase and amplitude of TD waveform</a></li>
<li class="toctree-l2"><a class="reference internal" href="../waveform.html#plotting-frequency-evolution-of-td-waveform">Plotting frequency evolution of TD waveform</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../documentation.html">Documenting PyCBC code</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../documentation.html#sphinx">Sphinx</a></li>
<li class="toctree-l2"><a class="reference internal" href="../documentation.html#documenting-the-pycbc-package">Documenting the PyCBC package</a></li>
<li class="toctree-l2"><a class="reference internal" href="../documentation.html#documenting-pycbc-modules">Documenting PyCBC modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="../documentation.html#documenting-pycbc-scripts">Documenting PyCBC scripts</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../release.html">Creating Releases of PyCBC</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../release.html#creating-the-release-on-github">Creating the release on GitHub</a></li>
<li class="toctree-l2"><a class="reference internal" href="../release.html#uploading-to-the-python-package-index">Uploading to the Python Package Index</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../formats/hdf_format.html">HDF files within the PyCBC workflow</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../formats/hdf_format.html#single-inspiral-triggers">single inspiral triggers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../formats/hdf_format.html#executables">Executables</a></li>
<li class="toctree-l3"><a class="reference internal" href="../formats/hdf_format.html#specification">Specification</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../formats/hdf_format.html#combined-single-inspiral-triggers">combined single inspiral triggers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../formats/hdf_format.html#id1">Executables</a></li>
<li class="toctree-l3"><a class="reference internal" href="../formats/hdf_format.html#id2">Specification</a></li>
<li class="toctree-l3"><a class="reference internal" href="../formats/hdf_format.html#example-uses">Example uses</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../modules.html">pycbc</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../pycbc.html">pycbc package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../pycbc.html#subpackages">Subpackages</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.events.html">pycbc.events package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.fft.html">pycbc.fft package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.filter.html">pycbc.filter package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.io.html">pycbc.io package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.noise.html">pycbc.noise package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.psd.html">pycbc.psd package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.results.html">pycbc.results package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.tmpltbank.html">pycbc.tmpltbank package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.types.html">pycbc.types package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.vetoes.html">pycbc.vetoes package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.waveform.html">pycbc.waveform package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.workflow.html">pycbc.workflow package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../pycbc.html#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pycbc.html#module-pycbc.detector">pycbc.detector module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pycbc.html#module-pycbc.frame">pycbc.frame module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pycbc.html#module-pycbc.future">pycbc.future module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pycbc.html#module-pycbc.inject">pycbc.inject module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pycbc.html#module-pycbc.libutils">pycbc.libutils module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pycbc.html#module-pycbc.opt">pycbc.opt module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pycbc.html#module-pycbc.pnutils">pycbc.pnutils module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pycbc.html#module-pycbc.scheme">pycbc.scheme module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pycbc.html#module-pycbc.sensitivity">pycbc.sensitivity module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pycbc.html#module-pycbc.strain">pycbc.strain module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pycbc.html#module-pycbc.version">pycbc.version module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pycbc.html#module-pycbc.weave">pycbc.weave module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pycbc.html#module-pycbc">Module contents</a></li>
</ul>
</li>
</ul>
</li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">PyCBC</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../workflow.html">Workflow: the inspiral analysis workflow generator (<code class="docutils literal"><span class="pre">pycbc.workflow</span></code>)</a> &raquo;</li>
      
    <li>The workflow segment generation module</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/workflow/segments.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="the-workflow-segment-generation-module">
<span id="workflowsegmentsmod"></span><h1>The workflow segment generation module<a class="headerlink" href="#the-workflow-segment-generation-module" title="Permalink to this headline">¶</a></h1>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>This page is designed to give you an introduction to the capabilities of the
pycbc workflow segment generation module and how to use this as part of a pycbc
workflow.</p>
<p>This module is designed to be able to support multiple ways of obtaining these
segments (different codes/interfaces whatever), although new code will always
be needed to support some code/interface that is not currently supported.</p>
<p>This module will generate science segments and any appropriate veto segments
and combine these together to identify a set of segments to be used in the
analysis. The various files will also be returned for later use in the analysis
(ie. for vetoing triggers with data-quality vetoes). The module also supports
generating cumulative and multiple-detector veto files for easy use with
ligolw_thinca and pipedown. If other workflows require similar combined files
these can be added on request.</p>
</div>
<div class="section" id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<p>Using this module requires a number of things</p>
<ul class="simple">
<li>A configuration file (or files) containing the information needed to tell this module how to generate the segments (described below).</li>
<li>An initialized instance of the pycbc Workflow class, containing the ConfigParser.</li>
</ul>
<p>The module is then called according to</p>
<dl class="function">
<dt>
<code class="descclassname">pycbc.workflow.</code><code class="descname">setup_segment_generation</code><span class="sig-paren">(</span><em>workflow</em>, <em>out_dir</em>, <em>tag=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pycbc/workflow/segment.html#setup_segment_generation"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>This function is the gateway for setting up the segment generation steps in a
workflow. It is designed to be able to support multiple ways of obtaining
these segments and to combine/edit such files as necessary for analysis.
The current modules have the capability to generate files at runtime or to
generate files that are not needed for workflow generation within the workflow.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>workflow</strong> : pycbc.workflow.core.Workflow</p>
<blockquote>
<div><p>The workflow instance that the coincidence jobs will be added to.
This instance also contains the ifos for which to attempt to obtain
segments for this analysis and the start and end times to search for
segments over.</p>
</div></blockquote>
<p><strong>out_dir</strong> : path</p>
<blockquote>
<div><p>The directory in which output will be stored.</p>
</div></blockquote>
<p><strong>tag</strong> : string, optional (default=None)</p>
<blockquote>
<div><p>Use this to specify a tag. This can be used if this module is being
called more than once to give call specific configuration (by setting
options in [workflow-datafind-${TAG}] rather than [workflow-datafind]). This
is also used to tag the Files returned by the class to uniqueify
the Files and uniqueify the actual filename.
FIXME: Filenames may not be unique with current codes!</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>segsToAnalyse</strong> : dictionay of ifo-keyed glue.segment.segmentlist instances</p>
<blockquote>
<div><p>This will contain the times that your code should analyse. By default this
is science time - CAT_1 vetoes. (This default could be changed if desired)</p>
</div></blockquote>
<p><strong>segFilesList</strong> : pycbc.workflow.core.FileList of SegFile instances</p>
<blockquote class="last">
<div><p>These are representations of the various segment files that were constructed
at this stage of the workflow and may be needed at later stages of the
analysis (e.g. for performing DQ vetoes). If the file was generated at
run-time the segment lists contained within these files will be an attribute
of the instance. (If it will be generated in the workflow it will not be
because I am not psychic).</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<div class="section" id="configuration-file-setup">
<h3>Configuration file setup<a class="headerlink" href="#configuration-file-setup" title="Permalink to this headline">¶</a></h3>
<p>Here we describe the options given in the configuration file used in the
workflow that will be needed in this section</p>
<div class="section" id="workflow-segments-section">
<h4>[workflow-segments] section<a class="headerlink" href="#workflow-segments-section" title="Permalink to this headline">¶</a></h4>
<p>The configuration file must have a [workflow-segments] section, which is used to
tell the workflow how to construct the segments. The first option to choose
and provide is</p>
<p>segments-method = VALUE</p>
<p>The choices here and their description are as described below</p>
<ul class="simple">
<li>AT_RUNTIME - Use the setup_segment_gen_mixed to generate segments and generate all segment files at runtime</li>
<li>CAT2_PLUS_DAG - Use the setup_segment_gen_mixed to generate segments, generate all veto files up to CATEGORY_1 at runtime, and add jobs to produce the remaining files to the workflow.</li>
<li>CAT3_PLUS_DAG - Use the setup_segment_gen_mixed to generate segments, generate all veto files up to CATEGORY_2 at runtime, and add jobs to produce the remaining files to the workflow.</li>
<li>CAT4_PLUS_DAG - Use the setup_segment_gen_mixed to generate segments, generate all veto files up to CATEGORY_3 at runtime, and add jobs to produce the remaining files to the workflow.</li>
</ul>
<p>Each of these options will describe which subfunction to use. These are described here</p>
<dl class="function">
<dt>
<code class="descclassname">pycbc.workflow.</code><code class="descname">setup_segment_gen_mixed</code><span class="sig-paren">(</span><em>workflow</em>, <em>veto_categories</em>, <em>out_dir</em>, <em>maxVetoAtRunTime</em>, <em>tag=None</em>, <em>generate_coincident_segs=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pycbc/workflow/segment.html#setup_segment_gen_mixed"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>This function will generate veto files for each ifo and for each veto
category.
It can generate these vetoes at run-time or in the workflow (or do some at
run-time and some in the workflow). However, the CAT_1 vetoes and science
time must be generated at run time as they are needed to plan the workflow.
CATs 2 and higher <em>may</em> be needed for other workflow construction.
It can also combine these files to create a set of cumulative,
multi-detector veto files, which can be used in ligolw_thinca and in
pipedown. Again these can be created at run time or within the workflow.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>workflow</strong> : pycbc.workflow.core.Workflow</p>
<blockquote>
<div><p>The Workflow instance that the coincidence jobs will be added to.
This instance also contains the ifos for which to attempt to obtain
segments for this analysis and the start and end times to search for
segments over.</p>
</div></blockquote>
<p><strong>veto_categories</strong> : list of ints</p>
<blockquote>
<div><p>List of veto categories to generate segments for. If this stops being
integers, this can be changed here.</p>
</div></blockquote>
<p><strong>out_dir</strong> : path</p>
<blockquote>
<div><p>The directory in which output will be stored.</p>
</div></blockquote>
<p><strong>maxVetoAtRunTime</strong> : int</p>
<blockquote>
<div><p>Generate veto files at run time up to this category. Veto categories
beyond this in veto_categories will be generated in the workflow.
If we move to a model where veto
categories are not explicitly cumulative, this will be rethought.</p>
</div></blockquote>
<p><strong>tag</strong> : string, optional (default=None)</p>
<blockquote>
<div><p>Use this to specify a tag. This can be used if this module is being
called more than once to give call specific configuration (by setting
options in [workflow-datafind-${TAG}] rather than [workflow-datafind]). This
is also used to tag the Files returned by the class to uniqueify
the Files and uniqueify the actual filename.
FIXME: Filenames may not be unique with current codes!</p>
</div></blockquote>
<p><strong>generate_coincident_segs</strong> : boolean, optional (default = True)</p>
<blockquote>
<div><p>If given this module will generate a set of coincident, cumulative veto
files that can be used with ligolw_thinca and pipedown.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>segFilesList</strong> : dictionary of pycbc.workflow.core.SegFile instances</p>
<blockquote class="last">
<div><p>These are representations of the various segment files that were
constructed
at this stage of the workflow and may be needed at later stages of the
analysis (e.g. for performing DQ vetoes). If the file was generated at
run-time the segment lists contained within these files will be an
attribute
of the instance. (If it will be generated in the workflow it will 
not be because I am not psychic).</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<p>When using the setup_segment_gen_mixed function the following additional options apply</p>
<ul class="simple">
<li>segments-X1-science-name = NAME - REQUIRED. Where X1 is replaced by the ifo name for each ifo. The NAME should be the full channel name corresponding to analysable times for e.g. H1:DMT-SCIENCE:4</li>
<li>segments-database-url = URL - REQUIRED. The URL to the segment databse that will be used to obtain this information</li>
<li>segments-veto-definer-url = PATH - REQUIRED. The location to the veto-definer file that is used to identify which channels are CAT_1, which are CAT_2 etc.</li>
<li>segments-veto-categories = COMMA-SEPARATED LIST OF INTS - OPTIONAL. Generate veto files for veto categories given by the ints in the list. These ranged from 1 through 4 or 5 for S5/S6 veto definers. Standard results have used categories 2,3,4.</li>
<li>segments-minimum-segment-length = INT - OPTIONAL. If given, any segments of analysable data shorter than INT will not be included in the list of analysable times returned by this module.</li>
<li>segments-generate-coincident-segments - OPTIONAL. Option takes no value. If given the module will generate cumulative, multiple detector coincidence files for easy use in ligolw_thinca and pipedown.</li>
<li>segments-generate-segment-files - OPTIONAL (DEFAULT=&#8217;always&#8217;). This option can be used if the user wants to re-use segment files generated previously. It is not recommended to use this option unless necessary. Options are<ul>
<li>generate_segment_files=&#8217;always&#8217; : DEFAULT: All files will be generated even if they already exist.</li>
<li>generate_segment_files=&#8217;if_not_present&#8217;: Files will be generated if they do not already exist. Pre-existing files will be read in and used.</li>
<li>generate_segment_files=&#8217;error_on_duplicate&#8217;: Files will be generated if they do not already exist. Pre-existing files will raise a failure.</li>
<li>generate_segment_files=&#8217;never&#8217;: Pre-existing files will be read in and used. If no file exists the code will fail.</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="executables">
<h4>[executables]<a class="headerlink" href="#executables" title="Permalink to this headline">¶</a></h4>
<p>The following executable paths must be provided in the [executables] section
when running this module:</p>
<div class="highlight-python"><div class="highlight"><pre>* segment_query = /home/ahnitz/local/lalsuite/bin/ligolw_segment_query
* segments_from_cats = /home/ahnitz/local/lalsuite/bin/ligolw_segments_from_cats
* llwadd = /home/ahnitz/local/lalsuite/bin/ligolw_add
* ligolw_combine_segments = /home/ahnitz/local/lalsuite/bin/ligolw_combine_segments
</pre></div>
</div>
<p>segment_query is used to obtain the science segments. segments_from_cats is used to obtain the files containing the CAT_1,2,3,4,5 segments. ligolw_combine_segments produces cumulative veto-files. llwadd is used to add the cumulative veto-files from different ifos together when producing cumulative, multiple-detector veto lists.</p>
</div>
<div class="section" id="other-sections">
<h4>Other sections<a class="headerlink" href="#other-sections" title="Permalink to this headline">¶</a></h4>
<p>For other sub-modules in the pycbc workflow module we would see sections like [segment_query], [segments_from_cats] etc. which would provide the options provided to those jobs. In this case the codes require rather specific input so for now these are hardcoded in this module and any segment like [segment_query] would either be ignored or
could break the code.</p>
<p>If there is a reason to do so we could add these sections in.</p>
</div>
</div>
</div>
<div class="section" id="pycbc-workflow-segment-module">
<h2><a class="reference internal" href="../pycbc.workflow.html#module-pycbc.workflow.segment" title="pycbc.workflow.segment"><code class="xref py py-mod docutils literal"><span class="pre">pycbc.workflow.segment</span></code></a> Module<a class="headerlink" href="#pycbc-workflow-segment-module" title="Permalink to this headline">¶</a></h2>
<p>This is complete documentation of this module&#8217;s code</p>
<p>This module is responsible for setting up the segment generation stage of
workflows. For details about this module and its capabilities see here:
<a class="reference external" href="https://ldas-jobs.ligo.caltech.edu/~cbc/docs/pycbc/ahope/segments.html">https://ldas-jobs.ligo.caltech.edu/~cbc/docs/pycbc/ahope/segments.html</a></p>
<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">pycbc.workflow.segment.</code><code class="descname">ContentHandler</code><span class="sig-paren">(</span><em>document</em>, <em>start_handlers={}</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pycbc/workflow/segment.html#ContentHandler"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">glue.ligolw.ligolw.LIGOLWContentHandler</span></code></p>
<dl class="method">
<dt>
<code class="descname">startColumn</code><span class="sig-paren">(</span><em>parent</em>, <em>attrs</em><span class="sig-paren">)</span></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<code class="descname">startStream</code><span class="sig-paren">(</span><em>parent</em>, <em>attrs</em>, <em>__orig_startStream=&lt;unbound method ContentHandler.startStream&gt;</em><span class="sig-paren">)</span></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<code class="descname">startTable</code><span class="sig-paren">(</span><em>parent</em>, <em>attrs</em>, <em>__orig_startTable=&lt;unbound method ContentHandler.startTable&gt;</em><span class="sig-paren">)</span></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt>
<code class="descclassname">pycbc.workflow.segment.</code><code class="descname">add_cumulative_files</code><span class="sig-paren">(</span><em>workflow</em>, <em>output_file</em>, <em>input_files</em>, <em>out_dir</em>, <em>execute_now=False</em>, <em>tags=[]</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pycbc/workflow/segment.html#add_cumulative_files"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Function to combine a set of segment files into a single one. This function
will not merge the segment lists but keep each separate.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>workflow: pycbc.workflow.core.Workflow</strong></p>
<blockquote>
<div><p>An instance of the Workflow class that manages the workflow.</p>
</div></blockquote>
<p><strong>output_file: pycbc.workflow.core.File</strong></p>
<blockquote>
<div><p>The output file object</p>
</div></blockquote>
<p><strong>input_files: pycbc.workflow.core.FileList</strong></p>
<blockquote>
<div><p>This list of input segment files</p>
</div></blockquote>
<p><strong>out_dir</strong> : path</p>
<blockquote>
<div><p>The directory to write output to.</p>
</div></blockquote>
<p><strong>execute_now</strong> : boolean, optional</p>
<blockquote>
<div><p>If true, jobs are executed immediately. If false, they are added to the
workflow to be run later.</p>
</div></blockquote>
<p><strong>tags</strong> : list of strings, optional</p>
<blockquote class="last">
<div><p>A list of strings that is used to identify this job</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<code class="descclassname">pycbc.workflow.segment.</code><code class="descname">cat_to_pipedown_cat</code><span class="sig-paren">(</span><em>val</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pycbc/workflow/segment.html#cat_to_pipedown_cat"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Convert a category character to the pipedown equivelant</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>str</strong> : single character string</p>
<blockquote>
<div><p>The input category character</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>pipedown_str</strong> : str</p>
<blockquote>
<div><p>The pipedown equivelant notation that can be passed to programs</p>
</div></blockquote>
<p class="last">that expect this definition.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<code class="descclassname">pycbc.workflow.segment.</code><code class="descname">create_segs_from_cats_job</code><span class="sig-paren">(</span><em>cp</em>, <em>out_dir</em>, <em>ifo_string</em>, <em>tag=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pycbc/workflow/segment.html#create_segs_from_cats_job"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>This function creates the CondorDAGJob that will be used to run 
ligolw_segments_from_cats as part of the workflow</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>cp</strong> : pycbc.workflow.configuration.WorkflowConfigParser</p>
<blockquote>
<div><p>The in-memory representation of the configuration (.ini) files</p>
</div></blockquote>
<p><strong>out_dir</strong> : path</p>
<blockquote>
<div><p>Directory in which to put output files</p>
</div></blockquote>
<p><strong>ifo_string</strong> : string</p>
<blockquote>
<div><p>String containing all active ifos, ie. &#8220;H1L1V1&#8221;</p>
</div></blockquote>
<p><strong>tag</strong> : string, optional (default=None)</p>
<blockquote>
<div><p>Use this to specify a tag. This can be used if this module is being
called more than once to give call specific configuration (by setting
options in [workflow-datafind-${TAG}] rather than [workflow-datafind]). This
is also used to tag the Files returned by the class to uniqueify
the Files and uniqueify the actual filename.
FIXME: Filenames may not be unique with current codes!</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>job</strong> : Job instance</p>
<blockquote class="last">
<div><p>The Job instance that will run segments_from_cats jobs</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<code class="descclassname">pycbc.workflow.segment.</code><code class="descname">file_needs_generating</code><span class="sig-paren">(</span><em>file_path</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pycbc/workflow/segment.html#file_needs_generating"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>This job tests the file location and determines if the file should be
generated now or if an error should be raised. This uses the 
generate_segment_files variable, global to this module, which is described
above and in the documentation.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>file_path</strong> : path</p>
<blockquote>
<div><p>Location of file to check</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">int</p>
<blockquote class="last">
<div><p>1 = Generate the file. 0 = File already exists, use it. Other cases
will raise an error.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<code class="descclassname">pycbc.workflow.segment.</code><code class="descname">find_playground_segments</code><span class="sig-paren">(</span><em>segs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pycbc/workflow/segment.html#find_playground_segments"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Finds playground time in a list of segments.</p>
<p>Playground segments include the first 600s of every 6370s stride starting
at GPS time 729273613.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>segs</strong> : segmentfilelist</p>
<blockquote>
<div><p>A segmentfilelist to find playground segments.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>outlist</strong> : segmentfilelist</p>
<blockquote class="last">
<div><p>A segmentfilelist with all playground segments during the input
segmentfilelist (ie. segs).</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<code class="descclassname">pycbc.workflow.segment.</code><code class="descname">fromsegmentxml</code><span class="sig-paren">(</span><em>xml_file</em>, <em>return_dict=False</em>, <em>select_seg_def_id=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pycbc/workflow/segment.html#fromsegmentxml"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Read a glue.segments.segmentlist from the file object file containing an
xml segment table.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>xml_file</strong> : file object</p>
<blockquote>
<div><p>file object for segment xml file</p>
</div></blockquote>
<p><strong>return_dict</strong> : boolean, optional (default = False)</p>
<blockquote>
<div><p>returns a glue.segments.segmentlistdict containing coalesced
glue.segments.segmentlists keyed by seg_def.name for each entry in the
contained segment_def_table.</p>
</div></blockquote>
<p><strong>select_seg_def_id</strong> : int, optional (default = None)</p>
<blockquote>
<div><p>returns a glue.segments.segmentlist object containing only those
segments matching the given segment_def_id integer</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>segs</strong> : glue.segments.segmentlist instance</p>
<blockquote class="last">
<div><p>The segment list contained in the file.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<code class="descclassname">pycbc.workflow.segment.</code><code class="descname">get_analyzable_segments</code><span class="sig-paren">(</span><em>workflow</em>, <em>out_dir</em>, <em>tags=[]</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pycbc/workflow/segment.html#get_analyzable_segments"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Get the analyzable segments after applying ini specified vetoes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>workflow</strong> : Workflow object</p>
<blockquote>
<div><p>Instance of the workflow object</p>
</div></blockquote>
<p><strong>out_dir</strong> : path</p>
<blockquote>
<div><p>Location to store output files</p>
</div></blockquote>
<p><strong>tags</strong> : list of strings</p>
<blockquote>
<div><p>Used to retrieve subsections of the ini file for
configuration options.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>segs</strong> : glue.segments.segmentlist instance</p>
<blockquote>
<div><p>The segment list specifying the times to analyze</p>
</div></blockquote>
<p><strong>data_segs</strong> : glue.segments.segmentlist</p>
<blockquote>
<div><p>The segment list specifying the time where data exists</p>
</div></blockquote>
<p><strong>seg_files</strong> : workflow.core.FileList instance</p>
<blockquote class="last">
<div><p>The cumulative segment files from each ifo that determined the
analyzable time.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<code class="descclassname">pycbc.workflow.segment.</code><code class="descname">get_cumulative_segs</code><span class="sig-paren">(</span><em>workflow</em>, <em>currSegFile</em>, <em>categories</em>, <em>segFilesList</em>, <em>out_dir</em>, <em>tags=[]</em>, <em>execute_now=False</em>, <em>segment_name=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pycbc/workflow/segment.html#get_cumulative_segs"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Function to generate one of the cumulative, multi-detector segment files
as part of the workflow.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>workflow: pycbc.workflow.core.Workflow</strong></p>
<blockquote>
<div><p>An instance of the Workflow class that manages the workflow.</p>
</div></blockquote>
<p><strong>currSegFile</strong> : pycbc.workflow.core.SegFile</p>
<blockquote>
<div><p>The SegFile corresponding to this file that will be created.</p>
</div></blockquote>
<p><strong>categories</strong> : int</p>
<blockquote>
<div><p>The veto categories to include in this cumulative veto.</p>
</div></blockquote>
<p><strong>segFilesList</strong> : Listionary of SegFiles</p>
<blockquote>
<div><p>The list of segment files to be used as input for combining.</p>
</div></blockquote>
<p><strong>out_dir</strong> : path</p>
<blockquote>
<div><p>The directory to write output to.</p>
</div></blockquote>
<p><strong>tags</strong> : list of strings, optional</p>
<blockquote>
<div><p>A list of strings that is used to identify this job</p>
</div></blockquote>
<p><strong>execute_now</strong> : boolean, optional</p>
<blockquote class="last">
<div><p>If true, jobs are executed immediately. If false, they are added to the
workflow to be run later.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<code class="descclassname">pycbc.workflow.segment.</code><code class="descname">get_cumulative_veto_group_files</code><span class="sig-paren">(</span><em>workflow</em>, <em>option</em>, <em>out_dir</em>, <em>tags=[]</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pycbc/workflow/segment.html#get_cumulative_veto_group_files"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Get the cumulative veto files that define the different backgrounds 
we want to analyze, defined by groups of vetos.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>workflow</strong> : Workflow object</p>
<blockquote>
<div><p>Instance of the workflow object</p>
</div></blockquote>
<p><strong>option</strong> : str</p>
<blockquote>
<div><p>ini file option to use to get the veto groups</p>
</div></blockquote>
<p><strong>out_dir</strong> : path</p>
<blockquote>
<div><p>Location to store output files</p>
</div></blockquote>
<p><strong>tags</strong> : list of strings</p>
<blockquote>
<div><p>Used to retrieve subsections of the ini file for
configuration options.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>seg_files</strong> : workflow.core.FileList instance</p>
<blockquote>
<div><p>The cumulative segment files for each veto group.</p>
</div></blockquote>
<p><strong>cat_files</strong> : workflow.core.FileList instance</p>
<blockquote class="last">
<div><p>The list of individual category veto files</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<code class="descclassname">pycbc.workflow.segment.</code><code class="descname">get_science_segments</code><span class="sig-paren">(</span><em>ifo</em>, <em>cp</em>, <em>start_time</em>, <em>end_time</em>, <em>out_dir</em>, <em>tag=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pycbc/workflow/segment.html#get_science_segments"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Obtain science segments for the selected ifo</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>ifo</strong> : string</p>
<blockquote>
<div><p>The string describing the ifo to obtain science times for.</p>
</div></blockquote>
<p><strong>start_time</strong> : gps time (either int/LIGOTimeGPS)</p>
<blockquote>
<div><p>The time at which to begin searching for segments.</p>
</div></blockquote>
<p><strong>end_time</strong> : gps time (either int/LIGOTimeGPS)</p>
<blockquote>
<div><p>The time at which to stop searching for segments.</p>
</div></blockquote>
<p><strong>out_dir</strong> : path</p>
<blockquote>
<div><p>The directory in which output will be stored.</p>
</div></blockquote>
<p><strong>tag</strong> : string, optional (default=None)</p>
<blockquote>
<div><p>Use this to specify a tag. This can be used if this module is being
called more than once to give call specific configuration (by setting
options in [workflow-datafind-${TAG}] rather than [workflow-datafind]). This
is also used to tag the Files returned by the class to uniqueify
the Files and uniqueify the actual filename.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>sciSegs</strong> : glue.segments.segmentlist</p>
<blockquote>
<div><p>The segmentlist generated by this call</p>
</div></blockquote>
<p><strong>sciXmlFile</strong> : pycbc.workflow.core.OutSegFile</p>
<blockquote class="last">
<div><p>The workflow File object corresponding to this science segments file.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<code class="descclassname">pycbc.workflow.segment.</code><code class="descname">get_triggered_coherent_segment</code><span class="sig-paren">(</span><em>workflow</em>, <em>out_dir</em>, <em>sciencesegs</em>, <em>tag=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pycbc/workflow/segment.html#get_triggered_coherent_segment"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Construct the coherent network on and off source segments.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>workflow</strong> : pycbc.workflow.core.Workflow</p>
<blockquote>
<div><p>The workflow instance that the coincidence jobs will be added to.
This instance also contains the ifos for which to attempt to obtain
segments for this analysis and the start and end times to search for
segments over.</p>
</div></blockquote>
<p><strong>out_dir</strong> : path</p>
<blockquote>
<div><p>The directory in which output will be stored.</p>
</div></blockquote>
<p><strong>sciencesegs</strong> : dictionary</p>
<blockquote>
<div><p>Dictionary of science segments produced by
ahope.setup_segment_generation()</p>
</div></blockquote>
<p><strong>tag</strong> : string, optional (default=None)</p>
<blockquote>
<div><p>Use this to specify a tag.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>onsource</strong> : glue.segments.segmentlistdict</p>
<blockquote>
<div><p>A dictionary containing the on source segments for network IFOs</p>
</div></blockquote>
<p><strong>offsource</strong> : glue.segments.segmentlistdict</p>
<blockquote class="last">
<div><p>A dictionary containing the off source segments for network IFOs</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<code class="descclassname">pycbc.workflow.segment.</code><code class="descname">get_veto_segs</code><span class="sig-paren">(</span><em>workflow</em>, <em>ifo</em>, <em>category</em>, <em>start_time</em>, <em>end_time</em>, <em>out_dir</em>, <em>vetoGenJob</em>, <em>tag=None</em>, <em>execute_now=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pycbc/workflow/segment.html#get_veto_segs"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Obtain veto segments for the selected ifo and veto category and add the job
to generate this to the workflow.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>workflow: pycbc.workflow.core.Workflow</strong></p>
<blockquote>
<div><p>An instance of the Workflow class that manages the workflow.</p>
</div></blockquote>
<p><strong>ifo</strong> : string</p>
<blockquote>
<div><p>The string describing the ifo to generate vetoes for.</p>
</div></blockquote>
<p><strong>category</strong> : int</p>
<blockquote>
<div><p>The veto category to generate vetoes for.</p>
</div></blockquote>
<p><strong>start_time</strong> : gps time (either int/LIGOTimeGPS)</p>
<blockquote>
<div><p>The time at which to begin searching for segments.</p>
</div></blockquote>
<p><strong>end_time</strong> : gps time (either int/LIGOTimeGPS)</p>
<blockquote>
<div><p>The time at which to stop searching for segments.</p>
</div></blockquote>
<p><strong>out_dir</strong> : path</p>
<blockquote>
<div><p>The directory in which output will be stored.</p>
</div></blockquote>
<p><strong>vetoGenJob</strong> : Job</p>
<blockquote>
<div><p>The veto generation Job class that will be used to create the Node.</p>
</div></blockquote>
<p><strong>tag</strong> : string, optional (default=None)</p>
<blockquote>
<div><p>Use this to specify a tag. This can be used if this module is being
called more than once to give call specific configuration (by setting
options in [workflow-datafind-${TAG}] rather than [workflow-datafind]). This
is also used to tag the Files returned by the class to uniqueify
the Files and uniqueify the actual filename.
FIXME: Filenames may not be unique with current codes!</p>
</div></blockquote>
<p><strong>execute_now</strong> : boolean, optional</p>
<blockquote>
<div><p>If true, jobs are executed immediately. If false, they are added to the
workflow to be run later.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>veto_def_file</strong> : pycbc.workflow.core.OutSegFile</p>
<blockquote class="last">
<div><p>The workflow File object corresponding to this DQ veto file.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<code class="descclassname">pycbc.workflow.segment.</code><code class="descname">parse_cat_ini_opt</code><span class="sig-paren">(</span><em>cat_str</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pycbc/workflow/segment.html#parse_cat_ini_opt"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Parse a cat str from the ini file into a list of sets</p>
</dd></dl>

<dl class="function">
<dt>
<code class="descclassname">pycbc.workflow.segment.</code><code class="descname">save_veto_definer</code><span class="sig-paren">(</span><em>cp</em>, <em>out_dir</em>, <em>tags=[]</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pycbc/workflow/segment.html#save_veto_definer"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Retrieve the veto definer file and save it locally</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>cp</strong> : ConfigParser instance</p>
<p><strong>out_dir</strong> : path</p>
<p><strong>tags</strong> : list of strings</p>
<blockquote class="last">
<div><p>Used to retrieve subsections of the ini file for
configuration options.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<code class="descclassname">pycbc.workflow.segment.</code><code class="descname">setup_segment_gen_mixed</code><span class="sig-paren">(</span><em>workflow</em>, <em>veto_categories</em>, <em>out_dir</em>, <em>maxVetoAtRunTime</em>, <em>tag=None</em>, <em>generate_coincident_segs=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pycbc/workflow/segment.html#setup_segment_gen_mixed"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>This function will generate veto files for each ifo and for each veto
category.
It can generate these vetoes at run-time or in the workflow (or do some at
run-time and some in the workflow). However, the CAT_1 vetoes and science
time must be generated at run time as they are needed to plan the workflow.
CATs 2 and higher <em>may</em> be needed for other workflow construction.
It can also combine these files to create a set of cumulative,
multi-detector veto files, which can be used in ligolw_thinca and in
pipedown. Again these can be created at run time or within the workflow.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>workflow</strong> : pycbc.workflow.core.Workflow</p>
<blockquote>
<div><p>The Workflow instance that the coincidence jobs will be added to.
This instance also contains the ifos for which to attempt to obtain
segments for this analysis and the start and end times to search for
segments over.</p>
</div></blockquote>
<p><strong>veto_categories</strong> : list of ints</p>
<blockquote>
<div><p>List of veto categories to generate segments for. If this stops being
integers, this can be changed here.</p>
</div></blockquote>
<p><strong>out_dir</strong> : path</p>
<blockquote>
<div><p>The directory in which output will be stored.</p>
</div></blockquote>
<p><strong>maxVetoAtRunTime</strong> : int</p>
<blockquote>
<div><p>Generate veto files at run time up to this category. Veto categories
beyond this in veto_categories will be generated in the workflow.
If we move to a model where veto
categories are not explicitly cumulative, this will be rethought.</p>
</div></blockquote>
<p><strong>tag</strong> : string, optional (default=None)</p>
<blockquote>
<div><p>Use this to specify a tag. This can be used if this module is being
called more than once to give call specific configuration (by setting
options in [workflow-datafind-${TAG}] rather than [workflow-datafind]). This
is also used to tag the Files returned by the class to uniqueify
the Files and uniqueify the actual filename.
FIXME: Filenames may not be unique with current codes!</p>
</div></blockquote>
<p><strong>generate_coincident_segs</strong> : boolean, optional (default = True)</p>
<blockquote>
<div><p>If given this module will generate a set of coincident, cumulative veto
files that can be used with ligolw_thinca and pipedown.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>segFilesList</strong> : dictionary of pycbc.workflow.core.SegFile instances</p>
<blockquote class="last">
<div><p>These are representations of the various segment files that were
constructed
at this stage of the workflow and may be needed at later stages of the
analysis (e.g. for performing DQ vetoes). If the file was generated at
run-time the segment lists contained within these files will be an
attribute
of the instance. (If it will be generated in the workflow it will 
not be because I am not psychic).</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<code class="descclassname">pycbc.workflow.segment.</code><code class="descname">setup_segment_generation</code><span class="sig-paren">(</span><em>workflow</em>, <em>out_dir</em>, <em>tag=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pycbc/workflow/segment.html#setup_segment_generation"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>This function is the gateway for setting up the segment generation steps in a
workflow. It is designed to be able to support multiple ways of obtaining
these segments and to combine/edit such files as necessary for analysis.
The current modules have the capability to generate files at runtime or to
generate files that are not needed for workflow generation within the workflow.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>workflow</strong> : pycbc.workflow.core.Workflow</p>
<blockquote>
<div><p>The workflow instance that the coincidence jobs will be added to.
This instance also contains the ifos for which to attempt to obtain
segments for this analysis and the start and end times to search for
segments over.</p>
</div></blockquote>
<p><strong>out_dir</strong> : path</p>
<blockquote>
<div><p>The directory in which output will be stored.</p>
</div></blockquote>
<p><strong>tag</strong> : string, optional (default=None)</p>
<blockquote>
<div><p>Use this to specify a tag. This can be used if this module is being
called more than once to give call specific configuration (by setting
options in [workflow-datafind-${TAG}] rather than [workflow-datafind]). This
is also used to tag the Files returned by the class to uniqueify
the Files and uniqueify the actual filename.
FIXME: Filenames may not be unique with current codes!</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>segsToAnalyse</strong> : dictionay of ifo-keyed glue.segment.segmentlist instances</p>
<blockquote>
<div><p>This will contain the times that your code should analyse. By default this
is science time - CAT_1 vetoes. (This default could be changed if desired)</p>
</div></blockquote>
<p><strong>segFilesList</strong> : pycbc.workflow.core.FileList of SegFile instances</p>
<blockquote class="last">
<div><p>These are representations of the various segment files that were constructed
at this stage of the workflow and may be needed at later stages of the
analysis (e.g. for performing DQ vetoes). If the file was generated at
run-time the segment lists contained within these files will be an attribute
of the instance. (If it will be generated in the workflow it will not be
because I am not psychic).</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="datafind.html" class="btn btn-neutral float-right" title="The workflow datafind and validation module" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="initialization.html" class="btn btn-neutral" title="Pycbc’s workflow module configuration file(s) and command line interface" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014, Alexander Nitz.
      Last updated on Sep 25, 2015.
    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>