

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>PyGRB: A GRB triggered CBC analysis workflow generator &mdash; PyCBC 0.1 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="PyCBC 0.1 documentation" href="../index.html"/>
        <link rel="up" title="Workflow: the inspiral analysis workflow generator (pycbc.workflow)" href="../workflow.html"/>
        <link rel="next" title="Pycbc’s workflow module configuration file(s) and command line interface" href="initialization.html"/>
        <link rel="prev" title="pycbc_make_sngl_workflow: A single-ifo detchar tool" href="pycbc_make_sngl_workflow.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        

        
          <a href="../index.html" class="icon icon-home"> PyCBC
        

        
        </a>

        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../install.html">Installing PyCBC</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../install.html#setting-up-a-virtual-environment-for-installing-pycbc">Setting up a virtual environment for installing PyCBC</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../install_virtualenv.html">Setting up virtualenv</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../install_virtualenv.html#install-pip">Install pip</a></li>
<li class="toctree-l4"><a class="reference internal" href="../install_virtualenv.html#install-virtualenv">Install virtualenv</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../install.html#installing-lalsuite-into-a-virtual-environment">Installing lalsuite into a virtual environment</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../install_lalsuite.html">Installing lalsuite for PyCBC</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../install_lalsuite.html#obtaining-the-source-code-and-checking-out-a-version">Obtaining the source code and checking out a version</a></li>
<li class="toctree-l4"><a class="reference internal" href="../install_lalsuite.html#building-and-installing-into-your-virtual-environment">Building and installing into your virtual environment</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../install.html#installing-pycbc-in-a-virtual-environment">Installing PyCBC in a virtual environment</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../install.html#installing-a-released-version-of-pycbc">Installing a released version of PyCBC</a></li>
<li class="toctree-l3"><a class="reference internal" href="../install.html#installing-source-from-github-for-development">Installing source from GitHub for development</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../install.html#building-and-installing-documentation">Building and Installing Documentation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../build_gh_pages.html">Building Documentation for Git Hub Pages</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../build_gh_pages.html#creating-a-git-hub-project-page">Creating a Git Hub project page</a></li>
<li class="toctree-l4"><a class="reference internal" href="../build_gh_pages.html#building-and-pushing-the-documentation">Building and pushing the documentation</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../install.html#modifying-pycbc-glue-and-pycbc-pylal">Modifying pycbc-glue and pycbc-pylal</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install.html#use-of-intel-mkl-optimized-fft-libraries">Use of Intel MKL Optimized FFT libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install.html#graphics-processing-unit-support-with-cuda">Graphics Processing Unit support with CUDA</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../install_cuda.html">Instructions to add CUDA support (optional)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../install_cuda.html#installing-the-cuda-dependencies">Installing the CUDA dependencies</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../executables.html">pyCBC executables</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../executables.html#pycbc-inspiral">pycbc_inspiral</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../bin/pycbc_inspiral.html">pycbc_inspiral</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../bin/pycbc_inspiral.html#overview">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="../bin/pycbc_inspiral.html#help-message">Help message</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../executables.html#pycbc-geom-nonspinbank">pycbc_geom_nonspinbank</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../bin/pycbc_geom_nonspinbank.html">pycbc_geom_nonspinbank</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../executables.html#pycbc-aligned-stoch-bank">pycbc_aligned_stoch_bank</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../bin/pycbc_aligned_stoch_bank.html">pycbc_aligned_stoch_bank</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../executables.html#pycbc-geom-aligned-bank">pycbc_geom_aligned_bank</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../bin/pycbc_geom_aligned_bank.html">pycbc_geom_aligned_bank</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../executables.html#pycbc-geom-aligned-2dstack">pycbc_geom_aligned_2dstack</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../bin/pycbc_geom_aligned_2dstack.html">pycbc_geom_aligned_2dstack</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../executables.html#pycbc-aligned-bank-cat">pycbc_aligned_bank_cat</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../bin/pycbc_aligned_bank_cat.html">pycbc_aligned_bank_cat</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../workflow.html">Workflow: the inspiral analysis workflow generator (<code class="docutils literal"><span class="pre">pycbc.workflow</span></code>)</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../workflow.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../workflow.html#workflow-to-do-list">Workflow to do list</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../workflow.html#examples">Examples</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../workflow.html#pycbc-make-coinc-workflow"><code class="docutils literal"><span class="pre">pycbc_make_coinc_workflow</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="pycbc_make_coinc_workflow.html"><code class="docutils literal"><span class="pre">pycbc_make_coinc_workflow</span></code>: A CBC analysis workflow generator</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../workflow.html#pycbc-make-sngl-workflow"><code class="docutils literal"><span class="pre">pycbc_make_sngl_workflow</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="pycbc_make_sngl_workflow.html"><code class="docutils literal"><span class="pre">pycbc_make_sngl_workflow</span></code>: A single-ifo detchar tool</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../workflow.html#id1"><code class="docutils literal"><span class="pre">pycbc_make_sngl_workflow</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="pycbc_make_sngl_workflow.html"><code class="docutils literal"><span class="pre">pycbc_make_sngl_workflow</span></code>: A single-ifo detchar tool</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../workflow.html#data-checker"><cite>data_checker</cite></a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../workflow.html#pygrb"><code class="docutils literal"><span class="pre">pygrb</span></code></a><ul class="current">
<li class="toctree-l4 current"><a class="current reference internal" href="">PyGRB: A GRB triggered CBC analysis workflow generator</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../workflow.html#workflow-module-documentation">Workflow module documentation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../workflow.html#initialization">Initialization</a><ul>
<li class="toctree-l4"><a class="reference internal" href="initialization.html">Pycbc&#8217;s workflow module configuration file(s) and command line interface</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../workflow.html#generating-segments">Generating segments</a><ul>
<li class="toctree-l4"><a class="reference internal" href="segments.html">The workflow segment generation module</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../workflow.html#obtaining-data">Obtaining data</a><ul>
<li class="toctree-l4"><a class="reference internal" href="datafind.html">The workflow datafind and validation module</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../workflow.html#injection-generation">Injection generation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="injections.html">The workflow injection generation module</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../workflow.html#time-slide-generation">Time-slide generation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="time_slides.html">The workflow time-slide generation module</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../workflow.html#template-bank">Template bank</a><ul>
<li class="toctree-l4"><a class="reference internal" href="template_bank.html">The workflow template bank generation module</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../workflow.html#split-table">Split table</a><ul>
<li class="toctree-l4"><a class="reference internal" href="splittable.html">The workflow table splitting module</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../workflow.html#matched-filtering">Matched-filtering</a><ul>
<li class="toctree-l4"><a class="reference internal" href="matched_filter.html">The workflow matched-filter module</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../workflow.html#coincidence">Coincidence</a><ul>
<li class="toctree-l4"><a class="reference internal" href="coincidence.html">The workflow coincidence module</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../workflow.html#post-processing-preparation">Post processing preparation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="postprocprep.html">The workflow postprocessing preparation module</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../workflow.html#post-processing">Post-processing</a><ul>
<li class="toctree-l4"><a class="reference internal" href="postproc.html">The workflow postprocessing module</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../workflow.html#method-documentation">Method documentation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../pycbc.workflow.html">pycbc.workflow package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.workflow.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.workflow.html#module-pycbc.workflow.analysislogging">pycbc.workflow.analysislogging module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.workflow.html#module-pycbc.workflow.coincidence">pycbc.workflow.coincidence module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.workflow.html#module-pycbc.workflow.configparser_test">pycbc.workflow.configparser_test module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.workflow.html#module-pycbc.workflow.configuration">pycbc.workflow.configuration module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.workflow.html#module-pycbc.workflow.core">pycbc.workflow.core module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.workflow.html#module-pycbc.workflow.datafind">pycbc.workflow.datafind module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.workflow.html#module-pycbc.workflow.grb_utils">pycbc.workflow.grb_utils module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.workflow.html#module-pycbc.workflow.injection">pycbc.workflow.injection module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.workflow.html#module-pycbc.workflow.jobsetup">pycbc.workflow.jobsetup module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.workflow.html#module-pycbc.workflow.legacy_ihope">pycbc.workflow.legacy_ihope module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.workflow.html#module-pycbc.workflow.matched_filter">pycbc.workflow.matched_filter module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.workflow.html#module-pycbc.workflow.minifollowups">pycbc.workflow.minifollowups module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.workflow.html#module-pycbc.workflow.pegasus_workflow">pycbc.workflow.pegasus_workflow module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.workflow.html#module-pycbc.workflow.plotting">pycbc.workflow.plotting module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.workflow.html#module-pycbc.workflow.postprocessing">pycbc.workflow.postprocessing module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.workflow.html#module-pycbc.workflow.postprocessing_cohptf">pycbc.workflow.postprocessing_cohptf module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.workflow.html#module-pycbc.workflow.postprocessing_prep">pycbc.workflow.postprocessing_prep module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.workflow.html#module-pycbc.workflow.psd">pycbc.workflow.psd module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.workflow.html#module-pycbc.workflow.segment">pycbc.workflow.segment module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.workflow.html#module-pycbc.workflow.splittable">pycbc.workflow.splittable module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.workflow.html#module-pycbc.workflow.summaryplots">pycbc.workflow.summaryplots module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.workflow.html#module-pycbc.workflow.timeslides">pycbc.workflow.timeslides module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.workflow.html#module-pycbc.workflow.tmpltbank">pycbc.workflow.tmpltbank module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.workflow.html#module-pycbc.workflow">Module contents</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../tmpltbank.html">PyCBC template bank generation documentation (<code class="docutils literal"><span class="pre">pycbc.tmpltbank</span></code>)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../tmpltbank.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tmpltbank.html#non-spin-bank-placement-pycbc-geom-nonspinbank">Non spin bank placement: pycbc_geom_nonspinbank</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../tmpltbank.html#overview">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tmpltbank.html#background">Background</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tmpltbank.html#some-examples">Some examples</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tmpltbank.html#command-line-options">Command line options</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../tmpltbank.html#aligned-spin-geometric-placement-pycbc-geom-aligned-bank">Aligned-spin geometric placement: pycbc_geom_aligned_bank</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../tmpltbank.html#id1">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tmpltbank.html#id2">Background</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tmpltbank.html#id3">Some examples</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tmpltbank.html#id4">Command line options</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../tmpltbank.html#aligned-spin-stochastic-placement">Aligned-spin stochastic placement</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../tmpltbank.html#id5">Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tmpltbank.html#id6">Background</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tmpltbank.html#ian-s-recommendation-which-stochastic-code-should-i-use">Ian&#8217;s recommendation: Which stochastic code should I use?</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../tmpltbank.html#i-want-to-use-the-f2-or-r2f4-metric">I want to use the F2 or R2F4 metric</a></li>
<li class="toctree-l4"><a class="reference internal" href="../tmpltbank.html#i-want-to-use-another-metric-ie-an-imr-metric">I want to use another metric, ie. an IMR metric</a></li>
<li class="toctree-l4"><a class="reference internal" href="../tmpltbank.html#i-want-to-use-direct-match">I want to use direct match</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../tmpltbank.html#id7">Some examples</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tmpltbank.html#command-line-options-pycbc-aligned-stoch-bank">Command line options: pycbc_aligned_stoch_bank</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tmpltbank.html#command-line-options-lalapps-cbc-sbank">Command line options: lalapps_cbc_sbank</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tmpltbank.html#command-line-options-lalapps-cbc-sbank-pipe">Command line options: lalapps_cbc_sbank_pipe</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../tmpltbank.html#hybrid-approaches-the-best-of-both-worlds">Hybrid approaches: the best of both worlds</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tmpltbank.html#the-module-s-source-code">The module&#8217;s source code</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../pycbc.tmpltbank.html">pycbc.tmpltbank package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.tmpltbank.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.tmpltbank.html#module-pycbc.tmpltbank.bank_output_utils">pycbc.tmpltbank.bank_output_utils module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.tmpltbank.html#module-pycbc.tmpltbank.brute_force_methods">pycbc.tmpltbank.brute_force_methods module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.tmpltbank.html#module-pycbc.tmpltbank.calc_moments">pycbc.tmpltbank.calc_moments module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.tmpltbank.html#module-pycbc.tmpltbank.coord_utils">pycbc.tmpltbank.coord_utils module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.tmpltbank.html#module-pycbc.tmpltbank.em_progenitors">pycbc.tmpltbank.em_progenitors module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.tmpltbank.html#module-pycbc.tmpltbank.lambda_mapping">pycbc.tmpltbank.lambda_mapping module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.tmpltbank.html#module-pycbc.tmpltbank.lattice_utils">pycbc.tmpltbank.lattice_utils module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.tmpltbank.html#module-pycbc.tmpltbank.option_utils">pycbc.tmpltbank.option_utils module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.tmpltbank.html#module-pycbc.tmpltbank.partitioned_bank">pycbc.tmpltbank.partitioned_bank module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.tmpltbank.html#module-pycbc.tmpltbank">Module contents</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../pycbc.psd.html">pycbc.psd package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.psd.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.psd.html#module-pycbc.psd.analytical">pycbc.psd.analytical module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.psd.html#module-pycbc.psd.estimate">pycbc.psd.estimate module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.psd.html#module-pycbc.psd.read">pycbc.psd.read module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.psd.html#module-pycbc.psd">Module contents</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../pycbc.noise.html">pycbc.noise package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.noise.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.noise.html#module-pycbc.noise.gaussian">pycbc.noise.gaussian module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.noise.html#module-pycbc.noise">Module contents</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../frame.html">Reading Gravitational-wave Frames (<code class="docutils literal"><span class="pre">pycbc.frame</span></code>)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../frame.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../frame.html#module-pycbc.frame">Method documentation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../banksim.html">Dag Generator for Doing Banksims</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../banksim.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../banksim.html#how-to-generate-a-workflow-to-do-a-large-banksim">How to generate a workflow to do a large banksim</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../banksim.html#creating-an-ini-file">Creating an INI file</a></li>
<li class="toctree-l3"><a class="reference internal" href="../banksim.html#generating-the-workflow">Generating the workflow</a></li>
<li class="toctree-l3"><a class="reference internal" href="../banksim.html#understanding-the-results">Understanding the results</a></li>
<li class="toctree-l3"><a class="reference internal" href="../banksim.html#workflow-considerations">Workflow considerations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../banksim.html#example-config-files">Example config files</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../faithsim.html">Dag Generator for Doing Faithfulness Comparisons</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../faithsim.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../faithsim.html#how-to-generate-a-workflow">How to generate a workflow</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../faithsim.html#creating-a-configuration-ini-file">Creating a configuration (.ini) file</a></li>
<li class="toctree-l3"><a class="reference internal" href="../faithsim.html#generating-the-workflow">Generating the workflow</a></li>
<li class="toctree-l3"><a class="reference internal" href="../faithsim.html#understanding-the-results">Understanding the results</a></li>
<li class="toctree-l3"><a class="reference internal" href="../faithsim.html#example-config-files">Example config files</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="pycbc_bns_hdf_config_walkthrough.html">Walkthrough of running the PyCBC BNS focused pipeline on SUGAR</a><ul>
<li class="toctree-l2"><a class="reference internal" href="pycbc_bns_hdf_config_walkthrough.html#run-sh">run.sh</a></li>
<li class="toctree-l2"><a class="reference internal" href="pycbc_bns_hdf_config_walkthrough.html#config-file">config file</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="pycbc_make_psd_estimation_workflow.html">Estimating average noise PSDs over long stretches of data</a><ul>
<li class="toctree-l2"><a class="reference internal" href="pycbc_make_psd_estimation_workflow.html#configuration-file">Configuration file</a></li>
<li class="toctree-l2"><a class="reference internal" href="pycbc_make_psd_estimation_workflow.html#generating-and-running-the-workflow">Generating and running the workflow</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="configuration_files.html">Configuration File Sets</a><ul>
<li class="toctree-l2"><a class="reference internal" href="configuration_files.html#the-example-set">The example set</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuration_files.html#latest-review-configuration-file">latest review configuration file</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuration_files.html#daily-configuration-files">daily configuration files</a><ul>
<li class="toctree-l3"><a class="reference internal" href="configuration_files.html#daily-example-daily-lalapps-ini"><code class="docutils literal"><span class="pre">daily/example_daily_lalapps.ini</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="configuration_files.html#daily-example-daily-pycbc-zpk-ini"><code class="docutils literal"><span class="pre">daily/example_daily_pycbc_zpk.ini</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="configuration_files.html#sngl-configuration-files">sngl configuration files</a><ul>
<li class="toctree-l3"><a class="reference internal" href="configuration_files.html#sngl-example-sngl-ini"><code class="docutils literal"><span class="pre">sngl/example_sngl.ini</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="hdf_coincidence.html">HDF5 Based Coincidence Code</a><ul>
<li class="toctree-l2"><a class="reference internal" href="hdf_coincidence.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="hdf_coincidence.html#limitations">Limitations</a></li>
<li class="toctree-l2"><a class="reference internal" href="hdf_coincidence.html#configuration-file">Configuration File</a><ul>
<li class="toctree-l3"><a class="reference internal" href="hdf_coincidence.html#workflow-configuration">Workflow Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="hdf_coincidence.html#executable-configuration">Executable Configuration</a><ul>
<li class="toctree-l4"><a class="reference internal" href="hdf_coincidence.html#options-to-the-coincidence-background-executable">Options to the coincidence/background executable</a></li>
<li class="toctree-l4"><a class="reference internal" href="hdf_coincidence.html#options-to-the-coincidence-clustering-statistic-asignment-executable">Options to the coincidence clustering + statistic asignment executable</a></li>
<li class="toctree-l4"><a class="reference internal" href="hdf_coincidence.html#options-to-the-injection-finding-executable">Options to the injection finding executable</a></li>
<li class="toctree-l4"><a class="reference internal" href="hdf_coincidence.html#options-for-sensitivity-plotting">Options for sensitivity plotting</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="hdf_coincidence.html#workflow-generation-an-planning">Workflow Generation an Planning</a></li>
<li class="toctree-l2"><a class="reference internal" href="hdf_coincidence.html#reusing-data-from-workflow-that-uses-some-other-post-processing">Reusing data from workflow that uses some other post-processing</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../uberbank_verify.html">Verifying the construction of banks with pycbc_banksim</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../uberbank_verify.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../uberbank_verify.html#procedure">Procedure</a></li>
<li class="toctree-l2"><a class="reference internal" href="../uberbank_verify.html#evaluation">Evaluation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../uberbank_verify.html#known-issues">Known issues</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../hwinj.html">Hardware injection waveform generation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../hwinj.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hwinj.html#generate-waveform-from-command-line-pycbc-generate-hwinj">Generate waveform from command line (<code class="docutils literal"><span class="pre">pycbc_generate_hwinj</span></code>)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../hwinj.html#select-a-time-for-the-injection">Select a time for the injection</a></li>
<li class="toctree-l3"><a class="reference internal" href="../hwinj.html#select-data-for-psd-estimation">Select data for PSD estimation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../hwinj.html#run-pycbc-generate-hwinj">Run <code class="docutils literal"><span class="pre">pycbc_generate_hwinj</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../hwinj.html#generate-waveform-from-lalapps-inspinj-output-pycbc-generate-hwinj-from-xml">Generate waveform from <code class="docutils literal"><span class="pre">lalapps_inspinj</span></code> output (<code class="docutils literal"><span class="pre">pycbc_generate_hwinj_from_xml</span></code>)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../hwinj.html#run-lalapps-inspinj">Run <code class="docutils literal"><span class="pre">lalapps_inspinj</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../hwinj.html#run-pycbc-generate-hwinj-from-xml">Run <code class="docutils literal"><span class="pre">pycbc_generate_hwinj_from_xml</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../hwinj.html#checks-for-the-hardware-injection-output">Checks for the hardware injection output</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../hwinj.html#plot-ascii-waveform-files-with-pycbc-plot-hwinj">Plot ASCII waveform files with <code class="docutils literal"><span class="pre">pycbc_plot_hwinj</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../hwinj.html#recover-software-injection-with-pycbc-inspiral">Recover software injection with <code class="docutils literal"><span class="pre">pycbc_inspiral</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../hwinj.html#recover-ascii-file-injection-with-pycbc-inspiral">Recover ASCII file injection with <code class="docutils literal"><span class="pre">pycbc_inspiral</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../hwinj.html#how-to-query-the-segment-database">How to query the segment database</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hwinj.html#how-to-query-the-ldr-server">How to query the LDR server</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../waveform.html">Waveforms</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../waveform.html#what-waveforms-can-i-generate">What waveforms can I generate?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../waveform.html#plotting-time-domain-waveforms">Plotting Time Domain Waveforms</a></li>
<li class="toctree-l2"><a class="reference internal" href="../waveform.html#calculating-the-match-between-waveforms">Calculating the match between waveforms</a></li>
<li class="toctree-l2"><a class="reference internal" href="../waveform.html#plotting-a-td-and-fd-waveform-together-in-the-td">Plotting a TD and FD waveform together in the TD</a></li>
<li class="toctree-l2"><a class="reference internal" href="../waveform.html#plotting-gw-phase-and-amplitude-of-td-waveform">Plotting GW phase and amplitude of TD waveform</a></li>
<li class="toctree-l2"><a class="reference internal" href="../waveform.html#plotting-frequency-evolution-of-td-waveform">Plotting frequency evolution of TD waveform</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../documentation.html">Documenting PyCBC code</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../documentation.html#sphinx">Sphinx</a></li>
<li class="toctree-l2"><a class="reference internal" href="../documentation.html#documenting-the-pycbc-package">Documenting the PyCBC package</a></li>
<li class="toctree-l2"><a class="reference internal" href="../documentation.html#documenting-pycbc-modules">Documenting PyCBC modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="../documentation.html#documenting-pycbc-scripts">Documenting PyCBC scripts</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../release.html">Creating Releases of PyCBC</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../release.html#creating-the-release-on-github">Creating the release on GitHub</a></li>
<li class="toctree-l2"><a class="reference internal" href="../release.html#uploading-to-the-python-package-index">Uploading to the Python Package Index</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../formats/hdf_format.html">HDF files within the PyCBC workflow</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../formats/hdf_format.html#single-inspiral-triggers">single inspiral triggers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../formats/hdf_format.html#executables">Executables</a></li>
<li class="toctree-l3"><a class="reference internal" href="../formats/hdf_format.html#specification">Specification</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../formats/hdf_format.html#combined-single-inspiral-triggers">combined single inspiral triggers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../formats/hdf_format.html#id1">Executables</a></li>
<li class="toctree-l3"><a class="reference internal" href="../formats/hdf_format.html#id2">Specification</a></li>
<li class="toctree-l3"><a class="reference internal" href="../formats/hdf_format.html#example-uses">Example uses</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../modules.html">pycbc</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../pycbc.html">pycbc package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../pycbc.html#subpackages">Subpackages</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.events.html">pycbc.events package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.fft.html">pycbc.fft package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.filter.html">pycbc.filter package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.io.html">pycbc.io package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.noise.html">pycbc.noise package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.psd.html">pycbc.psd package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.results.html">pycbc.results package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.tmpltbank.html">pycbc.tmpltbank package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.types.html">pycbc.types package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.vetoes.html">pycbc.vetoes package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.waveform.html">pycbc.waveform package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pycbc.workflow.html">pycbc.workflow package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../pycbc.html#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pycbc.html#module-pycbc.detector">pycbc.detector module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pycbc.html#module-pycbc.frame">pycbc.frame module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pycbc.html#module-pycbc.future">pycbc.future module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pycbc.html#module-pycbc.inject">pycbc.inject module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pycbc.html#module-pycbc.libutils">pycbc.libutils module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pycbc.html#module-pycbc.opt">pycbc.opt module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pycbc.html#module-pycbc.pnutils">pycbc.pnutils module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pycbc.html#module-pycbc.scheme">pycbc.scheme module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pycbc.html#module-pycbc.sensitivity">pycbc.sensitivity module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pycbc.html#module-pycbc.strain">pycbc.strain module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pycbc.html#module-pycbc.version">pycbc.version module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pycbc.html#module-pycbc.weave">pycbc.weave module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pycbc.html#module-pycbc">Module contents</a></li>
</ul>
</li>
</ul>
</li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">PyCBC</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../workflow.html">Workflow: the inspiral analysis workflow generator (<code class="docutils literal"><span class="pre">pycbc.workflow</span></code>)</a> &raquo;</li>
      
    <li>PyGRB: A GRB triggered CBC analysis workflow generator</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/workflow/pygrb.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="pygrb-a-grb-triggered-cbc-analysis-workflow-generator">
<h1>PyGRB: A GRB triggered CBC analysis workflow generator<a class="headerlink" href="#pygrb-a-grb-triggered-cbc-analysis-workflow-generator" title="Permalink to this headline">¶</a></h1>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>PyGRB is a tool used to generate a data analysis workflow for a targeted,
coherent gravitational wave search triggered by short duration gamma-ray
bursts.</p>
<p>When submitted, this workflow will run a pipeline to analyse data from multiple
gravitational wave detectors coherently. It will then perform various
signal-based veto cuts and data quality cuts to determine whether or not a
compact binary coalescence signal is present in the given data coming from the
same point in the sky and at the same time as an observed short duration
gamma-ray burst.</p>
<p>The output will be a webpage containing plots and other data files that can be
used to understand the results of the analysis.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>These instructions refer to code that currently resides only in the GitHub
repository at the following link:</p>
<p><a class="reference external" href="https://github.com/a-r-williamson/pycbc/tree/pygrb_dev">PyGRB on GitHub</a></p>
<p class="last"><strong>These instructions do not apply to the version of PyGRB currently on PyCBC
master branch!</strong></p>
</div>
<p>This may be retreived by cloning the repository, for example using https:</p>
<div class="highlight-python"><div class="highlight"><pre>git clone https://github.com/a-r-williamson/pycbc.git
cd pycbc
git checkout pygrb_dev
python setup.py install --prefix=/path/to/install/directory
</pre></div>
</div>
</div>
<div class="section" id="how-to-run">
<span id="howtorunpygrb"></span><h2>How to run<a class="headerlink" href="#how-to-run" title="Permalink to this headline">¶</a></h2>
<p>Here we document the stages needed to run the triggered coherent GRB search.</p>
<p>Once PyCBC is installed, you should be able to run the following help command for the workflow generation
script:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">pygrb_make_offline_workflow</span> <span class="o">--</span><span class="n">help</span>
</pre></div>
</div>
<p>This should produce a help message like the following:</p>
<div class="highlight-python"><div class="highlight"><pre>usage: pygrb_make_offline_workflow [-h] [--version] [-d OUTPUT_DIR]
                                   [--config-files CONFIGFILE [CONFIGFILE ...]]
                                   [--config-overrides [SECTION:OPTION:VALUE [SECTION:OPTION:VALUE ...]]]

optional arguments:
  -h, --help            show this help message and exit
  --version             show program&#39;s version number and exit
  -d OUTPUT_DIR, --output-dir OUTPUT_DIR
                        Path to output directory.

workflow:
  Options needed for workflow setup.

  --config-files CONFIGFILE [CONFIGFILE ...]
                        List of localconfig files to be used in analysis.
  --config-overrides [SECTION:OPTION:VALUE [SECTION:OPTION:VALUE ...]]
                        List of section,option,value combinations to add into
                        the configuration file. Normally the gps start and end
                        times might be provided this way, and user specific
                        locations (ie. output directories). This can also be
                        provided as SECTION:OPTION or SECTION:OPTION: both of
                        which indicate that the corresponding value is left
                        blank.
</pre></div>
</div>
<p>This outlines the command line arguments that may be passed to the executable.
The majority of options passed to the workflow will come from configuration
files, and these are known to the executable via the option
&#8211;config-files.</p>
<div class="section" id="set-up-a-run-directory">
<h3>Set up a run directory<a class="headerlink" href="#set-up-a-run-directory" title="Permalink to this headline">¶</a></h3>
<p>Navigate to the directory you wish to run in:</p>
<div class="highlight-python"><div class="highlight"><pre>RUN_DIR=/path/to/run/directory
mkdir -p $RUN_DIR
cd $RUN_DIR
</pre></div>
</div>
<p>Next gather together configuration files for your run.</p>
</div>
<div class="section" id="configuration-files-do-you-already-have-configuration-ini-file-s">
<h3>Configuration files - Do you already have configuration (.ini) file(s)?<a class="headerlink" href="#configuration-files-do-you-already-have-configuration-ini-file-s" title="Permalink to this headline">¶</a></h3>
<div class="section" id="yes-i-already-have-configuration-files">
<h4>Yes, I already have configuration files<a class="headerlink" href="#yes-i-already-have-configuration-files" title="Permalink to this headline">¶</a></h4>
<p>Copy over configuration files into your run directory:</p>
<div class="highlight-python"><div class="highlight"><pre>cp /path/to/config_file1.ini /path/to/config_file2.ini $RUN_DIR
</pre></div>
</div>
<p>Now add these configuration files to your environment. If you have more than
one configuration file they must be space separated:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">LOCAL_CONFIG_FILES</span><span class="o">=</span><span class="s">&quot;config_file1.ini config_file2.ini&quot;</span>
</pre></div>
</div>
<p>Now go down to <a class="reference internal" href="#pygrbgenerate"><span>Generate the workflow</span></a>.</p>
</div>
<div class="section" id="no-i-need-to-edit-a-configuration-file">
<h4>No, I need to edit a configuration file<a class="headerlink" href="#no-i-need-to-edit-a-configuration-file" title="Permalink to this headline">¶</a></h4>
<p>The default configuration files are found in:</p>
<div class="highlight-python"><div class="highlight"><pre>/src/pycbc/examples/workflow/pygrb/
</pre></div>
</div>
<p>namely:</p>
<div class="highlight-python"><div class="highlight"><pre>main.ini injections.ini postprocessing.ini
</pre></div>
</div>
<p>These files contain almost all options needed to construct an example PyGRB
workflow</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you are unfamiliar with pycbc workflows, look through these files.</p>
</div>
<ul class="simple">
<li>main.ini contains options that are used when setting up the data retreival,
template bank generation and main analysis matched filtering parts of the
workflow</li>
<li>injections.ini contains options for generating injection sets</li>
<li>postprocessing.ini contains options that are used to run the post processing
stages of the workflow codes</li>
</ul>
<p>Currently, the example is set up to run on S6 data, analysing only H1 and L1.</p>
<p>If you want to run in this default configuration please jump down to
<a class="reference internal" href="#pygrbgenerate"><span>Generate the workflow</span></a>.</p>
<p>If you want to run on non-S6 data, analyze a different set of ifos, or change
any data-type or segment length options, you will have to edit some additional
options.</p>
</div>
</div>
</div>
<div class="section" id="main-ini">
<h2>main.ini<a class="headerlink" href="#main-ini" title="Permalink to this headline">¶</a></h2>
<p>Firstly, the sections specifying some workflow-wide options include:</p>
<div class="highlight-python"><div class="highlight"><pre>[workflow]
h1-channel-name = H1:LDAS-STRAIN
l1-channel-name = L1:LDAS-STRAIN

[workflow-ifos]
; This is the list of ifos to analyse
h1 =
l1 =


[workflow-datafind]
datafind-h1-frame-type = H1_LDAS_C02_L2
datafind-l1-frame-type = L1_LDAS_C02_L2

[workflow-segments]
segments-h1-science-name = H1:DMT-SCIENCE:4
segments-l1-science-name = L1:DMT-SCIENCE:4
segments-database-url = https://segdb.ligo.caltech.edu
segments-veto-definer-url = https://www.lsc-group.phys.uwm.edu/ligovirgo/cbc/public/segments/S6/H1L1V1-S6_CBC_LOWMASS_D_OFFLINE-961545543-0.xml
segments-veto-categories = 3
segments-minimum-segment-length = 256

[workflow-exttrig_segments]
; options for the coherent search (development)
on-before = 5
on-after = 1
min-before = 60
min-after = 60
min-duration = 256
max-duration = 5264
quanta = 128
num-buffer-before = 8
num-buffer-after = 8
</pre></div>
</div>
<p>To run through this</p>
<ul class="simple">
<li>The [workflow-ifos] section supplies which ifos will be analysed if data is
found and available</li>
<li>The [workflow-exttrig_segments] section supplies the GRB search-specific
options for the data segment to be analyzed</li>
<li>The xx-channel-name options are the h(t) channel name in the frames</li>
<li>The datafind-xx-frame-type is the type of the frames for use when calling
gw_data_find</li>
<li>The segments-xx-science-name is the flag used to store science times in the
segment database</li>
<li>segments-database-url points to the segment database</li>
<li>segments-veto-definer-url points to the url where the veto-definer file can
be found.</li>
</ul>
<p>We also set the executables to be used for these parts of the analysis:</p>
<div class="highlight-python"><div class="highlight"><pre>[executables]
; setup of condor universe and location of executables
tmpltbank               = ${which:lalapps_tmpltbank_ahope}
inspiral                = ${which:lalapps_coh_PTF_inspiral}
splitbank               = ${which:pycbc_splitbank}
segment_query           = ${which:ligolw_segment_query}
segments_from_cats      = ${which:ligolw_segments_from_cats}
llwadd                  = ${which:ligolw_add}
ligolw_combine_segments = ${which:ligolw_combine_segments}
</pre></div>
</div>
<p>The options to be given to every job run by an executable are then given
within a secion with the relevant name, for example our inspiral jobs (in this
case, lalapps_coh_PTF_inspiral) use the options in the following section:</p>
<div class="highlight-python"><div class="highlight"><pre>[inspiral]
; coh_PTF_inspiral analysis parameters -- added to all inspiral jobs
; Note that some values are dynamically recalculated during workflow generation
.
.
.
</pre></div>
</div>
<p>These should not be edited unless you know what you are doing. To find out
more details about the possible options for any stage of the workflow, follow
the links at <a class="reference internal" href="../workflow.html#workflowhomepage"><span>Workflow: the inspiral analysis workflow generator (pycbc.workflow)</span></a>.</p>
</div>
<div class="section" id="injections-ini">
<h2>injections.ini<a class="headerlink" href="#injections-ini" title="Permalink to this headline">¶</a></h2>
<p>Multiple configuration files may be used, and in fact the same sections may be
populated from within multiple files. As an example, we might wish to have a
seperate file for the injection options. This file may contain the following:</p>
<div class="highlight-python"><div class="highlight"><pre>[executables]
injections       = ${which:lalapps_inspinj}
jitter_skyloc    = ${which:ligolw_cbc_jitter_skyloc}
align_total_spin = ${which:ligolw_cbc_align_total_spin}
split_inspinj    = ${which:pycbc_split_inspinj}
</pre></div>
</div>
<p>This will add to the values given in the [executables] section of the other
file. Options for the trig_combiner code may then be given in a section
[trig_combiner], and so on. Options in sections such as [injections-&lt;tag&gt;]
will be passed to the injection executable and create jobs tagged with &lt;tag&gt;.
This can be used, as in the example, to generate multiple injection sets.
Options in sections such as [workflow-injections-&lt;tag&gt;] will apply to the same
tagged injection set, but are not passed to the executable. They can instead be
used to control the behaviour of the workflow generation as applied to that
specific tagged injection set. In our example these options are the number of
injections to be included in each set.</p>
</div>
<div class="section" id="postprocessing-ini">
<h2>postprocessing.ini<a class="headerlink" href="#postprocessing-ini" title="Permalink to this headline">¶</a></h2>
<p>As before, the options for each of the post processing codes are given in this
configuration file. One notable section is:</p>
<div class="highlight-python"><div class="highlight"><pre>[pegasus_profile-trig_combiner]
condor|request_memory=2000M
</pre></div>
</div>
<p>This is how to supply condor options that only apply to the trig_combiner jobs.
This can be generalised to any executable or tagged jobs.</p>
</div>
<div class="section" id="copy-over-files">
<h2>Copy over files<a class="headerlink" href="#copy-over-files" title="Permalink to this headline">¶</a></h2>
<p>Now you have a configuration file (or files) and
can follow the same instructions as above. That is:</p>
<p>Copy the configuration file into your run directory:</p>
<div class="highlight-python"><div class="highlight"><pre>cp /path/to/&lt;file(s)&gt;.ini .
</pre></div>
</div>
<p>and set the name of the configuration file in your path. If you have more than
one configuration file they must be space separated:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">LOCAL_CONFIG_FILES</span><span class="o">=</span><span class="s">&quot;main.ini injections.ini postprocessing.ini&quot;</span>
</pre></div>
</div>
<div class="section" id="generate-the-workflow">
<span id="pygrbgenerate"></span><h3>Generate the workflow<a class="headerlink" href="#generate-the-workflow" title="Permalink to this headline">¶</a></h3>
<p>When you are ready, you can generate the workflow. This may be done by setting
a number of variables in your environment before launching the generation
script.</p>
<p>First we need to choose a trigger time, ie. the GPS Earth-crossing time
of the GRB signal. You should also set the GRB name. For example:</p>
<div class="highlight-python"><div class="highlight"><pre>GRB_TIME=969675608
GRB_NAME=100928A
</pre></div>
</div>
<p>We should next set the sky coordinates of the GRB in RA and Dec, in this
example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">RA</span><span class="o">=</span><span class="mf">223.0</span>
<span class="n">DEC</span><span class="o">=-</span><span class="mf">28.5</span>
<span class="n">SKY_ERROR</span><span class="o">=</span><span class="mi">0</span>
</pre></div>
</div>
<p>If you are using a pregenerated template bank and do not have a path to the
bank set in your config file, set it here:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">BANK_FILE</span><span class="o">=</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">templatebank</span>
</pre></div>
</div>
<p>You also need to specify the git directory of your lalsuite install:</p>
<div class="highlight-python"><div class="highlight"><pre>export LAL_SRC=/path/to/folder/containing/lalsuite.git
</pre></div>
</div>
<p>If you want the results page to be moved to a location outside of your run,
provide this too:</p>
<div class="highlight-python"><div class="highlight"><pre>export HTML_DIR=/path/to/html/folder
</pre></div>
</div>
<p>If you are using locally editted or custom configuration files then you can
create the workflow from within the run directory using:</p>
<div class="highlight-python"><div class="highlight"><pre>pygrb_make_offline_workflow \
         --config-files ${LOCAL_CONFIG_FILES} \
         --config-overrides workflow:ra:${RA} \
                            workflow:dec:${DEC} \
                            workflow:sky-error:${SKY_ERROR} \
                            workflow:trigger-name:${GRB_NAME} \
                            workflow:trigger-time:${GRB_TIME} \
                            workflow:start-time:$(( GRB_TIME - 4096 )) \
                            workflow:end-time:$(( GRB_TIME + 4096 )) \
                            workflow:html-dir:${HTML_DIR} \
                            workflow-tmpltbank:tmpltbank-pregenerated-bank:${BANK_FILE}
</pre></div>
</div>
<p>This may all be conveniently placed within a shell script, an example of which is given in:</p>
<div class="highlight-python"><div class="highlight"><pre>/src/pycbc/examples/workflow/pygrb/run_pygrb.sh
</pre></div>
</div>
</div>
<div class="section" id="planning-and-submitting-the-workflow">
<span id="pygrbplan"></span><h3>Planning and Submitting the Workflow<a class="headerlink" href="#planning-and-submitting-the-workflow" title="Permalink to this headline">¶</a></h3>
<p>CD into the directory where the dax was generated:</p>
<div class="highlight-python"><div class="highlight"><pre>cd GRB${GRB_NAME}
</pre></div>
</div>
<p>From the directory where the dax was created, run the submission script:</p>
<div class="highlight-python"><div class="highlight"><pre>pycbc_submit_dax --dax pygrb.dax --accounting-group &lt;your.accounting.group.tag&gt;
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If running on the ARCCA cluster, please provide a suitable directory via
the option &#8211;local-dir, ie. /var/tmp</p>
</div>
</div>
<div class="section" id="monitor-and-debug-the-workflow-detailed-pegasus-documentation">
<h3>Monitor and Debug the Workflow (<a class="reference external" href="https://pegasus.isi.edu/wms/docs/latest/tutorial.php#idm78622034400">Detailed Pegasus Documentation</a>)<a class="headerlink" href="#monitor-and-debug-the-workflow-detailed-pegasus-documentation" title="Permalink to this headline">¶</a></h3>
<p>To monitor the above workflow, one would run:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">pegasus</span><span class="o">-</span><span class="n">status</span> <span class="o">/</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">analysis</span><span class="o">/</span><span class="n">run</span>
</pre></div>
</div>
<p>To get debugging information in the case of failures.:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">pegasus</span><span class="o">-</span><span class="n">analyzer</span> <span class="o">/</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">analysis</span><span class="o">/</span><span class="n">run</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="workflow-visualization">
<h2>Workflow visualization<a class="headerlink" href="#workflow-visualization" title="Permalink to this headline">¶</a></h2>
<div class="section" id="pegasus-dashboard">
<h3>Pegasus Dashboard<a class="headerlink" href="#pegasus-dashboard" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference external" href="http://pegasus.isi.edu/wms/docs/latest/ch02s11.php">pegeasus dashboard</a>
is a visual and interactive way to get information about the progress, status,
etc of your workflows.</p>
<p>The software can be obtained from a seprate pegasus package here
&lt;<a class="reference external" href="https://github.com/pegasus-isi/pegasus-service">https://github.com/pegasus-isi/pegasus-service</a>&gt;.</p>
</div>
<div class="section" id="pegasus-plots">
<h3>Pegasus Plots<a class="headerlink" href="#pegasus-plots" title="Permalink to this headline">¶</a></h3>
<p>Pegasus has a tool called pegasus-plan to visualize workflows. To generate
these charts and create an summary html page with this information, one would
run:</p>
<div class="highlight-python"><div class="highlight"><pre>export PPLOTSDIR=${HTMLDIR}/pegasus_plots
pegasus-plots --plotting-level all --output ${PPLOTSDIR} /path/to/analysis/run
</pre></div>
</div>
<p>The Invocation Breakdown Chart section gives a snapshot of the workflow. You
can click on the slices of the pie chart and it will report the number of
failures, average runtime, and max/min runtime for that type of jobs in the
workflow. The radio button labeled runtime will organize the pie chart by total
runtime rather than the total number of jobs for each job type.</p>
<p>The Workflow Execution Gantt Chart section breaks down the workflow how long it
took to run each job. You can click on a job in the gantt chart and it will
report the job name and runtime.</p>
<p>The Host Over Time Chart section displays a gantt chart where you can see what
jobs in the workflow ran on a given machine.</p>
</div>
</div>
<div class="section" id="reuse-of-workflow-file-products">
<span id="pygrbreuse"></span><h2>Reuse of workflow file products<a class="headerlink" href="#reuse-of-workflow-file-products" title="Permalink to this headline">¶</a></h2>
<p>One of the features of  Pegasus is to reuse the data products of prior runs.
This can be used to expand an analysis or recover a run with mistaken settings
without duplicating work.</p>
<div class="section" id="generate-the-full-workflow-you-want-to-do">
<h3>Generate the full workflow you want to do<a class="headerlink" href="#generate-the-full-workflow-you-want-to-do" title="Permalink to this headline">¶</a></h3>
<p>First generate the full workflow for the run you would like to do as normal,
following the instructions of this page from <a class="reference internal" href="#howtorunpygrb"><span>How to run</span></a>, but stop
before planning the workflow in <a class="reference internal" href="#pygrbplan"><span>Planning and Submitting the Workflow</span></a>.</p>
</div>
<div class="section" id="select-the-files-you-want-to-reuse-from-the-prior-run">
<h3>Select the files you want to reuse from the prior run<a class="headerlink" href="#select-the-files-you-want-to-reuse-from-the-prior-run" title="Permalink to this headline">¶</a></h3>
<p>Locate the directory of the run that you would like to reuse. There is a file
called GRB${GRB_NAME}/output.map, that contains a listing of all of the data
products of the prior workflow.</p>
<p>Select the entries for files that you would like to skip generating again and
place that into a new file. The example below selects all the inspiral and
tmpltbank jobs and places their entries into a new listing called
prior_data.map.:</p>
<div class="highlight-python"><div class="highlight"><pre># Lets get the tmpltbank entries
cat /path/to/old/run/GRB${GRB_NAME}/output.map | grep &#39;TMPLTBANK&#39; &gt; prior_data.map

# Add in the inspiral  files
cat /path/to/old/run/GRB${GRB_NAME}/output.map | grep &#39;INSPIRAL&#39; &gt;&gt; prior_data.map
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">You can include files in the prior data listing that wouldn&#8217;t be generated
anyway by your new run. These are simply ignored.</p>
</div>
</div>
<div class="section" id="plan-the-workflow">
<h3>Plan the workflow<a class="headerlink" href="#plan-the-workflow" title="Permalink to this headline">¶</a></h3>
<p>From the directory where the dax was created, run the planning script:</p>
<div class="highlight-python"><div class="highlight"><pre>pycbc_submit_dax --dax pygrb.dax --accounting-group &lt;your.accounting.group.tag&gt; --cache-file /path/to/prior_data.map
</pre></div>
</div>
<p>Follow the remaining <a class="reference internal" href="#pygrbplan"><span>Planning and Submitting the Workflow</span></a> instructions to submit your reduced
workflow.</p>
</div>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="initialization.html" class="btn btn-neutral float-right" title="Pycbc’s workflow module configuration file(s) and command line interface" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="pycbc_make_sngl_workflow.html" class="btn btn-neutral" title="pycbc_make_sngl_workflow: A single-ifo detchar tool" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014, Alexander Nitz.
      Last updated on Sep 25, 2015.
    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>